var R1=Object.defineProperty;var L1=(n,t,e)=>t in n?R1(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ct=(n,t,e)=>(L1(n,typeof t!="symbol"?t+"":t,e),e);import{aY as N1,z as B1,aZ as qs,y as Xg,_ as qt,k as st,o as D,l as M,v as O,J as St,K as ze,I as at,x as H,F as Q,q as K,Z as la,c as ir,ap as ca,B as Ce,E as rn,W as xn,X as Ds,t as te,L as At,G as bt,m as yt,f as _n,an as V1,C as Es,N as qo,U as j1,a7 as z1,a5 as U1,V as gu,a9 as W1,am as Zg,aV as H1,a$ as Jg,b0 as Y1,af as he,aq as tl,a2 as qr,ad as el,s as nl,aD as Sc,T as ua,D as es,A as K1,ae as G1,b1 as X1,j as Qg,S as fh,ak as Z1,P as $g,M as hh,g as J1,ah as pu,aB as Q1,R as qg,ai as $1,b2 as q1,ag as tS,b3 as eS,b4 as gh,b5 as nS,a8 as iS,a4 as sS,a6 as rS,b6 as aS,a3 as oS}from"./bootstrap.js";import{a as lS,A as cS}from"./AdminNavigationBar.js";import{_ as uS,C as dS,T as fS,a as hS}from"./DataTableActions.js";import{C as mu}from"./Checkbox.js";import{R as wc}from"./vue-router.js";var tp={exports:{}};/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ph(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,s)}return e}function mi(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ph(Object(e),!0).forEach(function(s){gS(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ph(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}function ko(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ko=function(t){return typeof t}:ko=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(n)}function gS(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Xn(){return Xn=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Xn.apply(this,arguments)}function pS(n,t){if(n==null)return{};var e={},s=Object.keys(n),i,r;for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}function mS(n,t){if(n==null)return{};var e=pS(n,t),s,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(e[s]=n[s])}return e}function vS(n){return bS(n)||yS(n)||_S(n)||xS()}function bS(n){if(Array.isArray(n))return Gc(n)}function yS(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function _S(n,t){if(n){if(typeof n=="string")return Gc(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Gc(n,t)}}function Gc(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,s=new Array(t);e<t;e++)s[e]=n[e];return s}function xS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var SS="1.14.0";function Pi(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Ii=Pi(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),da=Pi(/Edge/i),mh=Pi(/firefox/i),Wr=Pi(/safari/i)&&!Pi(/chrome/i)&&!Pi(/android/i),ep=Pi(/iP(ad|od|hone)/i),wS=Pi(/chrome/i)&&Pi(/android/i),np={capture:!1,passive:!1};function Gt(n,t,e){n.addEventListener(t,e,!Ii&&np)}function Ut(n,t,e){n.removeEventListener(t,e,!Ii&&np)}function Vo(n,t){if(t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch{return!1}return!1}}function CS(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function si(n,t,e,s){if(n){e=e||document;do{if(t!=null&&(t[0]===">"?n.parentNode===e&&Vo(n,t):Vo(n,t))||s&&n===e)return n;if(n===e)break}while(n=CS(n))}return null}var vh=/\s+/g;function Fe(n,t,e){if(n&&t)if(n.classList)n.classList[e?"add":"remove"](t);else{var s=(" "+n.className+" ").replace(vh," ").replace(" "+t+" "," ");n.className=(s+(e?" "+t:"")).replace(vh," ")}}function mt(n,t,e){var s=n&&n.style;if(s){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(e=n.currentStyle),t===void 0?e:e[t];!(t in s)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),s[t]=e+(typeof e=="string"?"":"px")}}function ks(n,t){var e="";if(typeof n=="string")e=n;else do{var s=mt(n,"transform");s&&s!=="none"&&(e=s+" "+e)}while(!t&&(n=n.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(e)}function ip(n,t,e){if(n){var s=n.getElementsByTagName(t),i=0,r=s.length;if(e)for(;i<r;i++)e(s[i],i);return s}return[]}function gi(){var n=document.scrollingElement;return n||document.documentElement}function we(n,t,e,s,i){if(!(!n.getBoundingClientRect&&n!==window)){var r,a,l,u,d,f,g;if(n!==window&&n.parentNode&&n!==gi()?(r=n.getBoundingClientRect(),a=r.top,l=r.left,u=r.bottom,d=r.right,f=r.height,g=r.width):(a=0,l=0,u=window.innerHeight,d=window.innerWidth,f=window.innerHeight,g=window.innerWidth),(t||e)&&n!==window&&(i=i||n.parentNode,!Ii))do if(i&&i.getBoundingClientRect&&(mt(i,"transform")!=="none"||e&&mt(i,"position")!=="static")){var p=i.getBoundingClientRect();a-=p.top+parseInt(mt(i,"border-top-width")),l-=p.left+parseInt(mt(i,"border-left-width")),u=a+r.height,d=l+r.width;break}while(i=i.parentNode);if(s&&n!==window){var v=ks(i||n),b=v&&v.a,y=v&&v.d;v&&(a/=y,l/=b,g/=b,f/=y,u=a+f,d=l+g)}return{top:a,left:l,bottom:u,right:d,width:g,height:f}}}function bh(n,t,e){for(var s=Gi(n,!0),i=we(n)[t];s;){var r=we(s)[e],a=void 0;if(e==="top"||e==="left"?a=i>=r:a=i<=r,!a)return s;if(s===gi())break;s=Gi(s,!1)}return!1}function sr(n,t,e,s){for(var i=0,r=0,a=n.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==Ft.ghost&&(s||a[r]!==Ft.dragged)&&si(a[r],e.draggable,n,!1)){if(i===t)return a[r];i++}r++}return null}function vu(n,t){for(var e=n.lastElementChild;e&&(e===Ft.ghost||mt(e,"display")==="none"||t&&!Vo(e,t));)e=e.previousElementSibling;return e||null}function Te(n,t){var e=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==Ft.clone&&(!t||Vo(n,t))&&e++;return e}function yh(n){var t=0,e=0,s=gi();if(n)do{var i=ks(n),r=i.a,a=i.d;t+=n.scrollLeft*r,e+=n.scrollTop*a}while(n!==s&&(n=n.parentNode));return[t,e]}function kS(n,t){for(var e in n)if(n.hasOwnProperty(e)){for(var s in t)if(t.hasOwnProperty(s)&&t[s]===n[e][s])return Number(e)}return-1}function Gi(n,t){if(!n||!n.getBoundingClientRect)return gi();var e=n,s=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var i=mt(e);if(e.clientWidth<e.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return gi();if(s||t)return e;s=!0}}while(e=e.parentNode);return gi()}function OS(n,t){if(n&&t)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Cc(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}var Hr;function sp(n,t){return function(){if(!Hr){var e=arguments,s=this;e.length===1?n.call(s,e[0]):n.apply(s,e),Hr=setTimeout(function(){Hr=void 0},t)}}}function FS(){clearTimeout(Hr),Hr=void 0}function rp(n,t,e){n.scrollLeft+=t,n.scrollTop+=e}function bu(n){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):e?e(n).clone(!0)[0]:n.cloneNode(!0)}function _h(n,t){mt(n,"position","absolute"),mt(n,"top",t.top),mt(n,"left",t.left),mt(n,"width",t.width),mt(n,"height",t.height)}function kc(n){mt(n,"position",""),mt(n,"top",""),mt(n,"left",""),mt(n,"width",""),mt(n,"height","")}var sn="Sortable"+new Date().getTime();function DS(){var n=[],t;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(i){if(!(mt(i,"display")==="none"||i===Ft.ghost)){n.push({target:i,rect:we(i)});var r=mi({},n[n.length-1].rect);if(i.thisAnimationDuration){var a=ks(i,!0);a&&(r.top-=a.f,r.left-=a.e)}i.fromRect=r}})}},addAnimationState:function(s){n.push(s)},removeAnimationState:function(s){n.splice(kS(n,{target:s}),1)},animateAll:function(s){var i=this;if(!this.options.animation){clearTimeout(t),typeof s=="function"&&s();return}var r=!1,a=0;n.forEach(function(l){var u=0,d=l.target,f=d.fromRect,g=we(d),p=d.prevFromRect,v=d.prevToRect,b=l.rect,y=ks(d,!0);y&&(g.top-=y.f,g.left-=y.e),d.toRect=g,d.thisAnimationDuration&&Cc(p,g)&&!Cc(f,g)&&(b.top-g.top)/(b.left-g.left)===(f.top-g.top)/(f.left-g.left)&&(u=AS(b,p,v,i.options)),Cc(g,f)||(d.prevFromRect=f,d.prevToRect=g,u||(u=i.options.animation),i.animate(d,b,g,u)),u&&(r=!0,a=Math.max(a,u),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},u),d.thisAnimationDuration=u)}),clearTimeout(t),r?t=setTimeout(function(){typeof s=="function"&&s()},a):typeof s=="function"&&s(),n=[]},animate:function(s,i,r,a){if(a){mt(s,"transition",""),mt(s,"transform","");var l=ks(this.el),u=l&&l.a,d=l&&l.d,f=(i.left-r.left)/(u||1),g=(i.top-r.top)/(d||1);s.animatingX=!!f,s.animatingY=!!g,mt(s,"transform","translate3d("+f+"px,"+g+"px,0)"),this.forRepaintDummy=ES(s),mt(s,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),mt(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){mt(s,"transition",""),mt(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},a)}}}}function ES(n){return n.offsetWidth}function AS(n,t,e,s){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*s.animation}var Xs=[],Oc={initializeByDefault:!0},fa={mount:function(t){for(var e in Oc)Oc.hasOwnProperty(e)&&!(e in t)&&(t[e]=Oc[e]);Xs.forEach(function(s){if(s.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Xs.push(t)},pluginEvent:function(t,e,s){var i=this;this.eventCanceled=!1,s.cancel=function(){i.eventCanceled=!0};var r=t+"Global";Xs.forEach(function(a){e[a.pluginName]&&(e[a.pluginName][r]&&e[a.pluginName][r](mi({sortable:e},s)),e.options[a.pluginName]&&e[a.pluginName][t]&&e[a.pluginName][t](mi({sortable:e},s)))})},initializePlugins:function(t,e,s,i){Xs.forEach(function(l){var u=l.pluginName;if(!(!t.options[u]&&!l.initializeByDefault)){var d=new l(t,e,t.options);d.sortable=t,d.options=t.options,t[u]=d,Xn(s,d.defaults)}});for(var r in t.options)if(t.options.hasOwnProperty(r)){var a=this.modifyOption(t,r,t.options[r]);typeof a<"u"&&(t.options[r]=a)}},getEventProperties:function(t,e){var s={};return Xs.forEach(function(i){typeof i.eventProperties=="function"&&Xn(s,i.eventProperties.call(e[i.pluginName],t))}),s},modifyOption:function(t,e,s){var i;return Xs.forEach(function(r){t[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[e]=="function"&&(i=r.optionListeners[e].call(t[r.pluginName],s))}),i}};function Pr(n){var t=n.sortable,e=n.rootEl,s=n.name,i=n.targetEl,r=n.cloneEl,a=n.toEl,l=n.fromEl,u=n.oldIndex,d=n.newIndex,f=n.oldDraggableIndex,g=n.newDraggableIndex,p=n.originalEvent,v=n.putSortable,b=n.extraEventProperties;if(t=t||e&&e[sn],!!t){var y,S=t.options,k="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!Ii&&!da?y=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(s,!0,!0)),y.to=a||e,y.from=l||e,y.item=i||e,y.clone=r,y.oldIndex=u,y.newIndex=d,y.oldDraggableIndex=f,y.newDraggableIndex=g,y.originalEvent=p,y.pullMode=v?v.lastPutMode:void 0;var F=mi(mi({},b),fa.getEventProperties(s,t));for(var P in F)y[P]=F[P];e&&e.dispatchEvent(y),S[k]&&S[k].call(t,y)}}var TS=["evt"],mn=function(t,e){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.evt,r=mS(s,TS);fa.pluginEvent.bind(Ft)(t,e,mi({dragEl:ut,parentEl:Ee,ghostEl:Rt,rootEl:Se,nextEl:xs,lastDownEl:Oo,cloneEl:Ae,cloneHidden:Ki,dragStarted:Ir,putSortable:Qe,activeSortable:Ft.active,originalEvent:i,oldIndex:er,oldDraggableIndex:Yr,newIndex:Tn,newDraggableIndex:Hi,hideGhostForTarget:cp,unhideGhostForTarget:up,cloneNowHidden:function(){Ki=!0},cloneNowShown:function(){Ki=!1},dispatchSortableEvent:function(l){dn({sortable:e,name:l,originalEvent:i})}},r))};function dn(n){Pr(mi({putSortable:Qe,cloneEl:Ae,targetEl:ut,rootEl:Se,oldIndex:er,oldDraggableIndex:Yr,newIndex:Tn,newDraggableIndex:Hi},n))}var ut,Ee,Rt,Se,xs,Oo,Ae,Ki,er,Tn,Yr,Hi,so,Qe,tr=!1,jo=!1,zo=[],ps,ni,Fc,Dc,xh,Sh,Ir,Zs,Kr,Gr=!1,ro=!1,Fo,en,Ec=[],Xc=!1,Uo=[],il=typeof document<"u",ao=ep,wh=da||Ii?"cssFloat":"float",MS=il&&!wS&&!ep&&"draggable"in document.createElement("div"),ap=function(){if(il){if(Ii)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),op=function(t,e){var s=mt(t),i=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),r=sr(t,0,e),a=sr(t,1,e),l=r&&mt(r),u=a&&mt(a),d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+we(r).width,f=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+we(a).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var g=l.float==="left"?"left":"right";return a&&(u.clear==="both"||u.clear===g)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||d>=i&&s[wh]==="none"||a&&s[wh]==="none"&&d+f>i)?"vertical":"horizontal"},PS=function(t,e,s){var i=s?t.left:t.top,r=s?t.right:t.bottom,a=s?t.width:t.height,l=s?e.left:e.top,u=s?e.right:e.bottom,d=s?e.width:e.height;return i===l||r===u||i+a/2===l+d/2},IS=function(t,e){var s;return zo.some(function(i){var r=i[sn].options.emptyInsertThreshold;if(!(!r||vu(i))){var a=we(i),l=t>=a.left-r&&t<=a.right+r,u=e>=a.top-r&&e<=a.bottom+r;if(l&&u)return s=i}}),s},lp=function(t){function e(r,a){return function(l,u,d,f){var g=l.options.group.name&&u.options.group.name&&l.options.group.name===u.options.group.name;if(r==null&&(a||g))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return e(r(l,u,d,f),a)(l,u,d,f);var p=(a?l:u).options.group.name;return r===!0||typeof r=="string"&&r===p||r.join&&r.indexOf(p)>-1}}var s={},i=t.group;(!i||ko(i)!="object")&&(i={name:i}),s.name=i.name,s.checkPull=e(i.pull,!0),s.checkPut=e(i.put),s.revertClone=i.revertClone,t.group=s},cp=function(){!ap&&Rt&&mt(Rt,"display","none")},up=function(){!ap&&Rt&&mt(Rt,"display","")};il&&document.addEventListener("click",function(n){if(jo)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),jo=!1,!1},!0);var ms=function(t){if(ut){t=t.touches?t.touches[0]:t;var e=IS(t.clientX,t.clientY);if(e){var s={};for(var i in t)t.hasOwnProperty(i)&&(s[i]=t[i]);s.target=s.rootEl=e,s.preventDefault=void 0,s.stopPropagation=void 0,e[sn]._onDragOver(s)}}},RS=function(t){ut&&ut.parentNode[sn]._isOutsideThisEl(t.target)};function Ft(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=Xn({},t),n[sn]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return op(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ft.supportPointer!==!1&&"PointerEvent"in window&&!Wr,emptyInsertThreshold:5};fa.initializePlugins(this,n,e);for(var s in e)!(s in t)&&(t[s]=e[s]);lp(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:MS,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Gt(n,"pointerdown",this._onTapStart):(Gt(n,"mousedown",this._onTapStart),Gt(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(Gt(n,"dragover",this),Gt(n,"dragenter",this)),zo.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Xn(this,DS())}Ft.prototype={constructor:Ft,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Zs=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,ut):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,s=this.el,i=this.options,r=i.preventOnFilter,a=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(l||t).target,d=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,f=i.filter;if(WS(s),!ut&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||i.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Wr&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=si(u,i.draggable,s,!1),!(u&&u.animated)&&Oo!==u)){if(er=Te(u),Yr=Te(u,i.draggable),typeof f=="function"){if(f.call(this,t,u,this)){dn({sortable:e,rootEl:d,name:"filter",targetEl:u,toEl:s,fromEl:s}),mn("filter",e,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(g){if(g=si(d,g.trim(),s,!1),g)return dn({sortable:e,rootEl:g,name:"filter",targetEl:u,fromEl:s,toEl:s}),mn("filter",e,{evt:t}),!0}),f)){r&&t.cancelable&&t.preventDefault();return}i.handle&&!si(d,i.handle,s,!1)||this._prepareDragStart(t,l,u)}}},_prepareDragStart:function(t,e,s){var i=this,r=i.el,a=i.options,l=r.ownerDocument,u;if(s&&!ut&&s.parentNode===r){var d=we(s);if(Se=r,ut=s,Ee=ut.parentNode,xs=ut.nextSibling,Oo=s,so=a.group,Ft.dragged=ut,ps={target:ut,clientX:(e||t).clientX,clientY:(e||t).clientY},xh=ps.clientX-d.left,Sh=ps.clientY-d.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,ut.style["will-change"]="all",u=function(){if(mn("delayEnded",i,{evt:t}),Ft.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!mh&&i.nativeDraggable&&(ut.draggable=!0),i._triggerDragStart(t,e),dn({sortable:i,name:"choose",originalEvent:t}),Fe(ut,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){ip(ut,f.trim(),Ac)}),Gt(l,"dragover",ms),Gt(l,"mousemove",ms),Gt(l,"touchmove",ms),Gt(l,"mouseup",i._onDrop),Gt(l,"touchend",i._onDrop),Gt(l,"touchcancel",i._onDrop),mh&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ut.draggable=!0),mn("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(da||Ii))){if(Ft.eventCanceled){this._onDrop();return}Gt(l,"mouseup",i._disableDelayedDrag),Gt(l,"touchend",i._disableDelayedDrag),Gt(l,"touchcancel",i._disableDelayedDrag),Gt(l,"mousemove",i._delayedDragTouchMoveHandler),Gt(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&Gt(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(u,a.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ut&&Ac(ut),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Ut(t,"mouseup",this._disableDelayedDrag),Ut(t,"touchend",this._disableDelayedDrag),Ut(t,"touchcancel",this._disableDelayedDrag),Ut(t,"mousemove",this._delayedDragTouchMoveHandler),Ut(t,"touchmove",this._delayedDragTouchMoveHandler),Ut(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?Gt(document,"pointermove",this._onTouchMove):e?Gt(document,"touchmove",this._onTouchMove):Gt(document,"mousemove",this._onTouchMove):(Gt(ut,"dragend",this),Gt(Se,"dragstart",this._onDragStart));try{document.selection?Do(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(tr=!1,Se&&ut){mn("dragStarted",this,{evt:e}),this.nativeDraggable&&Gt(document,"dragover",RS);var s=this.options;!t&&Fe(ut,s.dragClass,!1),Fe(ut,s.ghostClass,!0),Ft.active=this,t&&this._appendGhost(),dn({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(ni){this._lastX=ni.clientX,this._lastY=ni.clientY,cp();for(var t=document.elementFromPoint(ni.clientX,ni.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ni.clientX,ni.clientY),t!==e);)e=t;if(ut.parentNode[sn]._isOutsideThisEl(t),e)do{if(e[sn]){var s=void 0;if(s=e[sn]._onDragOver({clientX:ni.clientX,clientY:ni.clientY,target:t,rootEl:e}),s&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);up()}},_onTouchMove:function(t){if(ps){var e=this.options,s=e.fallbackTolerance,i=e.fallbackOffset,r=t.touches?t.touches[0]:t,a=Rt&&ks(Rt,!0),l=Rt&&a&&a.a,u=Rt&&a&&a.d,d=ao&&en&&yh(en),f=(r.clientX-ps.clientX+i.x)/(l||1)+(d?d[0]-Ec[0]:0)/(l||1),g=(r.clientY-ps.clientY+i.y)/(u||1)+(d?d[1]-Ec[1]:0)/(u||1);if(!Ft.active&&!tr){if(s&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<s)return;this._onDragStart(t,!0)}if(Rt){a?(a.e+=f-(Fc||0),a.f+=g-(Dc||0)):a={a:1,b:0,c:0,d:1,e:f,f:g};var p="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");mt(Rt,"webkitTransform",p),mt(Rt,"mozTransform",p),mt(Rt,"msTransform",p),mt(Rt,"transform",p),Fc=f,Dc=g,ni=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Rt){var t=this.options.fallbackOnBody?document.body:Se,e=we(ut,!0,ao,!0,t),s=this.options;if(ao){for(en=t;mt(en,"position")==="static"&&mt(en,"transform")==="none"&&en!==document;)en=en.parentNode;en!==document.body&&en!==document.documentElement?(en===document&&(en=gi()),e.top+=en.scrollTop,e.left+=en.scrollLeft):en=gi(),Ec=yh(en)}Rt=ut.cloneNode(!0),Fe(Rt,s.ghostClass,!1),Fe(Rt,s.fallbackClass,!0),Fe(Rt,s.dragClass,!0),mt(Rt,"transition",""),mt(Rt,"transform",""),mt(Rt,"box-sizing","border-box"),mt(Rt,"margin",0),mt(Rt,"top",e.top),mt(Rt,"left",e.left),mt(Rt,"width",e.width),mt(Rt,"height",e.height),mt(Rt,"opacity","0.8"),mt(Rt,"position",ao?"absolute":"fixed"),mt(Rt,"zIndex","100000"),mt(Rt,"pointerEvents","none"),Ft.ghost=Rt,t.appendChild(Rt),mt(Rt,"transform-origin",xh/parseInt(Rt.style.width)*100+"% "+Sh/parseInt(Rt.style.height)*100+"%")}},_onDragStart:function(t,e){var s=this,i=t.dataTransfer,r=s.options;if(mn("dragStart",this,{evt:t}),Ft.eventCanceled){this._onDrop();return}mn("setupClone",this),Ft.eventCanceled||(Ae=bu(ut),Ae.draggable=!1,Ae.style["will-change"]="",this._hideClone(),Fe(Ae,this.options.chosenClass,!1),Ft.clone=Ae),s.cloneId=Do(function(){mn("clone",s),!Ft.eventCanceled&&(s.options.removeCloneOnHide||Se.insertBefore(Ae,ut),s._hideClone(),dn({sortable:s,name:"clone"}))}),!e&&Fe(ut,r.dragClass,!0),e?(jo=!0,s._loopId=setInterval(s._emulateDragOver,50)):(Ut(document,"mouseup",s._onDrop),Ut(document,"touchend",s._onDrop),Ut(document,"touchcancel",s._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(s,i,ut)),Gt(document,"drop",s),mt(ut,"transform","translateZ(0)")),tr=!0,s._dragStartId=Do(s._dragStarted.bind(s,e,t)),Gt(document,"selectstart",s),Ir=!0,Wr&&mt(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,s=t.target,i,r,a,l=this.options,u=l.group,d=Ft.active,f=so===u,g=l.sort,p=Qe||d,v,b=this,y=!1;if(Xc)return;function S(_t,Pt){mn(_t,b,mi({evt:t,isOwner:f,axis:v?"vertical":"horizontal",revert:a,dragRect:i,targetRect:r,canSort:g,fromSortable:p,target:s,completed:F,onMove:function(jt,ee){return oo(Se,e,ut,i,jt,we(jt),t,ee)},changed:P},Pt))}function k(){S("dragOverAnimationCapture"),b.captureAnimationState(),b!==p&&p.captureAnimationState()}function F(_t){return S("dragOverCompleted",{insertion:_t}),_t&&(f?d._hideClone():d._showClone(b),b!==p&&(Fe(ut,Qe?Qe.options.ghostClass:d.options.ghostClass,!1),Fe(ut,l.ghostClass,!0)),Qe!==b&&b!==Ft.active?Qe=b:b===Ft.active&&Qe&&(Qe=null),p===b&&(b._ignoreWhileAnimating=s),b.animateAll(function(){S("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(s===ut&&!ut.animated||s===e&&!s.animated)&&(Zs=null),!l.dragoverBubble&&!t.rootEl&&s!==document&&(ut.parentNode[sn]._isOutsideThisEl(t.target),!_t&&ms(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),y=!0}function P(){Tn=Te(ut),Hi=Te(ut,l.draggable),dn({sortable:b,name:"change",toEl:e,newIndex:Tn,newDraggableIndex:Hi,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),s=si(s,l.draggable,e,!0),S("dragOver"),Ft.eventCanceled)return y;if(ut.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||b._ignoreWhileAnimating===s)return F(!1);if(jo=!1,d&&!l.disabled&&(f?g||(a=Ee!==Se):Qe===this||(this.lastPutMode=so.checkPull(this,d,ut,t))&&u.checkPut(this,d,ut,t))){if(v=this._getDirection(t,s)==="vertical",i=we(ut),S("dragOverValid"),Ft.eventCanceled)return y;if(a)return Ee=Se,k(),this._hideClone(),S("revert"),Ft.eventCanceled||(xs?Se.insertBefore(ut,xs):Se.appendChild(ut)),F(!0);var A=vu(e,l.draggable);if(!A||VS(t,v,this)&&!A.animated){if(A===ut)return F(!1);if(A&&e===t.target&&(s=A),s&&(r=we(s)),oo(Se,e,ut,i,s,r,t,!!s)!==!1)return k(),e.appendChild(ut),Ee=e,P(),F(!0)}else if(A&&BS(t,v,this)){var T=sr(e,0,l,!0);if(T===ut)return F(!1);if(s=T,r=we(s),oo(Se,e,ut,i,s,r,t,!1)!==!1)return k(),e.insertBefore(ut,T),Ee=e,P(),F(!0)}else if(s.parentNode===e){r=we(s);var R=0,z,W=ut.parentNode!==e,B=!PS(ut.animated&&ut.toRect||i,s.animated&&s.toRect||r,v),J=v?"top":"left",q=bh(s,"top","top")||bh(ut,"top","top"),lt=q?q.scrollTop:void 0;Zs!==s&&(z=r[J],Gr=!1,ro=!B&&l.invertSwap||W),R=jS(t,s,r,v,B?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,ro,Zs===s);var et;if(R!==0){var rt=Te(ut);do rt-=R,et=Ee.children[rt];while(et&&(mt(et,"display")==="none"||et===Rt))}if(R===0||et===s)return F(!1);Zs=s,Kr=R;var dt=s.nextElementSibling,nt=!1;nt=R===1;var ot=oo(Se,e,ut,i,s,r,t,nt);if(ot!==!1)return(ot===1||ot===-1)&&(nt=ot===1),Xc=!0,setTimeout(NS,30),k(),nt&&!dt?e.appendChild(ut):s.parentNode.insertBefore(ut,nt?dt:s),q&&rp(q,0,lt-q.scrollTop),Ee=ut.parentNode,z!==void 0&&!ro&&(Fo=Math.abs(z-we(s)[J])),P(),F(!0)}if(e.contains(ut))return F(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ut(document,"mousemove",this._onTouchMove),Ut(document,"touchmove",this._onTouchMove),Ut(document,"pointermove",this._onTouchMove),Ut(document,"dragover",ms),Ut(document,"mousemove",ms),Ut(document,"touchmove",ms)},_offUpEvents:function(){var t=this.el.ownerDocument;Ut(t,"mouseup",this._onDrop),Ut(t,"touchend",this._onDrop),Ut(t,"pointerup",this._onDrop),Ut(t,"touchcancel",this._onDrop),Ut(document,"selectstart",this)},_onDrop:function(t){var e=this.el,s=this.options;if(Tn=Te(ut),Hi=Te(ut,s.draggable),mn("drop",this,{evt:t}),Ee=ut&&ut.parentNode,Tn=Te(ut),Hi=Te(ut,s.draggable),Ft.eventCanceled){this._nulling();return}tr=!1,ro=!1,Gr=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Zc(this.cloneId),Zc(this._dragStartId),this.nativeDraggable&&(Ut(document,"drop",this),Ut(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Wr&&mt(document.body,"user-select",""),mt(ut,"transform",""),t&&(Ir&&(t.cancelable&&t.preventDefault(),!s.dropBubble&&t.stopPropagation()),Rt&&Rt.parentNode&&Rt.parentNode.removeChild(Rt),(Se===Ee||Qe&&Qe.lastPutMode!=="clone")&&Ae&&Ae.parentNode&&Ae.parentNode.removeChild(Ae),ut&&(this.nativeDraggable&&Ut(ut,"dragend",this),Ac(ut),ut.style["will-change"]="",Ir&&!tr&&Fe(ut,Qe?Qe.options.ghostClass:this.options.ghostClass,!1),Fe(ut,this.options.chosenClass,!1),dn({sortable:this,name:"unchoose",toEl:Ee,newIndex:null,newDraggableIndex:null,originalEvent:t}),Se!==Ee?(Tn>=0&&(dn({rootEl:Ee,name:"add",toEl:Ee,fromEl:Se,originalEvent:t}),dn({sortable:this,name:"remove",toEl:Ee,originalEvent:t}),dn({rootEl:Ee,name:"sort",toEl:Ee,fromEl:Se,originalEvent:t}),dn({sortable:this,name:"sort",toEl:Ee,originalEvent:t})),Qe&&Qe.save()):Tn!==er&&Tn>=0&&(dn({sortable:this,name:"update",toEl:Ee,originalEvent:t}),dn({sortable:this,name:"sort",toEl:Ee,originalEvent:t})),Ft.active&&((Tn==null||Tn===-1)&&(Tn=er,Hi=Yr),dn({sortable:this,name:"end",toEl:Ee,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){mn("nulling",this),Se=ut=Ee=Rt=xs=Ae=Oo=Ki=ps=ni=Ir=Tn=Hi=er=Yr=Zs=Kr=Qe=so=Ft.dragged=Ft.ghost=Ft.clone=Ft.active=null,Uo.forEach(function(t){t.checked=!0}),Uo.length=Fc=Dc=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ut&&(this._onDragOver(t),LS(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,s=this.el.children,i=0,r=s.length,a=this.options;i<r;i++)e=s[i],si(e,a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||US(e));return t},sort:function(t,e){var s={},i=this.el;this.toArray().forEach(function(r,a){var l=i.children[a];si(l,this.options.draggable,i,!1)&&(s[r]=l)},this),e&&this.captureAnimationState(),t.forEach(function(r){s[r]&&(i.removeChild(s[r]),i.appendChild(s[r]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return si(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var s=this.options;if(e===void 0)return s[t];var i=fa.modifyOption(this,t,e);typeof i<"u"?s[t]=i:s[t]=e,t==="group"&&lp(s)},destroy:function(){mn("destroy",this);var t=this.el;t[sn]=null,Ut(t,"mousedown",this._onTapStart),Ut(t,"touchstart",this._onTapStart),Ut(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ut(t,"dragover",this),Ut(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),zo.splice(zo.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Ki){if(mn("hideClone",this),Ft.eventCanceled)return;mt(Ae,"display","none"),this.options.removeCloneOnHide&&Ae.parentNode&&Ae.parentNode.removeChild(Ae),Ki=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Ki){if(mn("showClone",this),Ft.eventCanceled)return;ut.parentNode==Se&&!this.options.group.revertClone?Se.insertBefore(Ae,ut):xs?Se.insertBefore(Ae,xs):Se.appendChild(Ae),this.options.group.revertClone&&this.animate(ut,Ae),mt(Ae,"display",""),Ki=!1}}};function LS(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function oo(n,t,e,s,i,r,a,l){var u,d=n[sn],f=d.options.onMove,g;return window.CustomEvent&&!Ii&&!da?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=t,u.from=n,u.dragged=e,u.draggedRect=s,u.related=i||t,u.relatedRect=r||we(t),u.willInsertAfter=l,u.originalEvent=a,n.dispatchEvent(u),f&&(g=f.call(d,u,a)),g}function Ac(n){n.draggable=!1}function NS(){Xc=!1}function BS(n,t,e){var s=we(sr(e.el,0,e.options,!0)),i=10;return t?n.clientX<s.left-i||n.clientY<s.top&&n.clientX<s.right:n.clientY<s.top-i||n.clientY<s.bottom&&n.clientX<s.left}function VS(n,t,e){var s=we(vu(e.el,e.options.draggable)),i=10;return t?n.clientX>s.right+i||n.clientX<=s.right&&n.clientY>s.bottom&&n.clientX>=s.left:n.clientX>s.right&&n.clientY>s.top||n.clientX<=s.right&&n.clientY>s.bottom+i}function jS(n,t,e,s,i,r,a,l){var u=s?n.clientY:n.clientX,d=s?e.height:e.width,f=s?e.top:e.left,g=s?e.bottom:e.right,p=!1;if(!a){if(l&&Fo<d*i){if(!Gr&&(Kr===1?u>f+d*r/2:u<g-d*r/2)&&(Gr=!0),Gr)p=!0;else if(Kr===1?u<f+Fo:u>g-Fo)return-Kr}else if(u>f+d*(1-i)/2&&u<g-d*(1-i)/2)return zS(t)}return p=p||a,p&&(u<f+d*r/2||u>g-d*r/2)?u>f+d/2?1:-1:0}function zS(n){return Te(ut)<Te(n)?1:-1}function US(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,e=t.length,s=0;e--;)s+=t.charCodeAt(e);return s.toString(36)}function WS(n){Uo.length=0;for(var t=n.getElementsByTagName("input"),e=t.length;e--;){var s=t[e];s.checked&&Uo.push(s)}}function Do(n){return setTimeout(n,0)}function Zc(n){return clearTimeout(n)}il&&Gt(document,"touchmove",function(n){(Ft.active||tr)&&n.cancelable&&n.preventDefault()});Ft.utils={on:Gt,off:Ut,css:mt,find:ip,is:function(t,e){return!!si(t,e,t,!1)},extend:OS,throttle:sp,closest:si,toggleClass:Fe,clone:bu,index:Te,nextTick:Do,cancelNextTick:Zc,detectDirection:op,getChild:sr};Ft.get=function(n){return n[sn]};Ft.mount=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(Ft.utils=mi(mi({},Ft.utils),s.utils)),fa.mount(s)})};Ft.create=function(n,t){return new Ft(n,t)};Ft.version=SS;var je=[],Rr,Jc,Qc=!1,Tc,Mc,Wo,Lr;function HS(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return n.prototype={dragStarted:function(e){var s=e.originalEvent;this.sortable.nativeDraggable?Gt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Gt(document,"pointermove",this._handleFallbackAutoScroll):s.touches?Gt(document,"touchmove",this._handleFallbackAutoScroll):Gt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var s=e.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?Ut(document,"dragover",this._handleAutoScroll):(Ut(document,"pointermove",this._handleFallbackAutoScroll),Ut(document,"touchmove",this._handleFallbackAutoScroll),Ut(document,"mousemove",this._handleFallbackAutoScroll)),Ch(),Eo(),FS()},nulling:function(){Wo=Jc=Rr=Qc=Lr=Tc=Mc=null,je.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,s){var i=this,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=document.elementFromPoint(r,a);if(Wo=e,s||this.options.forceAutoScrollFallback||da||Ii||Wr){Pc(e,this.options,l,s);var u=Gi(l,!0);Qc&&(!Lr||r!==Tc||a!==Mc)&&(Lr&&Ch(),Lr=setInterval(function(){var d=Gi(document.elementFromPoint(r,a),!0);d!==u&&(u=d,Eo()),Pc(e,i.options,d,s)},10),Tc=r,Mc=a)}else{if(!this.options.bubbleScroll||Gi(l,!0)===gi()){Eo();return}Pc(e,this.options,Gi(l,!1),!1)}}},Xn(n,{pluginName:"scroll",initializeByDefault:!0})}function Eo(){je.forEach(function(n){clearInterval(n.pid)}),je=[]}function Ch(){clearInterval(Lr)}var Pc=sp(function(n,t,e,s){if(t.scroll){var i=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,u=gi(),d=!1,f;Jc!==e&&(Jc=e,Eo(),Rr=t.scroll,f=t.scrollFn,Rr===!0&&(Rr=Gi(e,!0)));var g=0,p=Rr;do{var v=p,b=we(v),y=b.top,S=b.bottom,k=b.left,F=b.right,P=b.width,A=b.height,T=void 0,R=void 0,z=v.scrollWidth,W=v.scrollHeight,B=mt(v),J=v.scrollLeft,q=v.scrollTop;v===u?(T=P<z&&(B.overflowX==="auto"||B.overflowX==="scroll"||B.overflowX==="visible"),R=A<W&&(B.overflowY==="auto"||B.overflowY==="scroll"||B.overflowY==="visible")):(T=P<z&&(B.overflowX==="auto"||B.overflowX==="scroll"),R=A<W&&(B.overflowY==="auto"||B.overflowY==="scroll"));var lt=T&&(Math.abs(F-i)<=a&&J+P<z)-(Math.abs(k-i)<=a&&!!J),et=R&&(Math.abs(S-r)<=a&&q+A<W)-(Math.abs(y-r)<=a&&!!q);if(!je[g])for(var rt=0;rt<=g;rt++)je[rt]||(je[rt]={});(je[g].vx!=lt||je[g].vy!=et||je[g].el!==v)&&(je[g].el=v,je[g].vx=lt,je[g].vy=et,clearInterval(je[g].pid),(lt!=0||et!=0)&&(d=!0,je[g].pid=setInterval((function(){s&&this.layer===0&&Ft.active._onTouchMove(Wo);var dt=je[this.layer].vy?je[this.layer].vy*l:0,nt=je[this.layer].vx?je[this.layer].vx*l:0;typeof f=="function"&&f.call(Ft.dragged.parentNode[sn],nt,dt,n,Wo,je[this.layer].el)!=="continue"||rp(je[this.layer].el,nt,dt)}).bind({layer:g}),24))),g++}while(t.bubbleScroll&&p!==u&&(p=Gi(p,!1)));Qc=d}},30),dp=function(t){var e=t.originalEvent,s=t.putSortable,i=t.dragEl,r=t.activeSortable,a=t.dispatchSortableEvent,l=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(e){var d=s||r;l();var f=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,g=document.elementFromPoint(f.clientX,f.clientY);u(),d&&!d.el.contains(g)&&(a("spill"),this.onSpill({dragEl:i,putSortable:s}))}};function yu(){}yu.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,s=t.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var i=sr(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(e,i):this.sortable.el.appendChild(e),this.sortable.animateAll(),s&&s.animateAll()},drop:dp};Xn(yu,{pluginName:"revertOnSpill"});function _u(){}_u.prototype={onSpill:function(t){var e=t.dragEl,s=t.putSortable,i=s||this.sortable;i.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),i.animateAll()},drop:dp};Xn(_u,{pluginName:"removeOnSpill"});var Kn;function YS(){function n(){this.defaults={swapClass:"sortable-swap-highlight"}}return n.prototype={dragStart:function(e){var s=e.dragEl;Kn=s},dragOverValid:function(e){var s=e.completed,i=e.target,r=e.onMove,a=e.activeSortable,l=e.changed,u=e.cancel;if(a.options.swap){var d=this.sortable.el,f=this.options;if(i&&i!==d){var g=Kn;r(i)!==!1?(Fe(i,f.swapClass,!0),Kn=i):Kn=null,g&&g!==Kn&&Fe(g,f.swapClass,!1)}l(),s(!0),u()}},drop:function(e){var s=e.activeSortable,i=e.putSortable,r=e.dragEl,a=i||this.sortable,l=this.options;Kn&&Fe(Kn,l.swapClass,!1),Kn&&(l.swap||i&&i.options.swap)&&r!==Kn&&(a.captureAnimationState(),a!==s&&s.captureAnimationState(),KS(r,Kn),a.animateAll(),a!==s&&s.animateAll())},nulling:function(){Kn=null}},Xn(n,{pluginName:"swap",eventProperties:function(){return{swapItem:Kn}}})}function KS(n,t){var e=n.parentNode,s=t.parentNode,i,r;!e||!s||e.isEqualNode(t)||s.isEqualNode(n)||(i=Te(n),r=Te(t),e.isEqualNode(s)&&i<r&&r++,e.insertBefore(t,e.children[i]),s.insertBefore(n,s.children[r]))}var Mt=[],An=[],kr,ii,Or=!1,vn=!1,Js=!1,fe,Fr,lo;function GS(){function n(t){for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this));t.options.supportPointer?Gt(document,"pointerup",this._deselectMultiDrag):(Gt(document,"mouseup",this._deselectMultiDrag),Gt(document,"touchend",this._deselectMultiDrag)),Gt(document,"keydown",this._checkKeyDown),Gt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,r){var a="";Mt.length&&ii===t?Mt.forEach(function(l,u){a+=(u?", ":"")+l.textContent}):a=r.textContent,i.setData("Text",a)}}}return n.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var s=e.dragEl;fe=s},delayEnded:function(){this.isMultiDrag=~Mt.indexOf(fe)},setupClone:function(e){var s=e.sortable,i=e.cancel;if(this.isMultiDrag){for(var r=0;r<Mt.length;r++)An.push(bu(Mt[r])),An[r].sortableIndex=Mt[r].sortableIndex,An[r].draggable=!1,An[r].style["will-change"]="",Fe(An[r],this.options.selectedClass,!1),Mt[r]===fe&&Fe(An[r],this.options.chosenClass,!1);s._hideClone(),i()}},clone:function(e){var s=e.sortable,i=e.rootEl,r=e.dispatchSortableEvent,a=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Mt.length&&ii===s&&(kh(!0,i),r("clone"),a()))},showClone:function(e){var s=e.cloneNowShown,i=e.rootEl,r=e.cancel;this.isMultiDrag&&(kh(!1,i),An.forEach(function(a){mt(a,"display","")}),s(),lo=!1,r())},hideClone:function(e){var s=this;e.sortable;var i=e.cloneNowHidden,r=e.cancel;this.isMultiDrag&&(An.forEach(function(a){mt(a,"display","none"),s.options.removeCloneOnHide&&a.parentNode&&a.parentNode.removeChild(a)}),i(),lo=!0,r())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&ii&&ii.multiDrag._deselectMultiDrag(),Mt.forEach(function(s){s.sortableIndex=Te(s)}),Mt=Mt.sort(function(s,i){return s.sortableIndex-i.sortableIndex}),Js=!0},dragStarted:function(e){var s=this,i=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){Mt.forEach(function(a){a!==fe&&mt(a,"position","absolute")});var r=we(fe,!1,!0,!0);Mt.forEach(function(a){a!==fe&&_h(a,r)}),vn=!0,Or=!0}i.animateAll(function(){vn=!1,Or=!1,s.options.animation&&Mt.forEach(function(a){kc(a)}),s.options.sort&&co()})}},dragOver:function(e){var s=e.target,i=e.completed,r=e.cancel;vn&&~Mt.indexOf(s)&&(i(!1),r())},revert:function(e){var s=e.fromSortable,i=e.rootEl,r=e.sortable,a=e.dragRect;Mt.length>1&&(Mt.forEach(function(l){r.addAnimationState({target:l,rect:vn?we(l):a}),kc(l),l.fromRect=a,s.removeAnimationState(l)}),vn=!1,XS(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(e){var s=e.sortable,i=e.isOwner,r=e.insertion,a=e.activeSortable,l=e.parentEl,u=e.putSortable,d=this.options;if(r){if(i&&a._hideClone(),Or=!1,d.animation&&Mt.length>1&&(vn||!i&&!a.options.sort&&!u)){var f=we(fe,!1,!0,!0);Mt.forEach(function(p){p!==fe&&(_h(p,f),l.appendChild(p))}),vn=!0}if(!i)if(vn||co(),Mt.length>1){var g=lo;a._showClone(s),a.options.animation&&!lo&&g&&An.forEach(function(p){a.addAnimationState({target:p,rect:Fr}),p.fromRect=Fr,p.thisAnimationDuration=null})}else a._showClone(s)}},dragOverAnimationCapture:function(e){var s=e.dragRect,i=e.isOwner,r=e.activeSortable;if(Mt.forEach(function(l){l.thisAnimationDuration=null}),r.options.animation&&!i&&r.multiDrag.isMultiDrag){Fr=Xn({},s);var a=ks(fe,!0);Fr.top-=a.f,Fr.left-=a.e}},dragOverAnimationComplete:function(){vn&&(vn=!1,co())},drop:function(e){var s=e.originalEvent,i=e.rootEl,r=e.parentEl,a=e.sortable,l=e.dispatchSortableEvent,u=e.oldIndex,d=e.putSortable,f=d||this.sortable;if(s){var g=this.options,p=r.children;if(!Js)if(g.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Fe(fe,g.selectedClass,!~Mt.indexOf(fe)),~Mt.indexOf(fe))Mt.splice(Mt.indexOf(fe),1),kr=null,Pr({sortable:a,rootEl:i,name:"deselect",targetEl:fe,originalEvt:s});else{if(Mt.push(fe),Pr({sortable:a,rootEl:i,name:"select",targetEl:fe,originalEvt:s}),s.shiftKey&&kr&&a.el.contains(kr)){var v=Te(kr),b=Te(fe);if(~v&&~b&&v!==b){var y,S;for(b>v?(S=v,y=b):(S=b,y=v+1);S<y;S++)~Mt.indexOf(p[S])||(Fe(p[S],g.selectedClass,!0),Mt.push(p[S]),Pr({sortable:a,rootEl:i,name:"select",targetEl:p[S],originalEvt:s}))}}else kr=fe;ii=f}if(Js&&this.isMultiDrag){if(vn=!1,(r[sn].options.sort||r!==i)&&Mt.length>1){var k=we(fe),F=Te(fe,":not(."+this.options.selectedClass+")");if(!Or&&g.animation&&(fe.thisAnimationDuration=null),f.captureAnimationState(),!Or&&(g.animation&&(fe.fromRect=k,Mt.forEach(function(A){if(A.thisAnimationDuration=null,A!==fe){var T=vn?we(A):k;A.fromRect=T,f.addAnimationState({target:A,rect:T})}})),co(),Mt.forEach(function(A){p[F]?r.insertBefore(A,p[F]):r.appendChild(A),F++}),u===Te(fe))){var P=!1;Mt.forEach(function(A){if(A.sortableIndex!==Te(A)){P=!0;return}}),P&&l("update")}Mt.forEach(function(A){kc(A)}),f.animateAll()}ii=f}(i===r||d&&d.lastPutMode!=="clone")&&An.forEach(function(A){A.parentNode&&A.parentNode.removeChild(A)})}},nullingGlobal:function(){this.isMultiDrag=Js=!1,An.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Ut(document,"pointerup",this._deselectMultiDrag),Ut(document,"mouseup",this._deselectMultiDrag),Ut(document,"touchend",this._deselectMultiDrag),Ut(document,"keydown",this._checkKeyDown),Ut(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(typeof Js<"u"&&Js)&&ii===this.sortable&&!(e&&si(e.target,this.options.draggable,this.sortable.el,!1))&&!(e&&e.button!==0))for(;Mt.length;){var s=Mt[0];Fe(s,this.options.selectedClass,!1),Mt.shift(),Pr({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:s,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Xn(n,{pluginName:"multiDrag",utils:{select:function(e){var s=e.parentNode[sn];!s||!s.options.multiDrag||~Mt.indexOf(e)||(ii&&ii!==s&&(ii.multiDrag._deselectMultiDrag(),ii=s),Fe(e,s.options.selectedClass,!0),Mt.push(e))},deselect:function(e){var s=e.parentNode[sn],i=Mt.indexOf(e);!s||!s.options.multiDrag||!~i||(Fe(e,s.options.selectedClass,!1),Mt.splice(i,1))}},eventProperties:function(){var e=this,s=[],i=[];return Mt.forEach(function(r){s.push({multiDragElement:r,index:r.sortableIndex});var a;vn&&r!==fe?a=-1:vn?a=Te(r,":not(."+e.options.selectedClass+")"):a=Te(r),i.push({multiDragElement:r,index:a})}),{items:vS(Mt),clones:[].concat(An),oldIndicies:s,newIndicies:i}},optionListeners:{multiDragKey:function(e){return e=e.toLowerCase(),e==="ctrl"?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function XS(n,t){Mt.forEach(function(e,s){var i=t.children[e.sortableIndex+(n?Number(s):0)];i?t.insertBefore(e,i):t.appendChild(e)})}function kh(n,t){An.forEach(function(e,s){var i=t.children[e.sortableIndex+(n?Number(s):0)];i?t.insertBefore(e,i):t.appendChild(e)})}function co(){Mt.forEach(function(n){n!==fe&&n.parentNode&&n.parentNode.removeChild(n)})}Ft.mount(new HS);Ft.mount(_u,yu);const ZS=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:GS,Sortable:Ft,Swap:YS,default:Ft},Symbol.toStringTag,{value:"Module"})),JS=N1(ZS);(function(n,t){(function(s,i){n.exports=i(B1,JS)})(typeof self<"u"?self:qs,function(e,s){return function(i){var r={};function a(l){if(r[l])return r[l].exports;var u=r[l]={i:l,l:!1,exports:{}};return i[l].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=i,a.c=r,a.d=function(l,u,d){a.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:d})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,u){if(u&1&&(l=a(l)),u&8||u&4&&typeof l=="object"&&l&&l.__esModule)return l;var d=Object.create(null);if(a.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:l}),u&2&&typeof l!="string")for(var f in l)a.d(d,f,(function(g){return l[g]}).bind(null,f));return d},a.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(u,"a",u),u},a.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},a.p="",a(a.s="fb15")}({"00ee":function(i,r,a){var l=a("b622"),u=l("toStringTag"),d={};d[u]="z",i.exports=String(d)==="[object z]"},"0366":function(i,r,a){var l=a("1c0b");i.exports=function(u,d,f){if(l(u),d===void 0)return u;switch(f){case 0:return function(){return u.call(d)};case 1:return function(g){return u.call(d,g)};case 2:return function(g,p){return u.call(d,g,p)};case 3:return function(g,p,v){return u.call(d,g,p,v)}}return function(){return u.apply(d,arguments)}}},"057f":function(i,r,a){var l=a("fc6a"),u=a("241c").f,d={}.toString,f=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],g=function(p){try{return u(p)}catch{return f.slice()}};i.exports.f=function(v){return f&&d.call(v)=="[object Window]"?g(v):u(l(v))}},"06cf":function(i,r,a){var l=a("83ab"),u=a("d1e7"),d=a("5c6c"),f=a("fc6a"),g=a("c04e"),p=a("5135"),v=a("0cfb"),b=Object.getOwnPropertyDescriptor;r.f=l?b:function(S,k){if(S=f(S),k=g(k,!0),v)try{return b(S,k)}catch{}if(p(S,k))return d(!u.f.call(S,k),S[k])}},"0cfb":function(i,r,a){var l=a("83ab"),u=a("d039"),d=a("cc12");i.exports=!l&&!u(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,r,a){var l=a("23e7"),u=a("d58f").left,d=a("a640"),f=a("ae40"),g=d("reduce"),p=f("reduce",{1:0});l({target:"Array",proto:!0,forced:!g||!p},{reduce:function(b){return u(this,b,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,r,a){var l=a("c6b6"),u=a("9263");i.exports=function(d,f){var g=d.exec;if(typeof g=="function"){var p=g.call(d,f);if(typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(l(d)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(d,f)}},"159b":function(i,r,a){var l=a("da84"),u=a("fdbc"),d=a("17c2"),f=a("9112");for(var g in u){var p=l[g],v=p&&p.prototype;if(v&&v.forEach!==d)try{f(v,"forEach",d)}catch{v.forEach=d}}},"17c2":function(i,r,a){var l=a("b727").forEach,u=a("a640"),d=a("ae40"),f=u("forEach"),g=d("forEach");i.exports=!f||!g?function(v){return l(this,v,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,r,a){var l=a("d066");i.exports=l("document","documentElement")},"1c0b":function(i,r){i.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},"1c7e":function(i,r,a){var l=a("b622"),u=l("iterator"),d=!1;try{var f=0,g={next:function(){return{done:!!f++}},return:function(){d=!0}};g[u]=function(){return this},Array.from(g,function(){throw 2})}catch{}i.exports=function(p,v){if(!v&&!d)return!1;var b=!1;try{var y={};y[u]=function(){return{next:function(){return{done:b=!0}}}},p(y)}catch{}return b}},"1d80":function(i,r){i.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},"1dde":function(i,r,a){var l=a("d039"),u=a("b622"),d=a("2d00"),f=u("species");i.exports=function(g){return d>=51||!l(function(){var p=[],v=p.constructor={};return v[f]=function(){return{foo:1}},p[g](Boolean).foo!==1})}},"23cb":function(i,r,a){var l=a("a691"),u=Math.max,d=Math.min;i.exports=function(f,g){var p=l(f);return p<0?u(p+g,0):d(p,g)}},"23e7":function(i,r,a){var l=a("da84"),u=a("06cf").f,d=a("9112"),f=a("6eeb"),g=a("ce4e"),p=a("e893"),v=a("94ca");i.exports=function(b,y){var S=b.target,k=b.global,F=b.stat,P,A,T,R,z,W;if(k?A=l:F?A=l[S]||g(S,{}):A=(l[S]||{}).prototype,A)for(T in y){if(z=y[T],b.noTargetGet?(W=u(A,T),R=W&&W.value):R=A[T],P=v(k?T:S+(F?".":"#")+T,b.forced),!P&&R!==void 0){if(typeof z==typeof R)continue;p(z,R)}(b.sham||R&&R.sham)&&d(z,"sham",!0),f(A,T,z,b)}}},"241c":function(i,r,a){var l=a("ca84"),u=a("7839"),d=u.concat("length","prototype");r.f=Object.getOwnPropertyNames||function(g){return l(g,d)}},"25f0":function(i,r,a){var l=a("6eeb"),u=a("825a"),d=a("d039"),f=a("ad6d"),g="toString",p=RegExp.prototype,v=p[g],b=d(function(){return v.call({source:"a",flags:"b"})!="/a/b"}),y=v.name!=g;(b||y)&&l(RegExp.prototype,g,function(){var k=u(this),F=String(k.source),P=k.flags,A=String(P===void 0&&k instanceof RegExp&&!("flags"in p)?f.call(k):P);return"/"+F+"/"+A},{unsafe:!0})},"2ca0":function(i,r,a){var l=a("23e7"),u=a("06cf").f,d=a("50c4"),f=a("5a34"),g=a("1d80"),p=a("ab13"),v=a("c430"),b="".startsWith,y=Math.min,S=p("startsWith"),k=!v&&!S&&!!function(){var F=u(String.prototype,"startsWith");return F&&!F.writable}();l({target:"String",proto:!0,forced:!k&&!S},{startsWith:function(P){var A=String(g(this));f(P);var T=d(y(arguments.length>1?arguments[1]:void 0,A.length)),R=String(P);return b?b.call(A,R,T):A.slice(T,T+R.length)===R}})},"2d00":function(i,r,a){var l=a("da84"),u=a("342f"),d=l.process,f=d&&d.versions,g=f&&f.v8,p,v;g?(p=g.split("."),v=p[0]+p[1]):u&&(p=u.match(/Edge\/(\d+)/),(!p||p[1]>=74)&&(p=u.match(/Chrome\/(\d+)/),p&&(v=p[1]))),i.exports=v&&+v},"342f":function(i,r,a){var l=a("d066");i.exports=l("navigator","userAgent")||""},"35a1":function(i,r,a){var l=a("f5df"),u=a("3f8c"),d=a("b622"),f=d("iterator");i.exports=function(g){if(g!=null)return g[f]||g["@@iterator"]||u[l(g)]}},"37e8":function(i,r,a){var l=a("83ab"),u=a("9bf2"),d=a("825a"),f=a("df75");i.exports=l?Object.defineProperties:function(p,v){d(p);for(var b=f(v),y=b.length,S=0,k;y>S;)u.f(p,k=b[S++],v[k]);return p}},"3bbe":function(i,r,a){var l=a("861d");i.exports=function(u){if(!l(u)&&u!==null)throw TypeError("Can't set "+String(u)+" as a prototype");return u}},"3ca3":function(i,r,a){var l=a("6547").charAt,u=a("69f3"),d=a("7dd0"),f="String Iterator",g=u.set,p=u.getterFor(f);d(String,"String",function(v){g(this,{type:f,string:String(v),index:0})},function(){var b=p(this),y=b.string,S=b.index,k;return S>=y.length?{value:void 0,done:!0}:(k=l(y,S),b.index+=k.length,{value:k,done:!1})})},"3f8c":function(i,r){i.exports={}},4160:function(i,r,a){var l=a("23e7"),u=a("17c2");l({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},"428f":function(i,r,a){var l=a("da84");i.exports=l},"44ad":function(i,r,a){var l=a("d039"),u=a("c6b6"),d="".split;i.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(f){return u(f)=="String"?d.call(f,""):Object(f)}:Object},"44d2":function(i,r,a){var l=a("b622"),u=a("7c73"),d=a("9bf2"),f=l("unscopables"),g=Array.prototype;g[f]==null&&d.f(g,f,{configurable:!0,value:u(null)}),i.exports=function(p){g[f][p]=!0}},"44e7":function(i,r,a){var l=a("861d"),u=a("c6b6"),d=a("b622"),f=d("match");i.exports=function(g){var p;return l(g)&&((p=g[f])!==void 0?!!p:u(g)=="RegExp")}},4930:function(i,r,a){var l=a("d039");i.exports=!!Object.getOwnPropertySymbols&&!l(function(){return!String(Symbol())})},"4d64":function(i,r,a){var l=a("fc6a"),u=a("50c4"),d=a("23cb"),f=function(g){return function(p,v,b){var y=l(p),S=u(y.length),k=d(b,S),F;if(g&&v!=v){for(;S>k;)if(F=y[k++],F!=F)return!0}else for(;S>k;k++)if((g||k in y)&&y[k]===v)return g||k||0;return!g&&-1}};i.exports={includes:f(!0),indexOf:f(!1)}},"4de4":function(i,r,a){var l=a("23e7"),u=a("b727").filter,d=a("1dde"),f=a("ae40"),g=d("filter"),p=f("filter");l({target:"Array",proto:!0,forced:!g||!p},{filter:function(b){return u(this,b,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,r,a){var l=a("0366"),u=a("7b0b"),d=a("9bdd"),f=a("e95a"),g=a("50c4"),p=a("8418"),v=a("35a1");i.exports=function(y){var S=u(y),k=typeof this=="function"?this:Array,F=arguments.length,P=F>1?arguments[1]:void 0,A=P!==void 0,T=v(S),R=0,z,W,B,J,q,lt;if(A&&(P=l(P,F>2?arguments[2]:void 0,2)),T!=null&&!(k==Array&&f(T)))for(J=T.call(S),q=J.next,W=new k;!(B=q.call(J)).done;R++)lt=A?d(J,P,[B.value,R],!0):B.value,p(W,R,lt);else for(z=g(S.length),W=new k(z);z>R;R++)lt=A?P(S[R],R):S[R],p(W,R,lt);return W.length=R,W}},"4fad":function(i,r,a){var l=a("23e7"),u=a("6f53").entries;l({target:"Object",stat:!0},{entries:function(f){return u(f)}})},"50c4":function(i,r,a){var l=a("a691"),u=Math.min;i.exports=function(d){return d>0?u(l(d),9007199254740991):0}},5135:function(i,r){var a={}.hasOwnProperty;i.exports=function(l,u){return a.call(l,u)}},5319:function(i,r,a){var l=a("d784"),u=a("825a"),d=a("7b0b"),f=a("50c4"),g=a("a691"),p=a("1d80"),v=a("8aa5"),b=a("14c3"),y=Math.max,S=Math.min,k=Math.floor,F=/\$([$&'`]|\d\d?|<[^>]*>)/g,P=/\$([$&'`]|\d\d?)/g,A=function(T){return T===void 0?T:String(T)};l("replace",2,function(T,R,z,W){var B=W.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,J=W.REPLACE_KEEPS_$0,q=B?"$":"$0";return[function(rt,dt){var nt=p(this),ot=rt==null?void 0:rt[T];return ot!==void 0?ot.call(rt,nt,dt):R.call(String(nt),rt,dt)},function(et,rt){if(!B&&J||typeof rt=="string"&&rt.indexOf(q)===-1){var dt=z(R,et,this,rt);if(dt.done)return dt.value}var nt=u(et),ot=String(this),_t=typeof rt=="function";_t||(rt=String(rt));var Pt=nt.global;if(Pt){var se=nt.unicode;nt.lastIndex=0}for(var jt=[];;){var ee=b(nt,ot);if(ee===null||(jt.push(ee),!Pt))break;var ce=String(ee[0]);ce===""&&(nt.lastIndex=v(ot,f(nt.lastIndex),se))}for(var le="",Qt=0,Wt=0;Wt<jt.length;Wt++){ee=jt[Wt];for(var pe=String(ee[0]),Ue=y(S(g(ee.index),ot.length),0),Pe=[],Zn=1;Zn<ee.length;Zn++)Pe.push(A(ee[Zn]));var In=ee.groups;if(_t){var Sn=[pe].concat(Pe,Ue,ot);In!==void 0&&Sn.push(In);var Ne=String(rt.apply(void 0,Sn))}else Ne=lt(pe,ot,Ue,Pe,In,rt);Ue>=Qt&&(le+=ot.slice(Qt,Ue)+Ne,Qt=Ue+pe.length)}return le+ot.slice(Qt)}];function lt(et,rt,dt,nt,ot,_t){var Pt=dt+et.length,se=nt.length,jt=P;return ot!==void 0&&(ot=d(ot),jt=F),R.call(_t,jt,function(ee,ce){var le;switch(ce.charAt(0)){case"$":return"$";case"&":return et;case"`":return rt.slice(0,dt);case"'":return rt.slice(Pt);case"<":le=ot[ce.slice(1,-1)];break;default:var Qt=+ce;if(Qt===0)return ee;if(Qt>se){var Wt=k(Qt/10);return Wt===0?ee:Wt<=se?nt[Wt-1]===void 0?ce.charAt(1):nt[Wt-1]+ce.charAt(1):ee}le=nt[Qt-1]}return le===void 0?"":le})}})},5692:function(i,r,a){var l=a("c430"),u=a("c6cd");(i.exports=function(d,f){return u[d]||(u[d]=f!==void 0?f:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,r,a){var l=a("d066"),u=a("241c"),d=a("7418"),f=a("825a");i.exports=l("Reflect","ownKeys")||function(p){var v=u.f(f(p)),b=d.f;return b?v.concat(b(p)):v}},"5a34":function(i,r,a){var l=a("44e7");i.exports=function(u){if(l(u))throw TypeError("The method doesn't accept regular expressions");return u}},"5c6c":function(i,r){i.exports=function(a,l){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:l}}},"5db7":function(i,r,a){var l=a("23e7"),u=a("a2bf"),d=a("7b0b"),f=a("50c4"),g=a("1c0b"),p=a("65f0");l({target:"Array",proto:!0},{flatMap:function(b){var y=d(this),S=f(y.length),k;return g(b),k=p(y,0),k.length=u(k,y,y,S,0,1,b,arguments.length>1?arguments[1]:void 0),k}})},6547:function(i,r,a){var l=a("a691"),u=a("1d80"),d=function(f){return function(g,p){var v=String(u(g)),b=l(p),y=v.length,S,k;return b<0||b>=y?f?"":void 0:(S=v.charCodeAt(b),S<55296||S>56319||b+1===y||(k=v.charCodeAt(b+1))<56320||k>57343?f?v.charAt(b):S:f?v.slice(b,b+2):(S-55296<<10)+(k-56320)+65536)}};i.exports={codeAt:d(!1),charAt:d(!0)}},"65f0":function(i,r,a){var l=a("861d"),u=a("e8b5"),d=a("b622"),f=d("species");i.exports=function(g,p){var v;return u(g)&&(v=g.constructor,typeof v=="function"&&(v===Array||u(v.prototype))?v=void 0:l(v)&&(v=v[f],v===null&&(v=void 0))),new(v===void 0?Array:v)(p===0?0:p)}},"69f3":function(i,r,a){var l=a("7f9a"),u=a("da84"),d=a("861d"),f=a("9112"),g=a("5135"),p=a("f772"),v=a("d012"),b=u.WeakMap,y,S,k,F=function(B){return k(B)?S(B):y(B,{})},P=function(B){return function(J){var q;if(!d(J)||(q=S(J)).type!==B)throw TypeError("Incompatible receiver, "+B+" required");return q}};if(l){var A=new b,T=A.get,R=A.has,z=A.set;y=function(B,J){return z.call(A,B,J),J},S=function(B){return T.call(A,B)||{}},k=function(B){return R.call(A,B)}}else{var W=p("state");v[W]=!0,y=function(B,J){return f(B,W,J),J},S=function(B){return g(B,W)?B[W]:{}},k=function(B){return g(B,W)}}i.exports={set:y,get:S,has:k,enforce:F,getterFor:P}},"6eeb":function(i,r,a){var l=a("da84"),u=a("9112"),d=a("5135"),f=a("ce4e"),g=a("8925"),p=a("69f3"),v=p.get,b=p.enforce,y=String(String).split("String");(i.exports=function(S,k,F,P){var A=P?!!P.unsafe:!1,T=P?!!P.enumerable:!1,R=P?!!P.noTargetGet:!1;if(typeof F=="function"&&(typeof k=="string"&&!d(F,"name")&&u(F,"name",k),b(F).source=y.join(typeof k=="string"?k:"")),S===l){T?S[k]=F:f(k,F);return}else A?!R&&S[k]&&(T=!0):delete S[k];T?S[k]=F:u(S,k,F)})(Function.prototype,"toString",function(){return typeof this=="function"&&v(this).source||g(this)})},"6f53":function(i,r,a){var l=a("83ab"),u=a("df75"),d=a("fc6a"),f=a("d1e7").f,g=function(p){return function(v){for(var b=d(v),y=u(b),S=y.length,k=0,F=[],P;S>k;)P=y[k++],(!l||f.call(b,P))&&F.push(p?[P,b[P]]:b[P]);return F}};i.exports={entries:g(!0),values:g(!1)}},"73d9":function(i,r,a){var l=a("44d2");l("flatMap")},7418:function(i,r){r.f=Object.getOwnPropertySymbols},"746f":function(i,r,a){var l=a("428f"),u=a("5135"),d=a("e538"),f=a("9bf2").f;i.exports=function(g){var p=l.Symbol||(l.Symbol={});u(p,g)||f(p,g,{value:d.f(g)})}},7839:function(i,r){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,r,a){var l=a("1d80");i.exports=function(u){return Object(l(u))}},"7c73":function(i,r,a){var l=a("825a"),u=a("37e8"),d=a("7839"),f=a("d012"),g=a("1be4"),p=a("cc12"),v=a("f772"),b=">",y="<",S="prototype",k="script",F=v("IE_PROTO"),P=function(){},A=function(B){return y+k+b+B+y+"/"+k+b},T=function(B){B.write(A("")),B.close();var J=B.parentWindow.Object;return B=null,J},R=function(){var B=p("iframe"),J="java"+k+":",q;return B.style.display="none",g.appendChild(B),B.src=String(J),q=B.contentWindow.document,q.open(),q.write(A("document.F=Object")),q.close(),q.F},z,W=function(){try{z=document.domain&&new ActiveXObject("htmlfile")}catch{}W=z?T(z):R();for(var B=d.length;B--;)delete W[S][d[B]];return W()};f[F]=!0,i.exports=Object.create||function(J,q){var lt;return J!==null?(P[S]=l(J),lt=new P,P[S]=null,lt[F]=J):lt=W(),q===void 0?lt:u(lt,q)}},"7dd0":function(i,r,a){var l=a("23e7"),u=a("9ed3"),d=a("e163"),f=a("d2bb"),g=a("d44e"),p=a("9112"),v=a("6eeb"),b=a("b622"),y=a("c430"),S=a("3f8c"),k=a("ae93"),F=k.IteratorPrototype,P=k.BUGGY_SAFARI_ITERATORS,A=b("iterator"),T="keys",R="values",z="entries",W=function(){return this};i.exports=function(B,J,q,lt,et,rt,dt){u(q,J,lt);var nt=function(Wt){if(Wt===et&&jt)return jt;if(!P&&Wt in Pt)return Pt[Wt];switch(Wt){case T:return function(){return new q(this,Wt)};case R:return function(){return new q(this,Wt)};case z:return function(){return new q(this,Wt)}}return function(){return new q(this)}},ot=J+" Iterator",_t=!1,Pt=B.prototype,se=Pt[A]||Pt["@@iterator"]||et&&Pt[et],jt=!P&&se||nt(et),ee=J=="Array"&&Pt.entries||se,ce,le,Qt;if(ee&&(ce=d(ee.call(new B)),F!==Object.prototype&&ce.next&&(!y&&d(ce)!==F&&(f?f(ce,F):typeof ce[A]!="function"&&p(ce,A,W)),g(ce,ot,!0,!0),y&&(S[ot]=W))),et==R&&se&&se.name!==R&&(_t=!0,jt=function(){return se.call(this)}),(!y||dt)&&Pt[A]!==jt&&p(Pt,A,jt),S[J]=jt,et)if(le={values:nt(R),keys:rt?jt:nt(T),entries:nt(z)},dt)for(Qt in le)(P||_t||!(Qt in Pt))&&v(Pt,Qt,le[Qt]);else l({target:J,proto:!0,forced:P||_t},le);return le}},"7f9a":function(i,r,a){var l=a("da84"),u=a("8925"),d=l.WeakMap;i.exports=typeof d=="function"&&/native code/.test(u(d))},"825a":function(i,r,a){var l=a("861d");i.exports=function(u){if(!l(u))throw TypeError(String(u)+" is not an object");return u}},"83ab":function(i,r,a){var l=a("d039");i.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,r,a){var l=a("c04e"),u=a("9bf2"),d=a("5c6c");i.exports=function(f,g,p){var v=l(g);v in f?u.f(f,v,d(0,p)):f[v]=p}},"861d":function(i,r){i.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},8875:function(i,r,a){var l,u,d;(function(f,g){u=[],l=g,d=typeof l=="function"?l.apply(r,u):l,d!==void 0&&(i.exports=d)})(typeof self<"u"?self:this,function(){function f(){var g=Object.getOwnPropertyDescriptor(document,"currentScript");if(!g&&"currentScript"in document&&document.currentScript||g&&g.get!==f&&document.currentScript)return document.currentScript;try{throw new Error}catch(z){var p=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,v=/@([^@]*):(\d+):(\d+)\s*$/ig,b=p.exec(z.stack)||v.exec(z.stack),y=b&&b[1]||!1,S=b&&b[2]||!1,k=document.location.href.replace(document.location.hash,""),F,P,A,T=document.getElementsByTagName("script");y===k&&(F=document.documentElement.outerHTML,P=new RegExp("(?:[^\\n]+?\\n){0,"+(S-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),A=F.replace(P,"$1").trim());for(var R=0;R<T.length;R++)if(T[R].readyState==="interactive"||T[R].src===y||y===k&&T[R].innerHTML&&T[R].innerHTML.trim()===A)return T[R];return null}}return f})},8925:function(i,r,a){var l=a("c6cd"),u=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(d){return u.call(d)}),i.exports=l.inspectSource},"8aa5":function(i,r,a){var l=a("6547").charAt;i.exports=function(u,d,f){return d+(f?l(u,d).length:1)}},"8bbf":function(i,r){i.exports=e},"90e3":function(i,r){var a=0,l=Math.random();i.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++a+l).toString(36)}},9112:function(i,r,a){var l=a("83ab"),u=a("9bf2"),d=a("5c6c");i.exports=l?function(f,g,p){return u.f(f,g,d(1,p))}:function(f,g,p){return f[g]=p,f}},9263:function(i,r,a){var l=a("ad6d"),u=a("9f7f"),d=RegExp.prototype.exec,f=String.prototype.replace,g=d,p=function(){var S=/a/,k=/b*/g;return d.call(S,"a"),d.call(k,"a"),S.lastIndex!==0||k.lastIndex!==0}(),v=u.UNSUPPORTED_Y||u.BROKEN_CARET,b=/()??/.exec("")[1]!==void 0,y=p||b||v;y&&(g=function(k){var F=this,P,A,T,R,z=v&&F.sticky,W=l.call(F),B=F.source,J=0,q=k;return z&&(W=W.replace("y",""),W.indexOf("g")===-1&&(W+="g"),q=String(k).slice(F.lastIndex),F.lastIndex>0&&(!F.multiline||F.multiline&&k[F.lastIndex-1]!==`
`)&&(B="(?: "+B+")",q=" "+q,J++),A=new RegExp("^(?:"+B+")",W)),b&&(A=new RegExp("^"+B+"$(?!\\s)",W)),p&&(P=F.lastIndex),T=d.call(z?A:F,q),z?T?(T.input=T.input.slice(J),T[0]=T[0].slice(J),T.index=F.lastIndex,F.lastIndex+=T[0].length):F.lastIndex=0:p&&T&&(F.lastIndex=F.global?T.index+T[0].length:P),b&&T&&T.length>1&&f.call(T[0],A,function(){for(R=1;R<arguments.length-2;R++)arguments[R]===void 0&&(T[R]=void 0)}),T}),i.exports=g},"94ca":function(i,r,a){var l=a("d039"),u=/#|\.prototype\./,d=function(b,y){var S=g[f(b)];return S==v?!0:S==p?!1:typeof y=="function"?l(y):!!y},f=d.normalize=function(b){return String(b).replace(u,".").toLowerCase()},g=d.data={},p=d.NATIVE="N",v=d.POLYFILL="P";i.exports=d},"99af":function(i,r,a){var l=a("23e7"),u=a("d039"),d=a("e8b5"),f=a("861d"),g=a("7b0b"),p=a("50c4"),v=a("8418"),b=a("65f0"),y=a("1dde"),S=a("b622"),k=a("2d00"),F=S("isConcatSpreadable"),P=9007199254740991,A="Maximum allowed index exceeded",T=k>=51||!u(function(){var B=[];return B[F]=!1,B.concat()[0]!==B}),R=y("concat"),z=function(B){if(!f(B))return!1;var J=B[F];return J!==void 0?!!J:d(B)},W=!T||!R;l({target:"Array",proto:!0,forced:W},{concat:function(J){var q=g(this),lt=b(q,0),et=0,rt,dt,nt,ot,_t;for(rt=-1,nt=arguments.length;rt<nt;rt++)if(_t=rt===-1?q:arguments[rt],z(_t)){if(ot=p(_t.length),et+ot>P)throw TypeError(A);for(dt=0;dt<ot;dt++,et++)dt in _t&&v(lt,et,_t[dt])}else{if(et>=P)throw TypeError(A);v(lt,et++,_t)}return lt.length=et,lt}})},"9bdd":function(i,r,a){var l=a("825a");i.exports=function(u,d,f,g){try{return g?d(l(f)[0],f[1]):d(f)}catch(v){var p=u.return;throw p!==void 0&&l(p.call(u)),v}}},"9bf2":function(i,r,a){var l=a("83ab"),u=a("0cfb"),d=a("825a"),f=a("c04e"),g=Object.defineProperty;r.f=l?g:function(v,b,y){if(d(v),b=f(b,!0),d(y),u)try{return g(v,b,y)}catch{}if("get"in y||"set"in y)throw TypeError("Accessors not supported");return"value"in y&&(v[b]=y.value),v}},"9ed3":function(i,r,a){var l=a("ae93").IteratorPrototype,u=a("7c73"),d=a("5c6c"),f=a("d44e"),g=a("3f8c"),p=function(){return this};i.exports=function(v,b,y){var S=b+" Iterator";return v.prototype=u(l,{next:d(1,y)}),f(v,S,!1,!0),g[S]=p,v}},"9f7f":function(i,r,a){var l=a("d039");function u(d,f){return RegExp(d,f)}r.UNSUPPORTED_Y=l(function(){var d=u("a","y");return d.lastIndex=2,d.exec("abcd")!=null}),r.BROKEN_CARET=l(function(){var d=u("^r","gy");return d.lastIndex=2,d.exec("str")!=null})},a2bf:function(i,r,a){var l=a("e8b5"),u=a("50c4"),d=a("0366"),f=function(g,p,v,b,y,S,k,F){for(var P=y,A=0,T=k?d(k,F,3):!1,R;A<b;){if(A in v){if(R=T?T(v[A],A,p):v[A],S>0&&l(R))P=f(g,p,R,u(R.length),P,S-1)-1;else{if(P>=9007199254740991)throw TypeError("Exceed the acceptable array length");g[P]=R}P++}A++}return P};i.exports=f},a352:function(i,r){i.exports=s},a434:function(i,r,a){var l=a("23e7"),u=a("23cb"),d=a("a691"),f=a("50c4"),g=a("7b0b"),p=a("65f0"),v=a("8418"),b=a("1dde"),y=a("ae40"),S=b("splice"),k=y("splice",{ACCESSORS:!0,0:0,1:2}),F=Math.max,P=Math.min,A=9007199254740991,T="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!S||!k},{splice:function(z,W){var B=g(this),J=f(B.length),q=u(z,J),lt=arguments.length,et,rt,dt,nt,ot,_t;if(lt===0?et=rt=0:lt===1?(et=0,rt=J-q):(et=lt-2,rt=P(F(d(W),0),J-q)),J+et-rt>A)throw TypeError(T);for(dt=p(B,rt),nt=0;nt<rt;nt++)ot=q+nt,ot in B&&v(dt,nt,B[ot]);if(dt.length=rt,et<rt){for(nt=q;nt<J-rt;nt++)ot=nt+rt,_t=nt+et,ot in B?B[_t]=B[ot]:delete B[_t];for(nt=J;nt>J-rt+et;nt--)delete B[nt-1]}else if(et>rt)for(nt=J-rt;nt>q;nt--)ot=nt+rt-1,_t=nt+et-1,ot in B?B[_t]=B[ot]:delete B[_t];for(nt=0;nt<et;nt++)B[nt+q]=arguments[nt+2];return B.length=J-rt+et,dt}})},a4d3:function(i,r,a){var l=a("23e7"),u=a("da84"),d=a("d066"),f=a("c430"),g=a("83ab"),p=a("4930"),v=a("fdbf"),b=a("d039"),y=a("5135"),S=a("e8b5"),k=a("861d"),F=a("825a"),P=a("7b0b"),A=a("fc6a"),T=a("c04e"),R=a("5c6c"),z=a("7c73"),W=a("df75"),B=a("241c"),J=a("057f"),q=a("7418"),lt=a("06cf"),et=a("9bf2"),rt=a("d1e7"),dt=a("9112"),nt=a("6eeb"),ot=a("5692"),_t=a("f772"),Pt=a("d012"),se=a("90e3"),jt=a("b622"),ee=a("e538"),ce=a("746f"),le=a("d44e"),Qt=a("69f3"),Wt=a("b727").forEach,pe=_t("hidden"),Ue="Symbol",Pe="prototype",Zn=jt("toPrimitive"),In=Qt.set,Sn=Qt.getterFor(Ue),Ne=Object[Pe],re=u.Symbol,wn=d("JSON","stringify"),Rn=lt.f,Be=et.f,is=J.f,lr=rt.f,Xe=ot("symbols"),Ve=ot("op-symbols"),Ln=ot("string-to-symbol-registry"),li=ot("symbol-to-string-registry"),ss=ot("wks"),Jn=u.QObject,rs=!Jn||!Jn[Pe]||!Jn[Pe].findChild,Qn=g&&b(function(){return z(Be({},"a",{get:function(){return Be(this,"a",{value:7}).a}})).a!=7})?function(Dt,pt,xt){var zt=Rn(Ne,pt);zt&&delete Ne[pt],Be(Dt,pt,xt),zt&&Dt!==Ne&&Be(Ne,pt,zt)}:Be,Nn=function(Dt,pt){var xt=Xe[Dt]=z(re[Pe]);return In(xt,{type:Ue,tag:Dt,description:pt}),g||(xt.description=pt),xt},j=v?function(Dt){return typeof Dt=="symbol"}:function(Dt){return Object(Dt)instanceof re},V=function(pt,xt,zt){pt===Ne&&V(Ve,xt,zt),F(pt);var Yt=T(xt,!0);return F(zt),y(Xe,Yt)?(zt.enumerable?(y(pt,pe)&&pt[pe][Yt]&&(pt[pe][Yt]=!1),zt=z(zt,{enumerable:R(0,!1)})):(y(pt,pe)||Be(pt,pe,R(1,{})),pt[pe][Yt]=!0),Qn(pt,Yt,zt)):Be(pt,Yt,zt)},Y=function(pt,xt){F(pt);var zt=A(xt),Yt=W(zt).concat(Zt(zt));return Wt(Yt,function($e){(!g||gt.call(zt,$e))&&V(pt,$e,zt[$e])}),pt},it=function(pt,xt){return xt===void 0?z(pt):Y(z(pt),xt)},gt=function(pt){var xt=T(pt,!0),zt=lr.call(this,xt);return this===Ne&&y(Xe,xt)&&!y(Ve,xt)?!1:zt||!y(this,xt)||!y(Xe,xt)||y(this,pe)&&this[pe][xt]?zt:!0},wt=function(pt,xt){var zt=A(pt),Yt=T(xt,!0);if(!(zt===Ne&&y(Xe,Yt)&&!y(Ve,Yt))){var $e=Rn(zt,Yt);return $e&&y(Xe,Yt)&&!(y(zt,pe)&&zt[pe][Yt])&&($e.enumerable=!0),$e}},Et=function(pt){var xt=is(A(pt)),zt=[];return Wt(xt,function(Yt){!y(Xe,Yt)&&!y(Pt,Yt)&&zt.push(Yt)}),zt},Zt=function(pt){var xt=pt===Ne,zt=is(xt?Ve:A(pt)),Yt=[];return Wt(zt,function($e){y(Xe,$e)&&(!xt||y(Ne,$e))&&Yt.push(Xe[$e])}),Yt};if(p||(re=function(){if(this instanceof re)throw TypeError("Symbol is not a constructor");var pt=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),xt=se(pt),zt=function(Yt){this===Ne&&zt.call(Ve,Yt),y(this,pe)&&y(this[pe],xt)&&(this[pe][xt]=!1),Qn(this,xt,R(1,Yt))};return g&&rs&&Qn(Ne,xt,{configurable:!0,set:zt}),Nn(xt,pt)},nt(re[Pe],"toString",function(){return Sn(this).tag}),nt(re,"withoutSetter",function(Dt){return Nn(se(Dt),Dt)}),rt.f=gt,et.f=V,lt.f=wt,B.f=J.f=Et,q.f=Zt,ee.f=function(Dt){return Nn(jt(Dt),Dt)},g&&(Be(re[Pe],"description",{configurable:!0,get:function(){return Sn(this).description}}),f||nt(Ne,"propertyIsEnumerable",gt,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:re}),Wt(W(ss),function(Dt){ce(Dt)}),l({target:Ue,stat:!0,forced:!p},{for:function(Dt){var pt=String(Dt);if(y(Ln,pt))return Ln[pt];var xt=re(pt);return Ln[pt]=xt,li[xt]=pt,xt},keyFor:function(pt){if(!j(pt))throw TypeError(pt+" is not a symbol");if(y(li,pt))return li[pt]},useSetter:function(){rs=!0},useSimple:function(){rs=!1}}),l({target:"Object",stat:!0,forced:!p,sham:!g},{create:it,defineProperty:V,defineProperties:Y,getOwnPropertyDescriptor:wt}),l({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:Et,getOwnPropertySymbols:Zt}),l({target:"Object",stat:!0,forced:b(function(){q.f(1)})},{getOwnPropertySymbols:function(pt){return q.f(P(pt))}}),wn){var me=!p||b(function(){var Dt=re();return wn([Dt])!="[null]"||wn({a:Dt})!="{}"||wn(Object(Dt))!="{}"});l({target:"JSON",stat:!0,forced:me},{stringify:function(pt,xt,zt){for(var Yt=[pt],$e=1,cr;arguments.length>$e;)Yt.push(arguments[$e++]);if(cr=xt,!(!k(xt)&&pt===void 0||j(pt)))return S(xt)||(xt=function(cl,Ps){if(typeof cr=="function"&&(Ps=cr.call(this,cl,Ps)),!j(Ps))return Ps}),Yt[1]=xt,wn.apply(null,Yt)}})}re[Pe][Zn]||dt(re[Pe],Zn,re[Pe].valueOf),le(re,Ue),Pt[pe]=!0},a630:function(i,r,a){var l=a("23e7"),u=a("4df4"),d=a("1c7e"),f=!d(function(g){Array.from(g)});l({target:"Array",stat:!0,forced:f},{from:u})},a640:function(i,r,a){var l=a("d039");i.exports=function(u,d){var f=[][u];return!!f&&l(function(){f.call(null,d||function(){throw 1},1)})}},a691:function(i,r){var a=Math.ceil,l=Math.floor;i.exports=function(u){return isNaN(u=+u)?0:(u>0?l:a)(u)}},ab13:function(i,r,a){var l=a("b622"),u=l("match");i.exports=function(d){var f=/./;try{"/./"[d](f)}catch{try{return f[u]=!1,"/./"[d](f)}catch{}}return!1}},ac1f:function(i,r,a){var l=a("23e7"),u=a("9263");l({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},ad6d:function(i,r,a){var l=a("825a");i.exports=function(){var u=l(this),d="";return u.global&&(d+="g"),u.ignoreCase&&(d+="i"),u.multiline&&(d+="m"),u.dotAll&&(d+="s"),u.unicode&&(d+="u"),u.sticky&&(d+="y"),d}},ae40:function(i,r,a){var l=a("83ab"),u=a("d039"),d=a("5135"),f=Object.defineProperty,g={},p=function(v){throw v};i.exports=function(v,b){if(d(g,v))return g[v];b||(b={});var y=[][v],S=d(b,"ACCESSORS")?b.ACCESSORS:!1,k=d(b,0)?b[0]:p,F=d(b,1)?b[1]:void 0;return g[v]=!!y&&!u(function(){if(S&&!l)return!0;var P={length:-1};S?f(P,1,{enumerable:!0,get:p}):P[1]=1,y.call(P,k,F)})}},ae93:function(i,r,a){var l=a("e163"),u=a("9112"),d=a("5135"),f=a("b622"),g=a("c430"),p=f("iterator"),v=!1,b=function(){return this},y,S,k;[].keys&&(k=[].keys(),"next"in k?(S=l(l(k)),S!==Object.prototype&&(y=S)):v=!0),y==null&&(y={}),!g&&!d(y,p)&&u(y,p,b),i.exports={IteratorPrototype:y,BUGGY_SAFARI_ITERATORS:v}},b041:function(i,r,a){var l=a("00ee"),u=a("f5df");i.exports=l?{}.toString:function(){return"[object "+u(this)+"]"}},b0c0:function(i,r,a){var l=a("83ab"),u=a("9bf2").f,d=Function.prototype,f=d.toString,g=/^\s*function ([^ (]*)/,p="name";l&&!(p in d)&&u(d,p,{configurable:!0,get:function(){try{return f.call(this).match(g)[1]}catch{return""}}})},b622:function(i,r,a){var l=a("da84"),u=a("5692"),d=a("5135"),f=a("90e3"),g=a("4930"),p=a("fdbf"),v=u("wks"),b=l.Symbol,y=p?b:b&&b.withoutSetter||f;i.exports=function(S){return d(v,S)||(g&&d(b,S)?v[S]=b[S]:v[S]=y("Symbol."+S)),v[S]}},b64b:function(i,r,a){var l=a("23e7"),u=a("7b0b"),d=a("df75"),f=a("d039"),g=f(function(){d(1)});l({target:"Object",stat:!0,forced:g},{keys:function(v){return d(u(v))}})},b727:function(i,r,a){var l=a("0366"),u=a("44ad"),d=a("7b0b"),f=a("50c4"),g=a("65f0"),p=[].push,v=function(b){var y=b==1,S=b==2,k=b==3,F=b==4,P=b==6,A=b==5||P;return function(T,R,z,W){for(var B=d(T),J=u(B),q=l(R,z,3),lt=f(J.length),et=0,rt=W||g,dt=y?rt(T,lt):S?rt(T,0):void 0,nt,ot;lt>et;et++)if((A||et in J)&&(nt=J[et],ot=q(nt,et,B),b)){if(y)dt[et]=ot;else if(ot)switch(b){case 3:return!0;case 5:return nt;case 6:return et;case 2:p.call(dt,nt)}else if(F)return!1}return P?-1:k||F?F:dt}};i.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6)}},c04e:function(i,r,a){var l=a("861d");i.exports=function(u,d){if(!l(u))return u;var f,g;if(d&&typeof(f=u.toString)=="function"&&!l(g=f.call(u))||typeof(f=u.valueOf)=="function"&&!l(g=f.call(u))||!d&&typeof(f=u.toString)=="function"&&!l(g=f.call(u)))return g;throw TypeError("Can't convert object to primitive value")}},c430:function(i,r){i.exports=!1},c6b6:function(i,r){var a={}.toString;i.exports=function(l){return a.call(l).slice(8,-1)}},c6cd:function(i,r,a){var l=a("da84"),u=a("ce4e"),d="__core-js_shared__",f=l[d]||u(d,{});i.exports=f},c740:function(i,r,a){var l=a("23e7"),u=a("b727").findIndex,d=a("44d2"),f=a("ae40"),g="findIndex",p=!0,v=f(g);g in[]&&Array(1)[g](function(){p=!1}),l({target:"Array",proto:!0,forced:p||!v},{findIndex:function(y){return u(this,y,arguments.length>1?arguments[1]:void 0)}}),d(g)},c8ba:function(i,r){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}i.exports=a},c975:function(i,r,a){var l=a("23e7"),u=a("4d64").indexOf,d=a("a640"),f=a("ae40"),g=[].indexOf,p=!!g&&1/[1].indexOf(1,-0)<0,v=d("indexOf"),b=f("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:p||!v||!b},{indexOf:function(S){return p?g.apply(this,arguments)||0:u(this,S,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,r,a){var l=a("5135"),u=a("fc6a"),d=a("4d64").indexOf,f=a("d012");i.exports=function(g,p){var v=u(g),b=0,y=[],S;for(S in v)!l(f,S)&&l(v,S)&&y.push(S);for(;p.length>b;)l(v,S=p[b++])&&(~d(y,S)||y.push(S));return y}},caad:function(i,r,a){var l=a("23e7"),u=a("4d64").includes,d=a("44d2"),f=a("ae40"),g=f("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:!g},{includes:function(v){return u(this,v,arguments.length>1?arguments[1]:void 0)}}),d("includes")},cc12:function(i,r,a){var l=a("da84"),u=a("861d"),d=l.document,f=u(d)&&u(d.createElement);i.exports=function(g){return f?d.createElement(g):{}}},ce4e:function(i,r,a){var l=a("da84"),u=a("9112");i.exports=function(d,f){try{u(l,d,f)}catch{l[d]=f}return f}},d012:function(i,r){i.exports={}},d039:function(i,r){i.exports=function(a){try{return!!a()}catch{return!0}}},d066:function(i,r,a){var l=a("428f"),u=a("da84"),d=function(f){return typeof f=="function"?f:void 0};i.exports=function(f,g){return arguments.length<2?d(l[f])||d(u[f]):l[f]&&l[f][g]||u[f]&&u[f][g]}},d1e7:function(i,r,a){var l={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d=u&&!l.call({1:2},1);r.f=d?function(g){var p=u(this,g);return!!p&&p.enumerable}:l},d28b:function(i,r,a){var l=a("746f");l("iterator")},d2bb:function(i,r,a){var l=a("825a"),u=a("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d=!1,f={},g;try{g=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,g.call(f,[]),d=f instanceof Array}catch{}return function(v,b){return l(v),u(b),d?g.call(v,b):v.__proto__=b,v}}():void 0)},d3b7:function(i,r,a){var l=a("00ee"),u=a("6eeb"),d=a("b041");l||u(Object.prototype,"toString",d,{unsafe:!0})},d44e:function(i,r,a){var l=a("9bf2").f,u=a("5135"),d=a("b622"),f=d("toStringTag");i.exports=function(g,p,v){g&&!u(g=v?g:g.prototype,f)&&l(g,f,{configurable:!0,value:p})}},d58f:function(i,r,a){var l=a("1c0b"),u=a("7b0b"),d=a("44ad"),f=a("50c4"),g=function(p){return function(v,b,y,S){l(b);var k=u(v),F=d(k),P=f(k.length),A=p?P-1:0,T=p?-1:1;if(y<2)for(;;){if(A in F){S=F[A],A+=T;break}if(A+=T,p?A<0:P<=A)throw TypeError("Reduce of empty array with no initial value")}for(;p?A>=0:P>A;A+=T)A in F&&(S=b(S,F[A],A,k));return S}};i.exports={left:g(!1),right:g(!0)}},d784:function(i,r,a){a("ac1f");var l=a("6eeb"),u=a("d039"),d=a("b622"),f=a("9263"),g=a("9112"),p=d("species"),v=!u(function(){var F=/./;return F.exec=function(){var P=[];return P.groups={a:"7"},P},"".replace(F,"$<a>")!=="7"}),b=function(){return"a".replace(/./,"$0")==="$0"}(),y=d("replace"),S=function(){return/./[y]?/./[y]("a","$0")==="":!1}(),k=!u(function(){var F=/(?:)/,P=F.exec;F.exec=function(){return P.apply(this,arguments)};var A="ab".split(F);return A.length!==2||A[0]!=="a"||A[1]!=="b"});i.exports=function(F,P,A,T){var R=d(F),z=!u(function(){var et={};return et[R]=function(){return 7},""[F](et)!=7}),W=z&&!u(function(){var et=!1,rt=/a/;return F==="split"&&(rt={},rt.constructor={},rt.constructor[p]=function(){return rt},rt.flags="",rt[R]=/./[R]),rt.exec=function(){return et=!0,null},rt[R](""),!et});if(!z||!W||F==="replace"&&!(v&&b&&!S)||F==="split"&&!k){var B=/./[R],J=A(R,""[F],function(et,rt,dt,nt,ot){return rt.exec===f?z&&!ot?{done:!0,value:B.call(rt,dt,nt)}:{done:!0,value:et.call(dt,rt,nt)}:{done:!1}},{REPLACE_KEEPS_$0:b,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:S}),q=J[0],lt=J[1];l(String.prototype,F,q),l(RegExp.prototype,R,P==2?function(et,rt){return lt.call(et,this,rt)}:function(et){return lt.call(et,this)})}T&&g(RegExp.prototype[R],"sham",!0)}},d81d:function(i,r,a){var l=a("23e7"),u=a("b727").map,d=a("1dde"),f=a("ae40"),g=d("map"),p=f("map");l({target:"Array",proto:!0,forced:!g||!p},{map:function(b){return u(this,b,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,r,a){(function(l){var u=function(d){return d&&d.Math==Math&&d};i.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof l=="object"&&l)||Function("return this")()}).call(this,a("c8ba"))},dbb4:function(i,r,a){var l=a("23e7"),u=a("83ab"),d=a("56ef"),f=a("fc6a"),g=a("06cf"),p=a("8418");l({target:"Object",stat:!0,sham:!u},{getOwnPropertyDescriptors:function(b){for(var y=f(b),S=g.f,k=d(y),F={},P=0,A,T;k.length>P;)T=S(y,A=k[P++]),T!==void 0&&p(F,A,T);return F}})},dbf1:function(i,r,a){(function(l){a.d(r,"a",function(){return d});function u(){return typeof window<"u"?window.console:l.console}var d=u()}).call(this,a("c8ba"))},ddb0:function(i,r,a){var l=a("da84"),u=a("fdbc"),d=a("e260"),f=a("9112"),g=a("b622"),p=g("iterator"),v=g("toStringTag"),b=d.values;for(var y in u){var S=l[y],k=S&&S.prototype;if(k){if(k[p]!==b)try{f(k,p,b)}catch{k[p]=b}if(k[v]||f(k,v,y),u[y]){for(var F in d)if(k[F]!==d[F])try{f(k,F,d[F])}catch{k[F]=d[F]}}}}},df75:function(i,r,a){var l=a("ca84"),u=a("7839");i.exports=Object.keys||function(f){return l(f,u)}},e01a:function(i,r,a){var l=a("23e7"),u=a("83ab"),d=a("da84"),f=a("5135"),g=a("861d"),p=a("9bf2").f,v=a("e893"),b=d.Symbol;if(u&&typeof b=="function"&&(!("description"in b.prototype)||b().description!==void 0)){var y={},S=function(){var R=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),z=this instanceof S?new b(R):R===void 0?b():b(R);return R===""&&(y[z]=!0),z};v(S,b);var k=S.prototype=b.prototype;k.constructor=S;var F=k.toString,P=String(b("test"))=="Symbol(test)",A=/^Symbol\((.*)\)[^)]+$/;p(k,"description",{configurable:!0,get:function(){var R=g(this)?this.valueOf():this,z=F.call(R);if(f(y,R))return"";var W=P?z.slice(7,-1):z.replace(A,"$1");return W===""?void 0:W}}),l({global:!0,forced:!0},{Symbol:S})}},e163:function(i,r,a){var l=a("5135"),u=a("7b0b"),d=a("f772"),f=a("e177"),g=d("IE_PROTO"),p=Object.prototype;i.exports=f?Object.getPrototypeOf:function(v){return v=u(v),l(v,g)?v[g]:typeof v.constructor=="function"&&v instanceof v.constructor?v.constructor.prototype:v instanceof Object?p:null}},e177:function(i,r,a){var l=a("d039");i.exports=!l(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})},e260:function(i,r,a){var l=a("fc6a"),u=a("44d2"),d=a("3f8c"),f=a("69f3"),g=a("7dd0"),p="Array Iterator",v=f.set,b=f.getterFor(p);i.exports=g(Array,"Array",function(y,S){v(this,{type:p,target:l(y),index:0,kind:S})},function(){var y=b(this),S=y.target,k=y.kind,F=y.index++;return!S||F>=S.length?(y.target=void 0,{value:void 0,done:!0}):k=="keys"?{value:F,done:!1}:k=="values"?{value:S[F],done:!1}:{value:[F,S[F]],done:!1}},"values"),d.Arguments=d.Array,u("keys"),u("values"),u("entries")},e439:function(i,r,a){var l=a("23e7"),u=a("d039"),d=a("fc6a"),f=a("06cf").f,g=a("83ab"),p=u(function(){f(1)}),v=!g||p;l({target:"Object",stat:!0,forced:v,sham:!g},{getOwnPropertyDescriptor:function(y,S){return f(d(y),S)}})},e538:function(i,r,a){var l=a("b622");r.f=l},e893:function(i,r,a){var l=a("5135"),u=a("56ef"),d=a("06cf"),f=a("9bf2");i.exports=function(g,p){for(var v=u(p),b=f.f,y=d.f,S=0;S<v.length;S++){var k=v[S];l(g,k)||b(g,k,y(p,k))}}},e8b5:function(i,r,a){var l=a("c6b6");i.exports=Array.isArray||function(d){return l(d)=="Array"}},e95a:function(i,r,a){var l=a("b622"),u=a("3f8c"),d=l("iterator"),f=Array.prototype;i.exports=function(g){return g!==void 0&&(u.Array===g||f[d]===g)}},f5df:function(i,r,a){var l=a("00ee"),u=a("c6b6"),d=a("b622"),f=d("toStringTag"),g=u(function(){return arguments}())=="Arguments",p=function(v,b){try{return v[b]}catch{}};i.exports=l?u:function(v){var b,y,S;return v===void 0?"Undefined":v===null?"Null":typeof(y=p(b=Object(v),f))=="string"?y:g?u(b):(S=u(b))=="Object"&&typeof b.callee=="function"?"Arguments":S}},f772:function(i,r,a){var l=a("5692"),u=a("90e3"),d=l("keys");i.exports=function(f){return d[f]||(d[f]=u(f))}},fb15:function(i,r,a){if(a.r(r),typeof window<"u"){var l=window.document.currentScript;{var u=a("8875");l=u(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:u})}var d=l&&l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);d&&(a.p=d[1])}a("99af"),a("4de4"),a("4160"),a("c975"),a("d81d"),a("a434"),a("159b"),a("a4d3"),a("e439"),a("dbb4"),a("b64b");function f(j,V,Y){return V in j?Object.defineProperty(j,V,{value:Y,enumerable:!0,configurable:!0,writable:!0}):j[V]=Y,j}function g(j,V){var Y=Object.keys(j);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(j);V&&(it=it.filter(function(gt){return Object.getOwnPropertyDescriptor(j,gt).enumerable})),Y.push.apply(Y,it)}return Y}function p(j){for(var V=1;V<arguments.length;V++){var Y=arguments[V]!=null?arguments[V]:{};V%2?g(Object(Y),!0).forEach(function(it){f(j,it,Y[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(Y)):g(Object(Y)).forEach(function(it){Object.defineProperty(j,it,Object.getOwnPropertyDescriptor(Y,it))})}return j}function v(j){if(Array.isArray(j))return j}a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function b(j,V){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(j)))){var Y=[],it=!0,gt=!1,wt=void 0;try{for(var Et=j[Symbol.iterator](),Zt;!(it=(Zt=Et.next()).done)&&(Y.push(Zt.value),!(V&&Y.length===V));it=!0);}catch(me){gt=!0,wt=me}finally{try{!it&&Et.return!=null&&Et.return()}finally{if(gt)throw wt}}return Y}}a("a630"),a("fb6a"),a("b0c0"),a("25f0");function y(j,V){(V==null||V>j.length)&&(V=j.length);for(var Y=0,it=new Array(V);Y<V;Y++)it[Y]=j[Y];return it}function S(j,V){if(j){if(typeof j=="string")return y(j,V);var Y=Object.prototype.toString.call(j).slice(8,-1);if(Y==="Object"&&j.constructor&&(Y=j.constructor.name),Y==="Map"||Y==="Set")return Array.from(j);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return y(j,V)}}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F(j,V){return v(j)||b(j,V)||S(j,V)||k()}function P(j){if(Array.isArray(j))return y(j)}function A(j){if(typeof Symbol<"u"&&Symbol.iterator in Object(j))return Array.from(j)}function T(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(j){return P(j)||A(j)||S(j)||T()}var z=a("a352"),W=a.n(z);function B(j){j.parentElement!==null&&j.parentElement.removeChild(j)}function J(j,V,Y){var it=Y===0?j.children[0]:j.children[Y-1].nextSibling;j.insertBefore(V,it)}var q=a("dbf1");a("13d5"),a("4fad"),a("ac1f"),a("5319");function lt(j){var V=Object.create(null);return function(it){var gt=V[it];return gt||(V[it]=j(it))}}var et=/-(\w)/g,rt=lt(function(j){return j.replace(et,function(V,Y){return Y.toUpperCase()})});a("5db7"),a("73d9");var dt=["Start","Add","Remove","Update","End"],nt=["Choose","Unchoose","Sort","Filter","Clone"],ot=["Move"],_t=[ot,dt,nt].flatMap(function(j){return j}).map(function(j){return"on".concat(j)}),Pt={manage:ot,manageAndEmit:dt,emit:nt};function se(j){return _t.indexOf(j)!==-1}a("caad"),a("2ca0");var jt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function ee(j){return jt.includes(j)}function ce(j){return["transition-group","TransitionGroup"].includes(j)}function le(j){return["id","class","role","style"].includes(j)||j.startsWith("data-")||j.startsWith("aria-")||j.startsWith("on")}function Qt(j){return j.reduce(function(V,Y){var it=F(Y,2),gt=it[0],wt=it[1];return V[gt]=wt,V},{})}function Wt(j){var V=j.$attrs,Y=j.componentData,it=Y===void 0?{}:Y,gt=Qt(Object.entries(V).filter(function(wt){var Et=F(wt,2),Zt=Et[0];return Et[1],le(Zt)}));return p(p({},gt),it)}function pe(j){var V=j.$attrs,Y=j.callBackBuilder,it=Qt(Ue(V));Object.entries(Y).forEach(function(wt){var Et=F(wt,2),Zt=Et[0],me=Et[1];Pt[Zt].forEach(function(Dt){it["on".concat(Dt)]=me(Dt)})});var gt="[data-draggable]".concat(it.draggable||"");return p(p({},it),{},{draggable:gt})}function Ue(j){return Object.entries(j).filter(function(V){var Y=F(V,2),it=Y[0];return Y[1],!le(it)}).map(function(V){var Y=F(V,2),it=Y[0],gt=Y[1];return[rt(it),gt]}).filter(function(V){var Y=F(V,2),it=Y[0];return Y[1],!se(it)})}a("c740");function Pe(j,V){if(!(j instanceof V))throw new TypeError("Cannot call a class as a function")}function Zn(j,V){for(var Y=0;Y<V.length;Y++){var it=V[Y];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(j,it.key,it)}}function In(j,V,Y){return V&&Zn(j.prototype,V),Y&&Zn(j,Y),j}var Sn=function(V){var Y=V.el;return Y},Ne=function(V,Y){return V.__draggable_context=Y},re=function(V){return V.__draggable_context},wn=function(){function j(V){var Y=V.nodes,it=Y.header,gt=Y.default,wt=Y.footer,Et=V.root,Zt=V.realList;Pe(this,j),this.defaultNodes=gt,this.children=[].concat(R(it),R(gt),R(wt)),this.externalComponent=Et.externalComponent,this.rootTransition=Et.transition,this.tag=Et.tag,this.realList=Zt}return In(j,[{key:"render",value:function(Y,it){var gt=this.tag,wt=this.children,Et=this._isRootComponent,Zt=Et?{default:function(){return wt}}:wt;return Y(gt,it,Zt)}},{key:"updated",value:function(){var Y=this.defaultNodes,it=this.realList;Y.forEach(function(gt,wt){Ne(Sn(gt),{element:it[wt],index:wt})})}},{key:"getUnderlyingVm",value:function(Y){return re(Y)}},{key:"getVmIndexFromDomIndex",value:function(Y,it){var gt=this.defaultNodes,wt=gt.length,Et=it.children,Zt=Et.item(Y);if(Zt===null)return wt;var me=re(Zt);if(me)return me.index;if(wt===0)return 0;var Dt=Sn(gt[0]),pt=R(Et).findIndex(function(xt){return xt===Dt});return Y<pt?0:wt}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),j}(),Rn=a("8bbf");function Be(j,V){var Y=j[V];return Y?Y():[]}function is(j){var V=j.$slots,Y=j.realList,it=j.getKey,gt=Y||[],wt=["header","footer"].map(function(xt){return Be(V,xt)}),Et=F(wt,2),Zt=Et[0],me=Et[1],Dt=V.item;if(!Dt)throw new Error("draggable element must have an item slot");var pt=gt.flatMap(function(xt,zt){return Dt({element:xt,index:zt}).map(function(Yt){return Yt.key=it(xt),Yt.props=p(p({},Yt.props||{}),{},{"data-draggable":!0}),Yt})});if(pt.length!==gt.length)throw new Error("Item slot must have only one child");return{header:Zt,footer:me,default:pt}}function lr(j){var V=ce(j),Y=!ee(j)&&!V;return{transition:V,externalComponent:Y,tag:Y?Object(Rn.resolveComponent)(j):V?Rn.TransitionGroup:j}}function Xe(j){var V=j.$slots,Y=j.tag,it=j.realList,gt=j.getKey,wt=is({$slots:V,realList:it,getKey:gt}),Et=lr(Y);return new wn({nodes:wt,root:Et,realList:it})}function Ve(j,V){var Y=this;Object(Rn.nextTick)(function(){return Y.$emit(j.toLowerCase(),V)})}function Ln(j){var V=this;return function(Y,it){if(V.realList!==null)return V["onDrag".concat(j)](Y,it)}}function li(j){var V=this,Y=Ln.call(this,j);return function(it,gt){Y.call(V,it,gt),Ve.call(V,j,it)}}var ss=null,Jn={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(V){return V}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},rs=["update:modelValue","change"].concat(R([].concat(R(Pt.manageAndEmit),R(Pt.emit)).map(function(j){return j.toLowerCase()}))),Qn=Object(Rn.defineComponent)({name:"draggable",inheritAttrs:!1,props:Jn,emits:rs,data:function(){return{error:!1}},render:function(){try{this.error=!1;var V=this.$slots,Y=this.$attrs,it=this.tag,gt=this.componentData,wt=this.realList,Et=this.getKey,Zt=Xe({$slots:V,tag:it,realList:wt,getKey:Et});this.componentStructure=Zt;var me=Wt({$attrs:Y,componentData:gt});return Zt.render(Rn.h,me)}catch(Dt){return this.error=!0,Object(Rn.h)("pre",{style:{color:"red"}},Dt.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&q.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var V=this;if(!this.error){var Y=this.$attrs,it=this.$el,gt=this.componentStructure;gt.updated();var wt=pe({$attrs:Y,callBackBuilder:{manageAndEmit:function(me){return li.call(V,me)},emit:function(me){return Ve.bind(V,me)},manage:function(me){return Ln.call(V,me)}}}),Et=it.nodeType===1?it:it.parentElement;this._sortable=new W.a(Et,wt),this.targetDomElement=Et,Et.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var V=this.list;return V||this.modelValue},getKey:function(){var V=this.itemKey;return typeof V=="function"?V:function(Y){return Y[V]}}},watch:{$attrs:{handler:function(V){var Y=this._sortable;Y&&Ue(V).forEach(function(it){var gt=F(it,2),wt=gt[0],Et=gt[1];Y.option(wt,Et)})},deep:!0}},methods:{getUnderlyingVm:function(V){return this.componentStructure.getUnderlyingVm(V)||null},getUnderlyingPotencialDraggableComponent:function(V){return V.__draggable_component__},emitChanges:function(V){var Y=this;Object(Rn.nextTick)(function(){return Y.$emit("change",V)})},alterList:function(V){if(this.list){V(this.list);return}var Y=R(this.modelValue);V(Y),this.$emit("update:modelValue",Y)},spliceList:function(){var V=arguments,Y=function(gt){return gt.splice.apply(gt,R(V))};this.alterList(Y)},updatePosition:function(V,Y){var it=function(wt){return wt.splice(Y,0,wt.splice(V,1)[0])};this.alterList(it)},getRelatedContextFromMoveEvent:function(V){var Y=V.to,it=V.related,gt=this.getUnderlyingPotencialDraggableComponent(Y);if(!gt)return{component:gt};var wt=gt.realList,Et={list:wt,component:gt};if(Y!==it&&wt){var Zt=gt.getUnderlyingVm(it)||{};return p(p({},Zt),Et)}return Et},getVmIndexFromDomIndex:function(V){return this.componentStructure.getVmIndexFromDomIndex(V,this.targetDomElement)},onDragStart:function(V){this.context=this.getUnderlyingVm(V.item),V.item._underlying_vm_=this.clone(this.context.element),ss=V.item},onDragAdd:function(V){var Y=V.item._underlying_vm_;if(Y!==void 0){B(V.item);var it=this.getVmIndexFromDomIndex(V.newIndex);this.spliceList(it,0,Y);var gt={element:Y,newIndex:it};this.emitChanges({added:gt})}},onDragRemove:function(V){if(J(this.$el,V.item,V.oldIndex),V.pullMode==="clone"){B(V.clone);return}var Y=this.context,it=Y.index,gt=Y.element;this.spliceList(it,1);var wt={element:gt,oldIndex:it};this.emitChanges({removed:wt})},onDragUpdate:function(V){B(V.item),J(V.from,V.item,V.oldIndex);var Y=this.context.index,it=this.getVmIndexFromDomIndex(V.newIndex);this.updatePosition(Y,it);var gt={element:this.context.element,oldIndex:Y,newIndex:it};this.emitChanges({moved:gt})},computeFutureIndex:function(V,Y){if(!V.element)return 0;var it=R(Y.to.children).filter(function(Zt){return Zt.style.display!=="none"}),gt=it.indexOf(Y.related),wt=V.component.getVmIndexFromDomIndex(gt),Et=it.indexOf(ss)!==-1;return Et||!Y.willInsertAfter?wt:wt+1},onDragMove:function(V,Y){var it=this.move,gt=this.realList;if(!it||!gt)return!0;var wt=this.getRelatedContextFromMoveEvent(V),Et=this.computeFutureIndex(wt,V),Zt=p(p({},this.context),{},{futureIndex:Et}),me=p(p({},V),{},{relatedContext:wt,draggedContext:Zt});return it(me,Y)},onDragEnd:function(){ss=null}}}),Nn=Qn;r.default=Nn},fb6a:function(i,r,a){var l=a("23e7"),u=a("861d"),d=a("e8b5"),f=a("23cb"),g=a("50c4"),p=a("fc6a"),v=a("8418"),b=a("b622"),y=a("1dde"),S=a("ae40"),k=y("slice"),F=S("slice",{ACCESSORS:!0,0:0,1:2}),P=b("species"),A=[].slice,T=Math.max;l({target:"Array",proto:!0,forced:!k||!F},{slice:function(z,W){var B=p(this),J=g(B.length),q=f(z,J),lt=f(W===void 0?J:W,J),et,rt,dt;if(d(B)&&(et=B.constructor,typeof et=="function"&&(et===Array||d(et.prototype))?et=void 0:u(et)&&(et=et[P],et===null&&(et=void 0)),et===Array||et===void 0))return A.call(B,q,lt);for(rt=new(et===void 0?Array:et)(T(lt-q,0)),dt=0;q<lt;q++,dt++)q in B&&v(rt,dt,B[q]);return rt.length=dt,rt}})},fc6a:function(i,r,a){var l=a("44ad"),u=a("1d80");i.exports=function(d){return l(u(d))}},fdbc:function(i,r){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,r,a){var l=a("4930");i.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(tp);var QS=tp.exports;const Y2=Xg(QS);const $S={name:"language-dropdown",description:"Language  dropdown component",props:{language:{type:String,default:"en"}},data(){return{loading:!1,languages:""}},watch:{},computed:{langSorted(){return _.orderBy(this.languages,"name","asc")}},beforeMount(){this.getLanguages()},methods:{getLanguages(){this.loading=!0,axios.get("api/dependency/languages?meta=true").then(n=>{this.loading=!1,this.languages=n.data.data.languages,this.$store.dispatch("setAllLangs",this.languages)}).catch(n=>{this.loading=!1})},changeLang(n){axios.post("api/user-language?locale="+n).then(t=>{window.location.reload()})}}},qS={class:"nav-item dropdown"},tw={class:"nav-link","data-bs-toggle":"dropdown",href:"javascript:;"},ew=["src"],nw={class:"dropdown-menu dropdown-menu-sm dropdown-menu-end p-0",id:"lang_div"},iw=["onClick"],sw=["src"],rw={key:0,class:"row",id:"load"};function aw(n,t,e,s,i,r){const a=st("reuse-loader");return D(),M("li",qS,[O("a",tw,[O("img",{src:n.basePathVersion()+"/themes/default/common/images/flags/"+e.language+".png"},null,8,ew)]),O("div",nw,[(D(!0),M(St,null,ze(r.langSorted,l=>(D(),M("a",{href:"javascript:;",class:"dropdown-item",onClick:u=>r.changeLang(l.locale)},[O("img",{src:n.basePathVersion()+"/themes/default/common/images/flags/"+l.locale+".png",class:"me-2"},null,8,sw),at("   "+H(l.name)+"  ‏("+H(l.translation)+")‏ ",1)],8,iw))),256)),i.loading?(D(),M("div",rw,[Q(a,{"animation-duration":4e3,size:30})])):K("",!0)])])}const ow=qt($S,[["render",aw],["__scopeId","data-v-e8c10065"]]);const lw={setup(){const n=la();return{formattedTime:ir(()=>n.getters.formattedTime),formattedDate:ir(()=>n.getters.formattedDate)}},props:{userId:{type:[String,Number],default:""},callingFrom:{type:String,default:""},headerBackground:{type:String,default:""}},data(){return{loading:!1,notifications:[],count:0,notification_count:0,handledData:[],page:1,showLoader:!1,initialLoading:!0,backgroundColors:{"navbar-light":"#f8f9fa","navbar-dark navbar-blue":"#3c8dbc","navbar-dark navbar-black":"#343a40","navbar-dark navbar-green":"#28a745","navbar-dark navbar-purple":"#6f42c1","navbar-dark navbar-red":"#dc3545","navbar-light navbar-yellow":"#ffc107","navbar-light navbar-orange":"#fd7e14"},indicatorBackground:"#FFF"}},beforeMount(){this.indicatorBackground=this.backgroundColors[this.headerBackground],this.getInitialLogs()},created(){window.emitter.on("update-sidebar",this.getCount)},methods:{subString(n,t=30){return ca(n,t)},reloadNotifications(){if(this.initialLoading)return this.initialLoading=!1,!1;this.getInitialLogs()},getInitialLogs(){this.handledData=[],this.notifications=[],this.page=1,this.getLogs()},getLogs(n,t=!1){this.showLoader=!0,Ce.get("/api/in-app/auth/notifications",{params:{page:this.page}}).then(e=>{t?this.notifications=e.data.data:this.notifications.push(...e.data.data),n&&n.loaded(),e.data.data.length<10&&n&&n.complete(),this.page++,this.notification_count=e.data.unread_count,this.handleData(this.notifications),this.showLoader=!1}).catch(e=>{this.showLoader=!1,this.notifications=[]})},handleData(n){for(var t in n)if(n[t].notified_by==null||typeof n[t].notified_by.full_name>"u"){n[t].user="Elea";var e=this.basePathVersion()+"/themes/default/common/images/system.png";n[t].notified_by={profile_pic:e}}else n[t].user=n[t].notified_by.full_name;this.handledData=n},makeSeen(n){let t=n.action_link.includes("panel")?n.action_link.replace(this.basePath()+"/panel",""):n.action_link.replace(this.basePath(),"");n.seen?this.redirectTo(t):(this.loading=!0,Ce.patch("/api/in-app/auth/mark-read/"+n.id).then(e=>{this.loading=!1,this.notification_count=this.notification_count-1,this.redirectTo(t)}).catch(e=>{this.loading=!1}))},markALLSeen(){this.loading=!0,Ce.patch("/api/in-app/auth/mark-read/").then(n=>{this.loading=!1,this.getInitialLogs()}).catch(n=>{this.loading=!1})},deleteAll(){this.loading=!0,Ce.delete("/api/in-app/auth/delete").then(n=>{this.loading=!1,this.getInitialLogs()}).catch(n=>{this.loading=!1})},redirectTo(n){n.includes("/agent/export/download/")||n.includes("/admin/view/import-tracking-details")||n.includes("ticket-print")||n.includes("service-desk/change-print")||n.includes("user/list/download/")||n.includes("/billing-user-packages")?Ce.get(n).then(t=>{window.open(this.basePath()+n)}).catch(t=>{rn(t,"layout")}):n.includes("/service-desk/import-tracking/")?window.open(n.replace(this.basePath(),this.basePath()+"/admin")):this.callingFrom=="admin"&&!n.includes("system-backup")?this.redirect("/panel"+n):n.includes("user/list")?this.redirect("/panel"+n):n.includes("/admin/system-backup")?this.redirect(n):this.$router.push({path:n})}}},cw={class:"nav-item dropdown"},uw={class:"dropdown-menu dropdown-menu-xl dropdown-menu-end inapp-notify-drop"},dw={class:"dropdown-header"},fw={key:0,class:"dropdown-header notify-actions row"},hw={class:"row"},gw={class:"col-sm-6 read"},pw={class:"col-sm-6 delete pe-0"},mw={key:0},vw=["onClick"],bw={class:"media"},yw={class:"media-body"},_w={class:"dropdown-item-title text-primary"},xw=["innerHTML"],Sw={class:"text-xs text-muted"},ww={key:1,class:"mb-3"};function Cw(n,t,e,s,i,r){const a=st("faveo-image-element"),l=st("infinite-loading"),u=st("reuse-loader"),d=st("custom-loader"),f=xn("tooltip");return D(),M("li",cw,[O("a",{class:"nav-link font-1","data-bs-toggle":"dropdown",href:"javascript:;",onClick:t[0]||(t[0]=(...g)=>r.reloadNotifications&&r.reloadNotifications(...g))},[O("div",null,[t[4]||(t[4]=O("i",{class:"far fa-bell"},null,-1)),i.notification_count>0?(D(),M("div",{key:0,class:"indicator",style:Ds({"border-color":i.indicatorBackground})},null,4)):K("",!0)])]),O("div",uw,[O("span",dw,H(n.trans("you_have"))+" "+H(i.notification_count)+" "+H(n.trans("unread_notification")),1),i.handledData.length>0?(D(),M("div",fw,[O("div",hw,[O("div",gw,[i.notification_count>0?(D(),M("a",{key:0,href:"javascript:;",onClick:t[1]||(t[1]=(...g)=>r.markALLSeen&&r.markALLSeen(...g))},[t[5]||(t[5]=O("span",null,[O("i",{class:"fas fa-circle"})],-1)),at(" "+H(n.trans("mark_all_as_read")),1)])):K("",!0)]),O("div",pw,[O("a",{href:"javascript:;",onClick:t[2]||(t[2]=(...g)=>r.deleteAll&&r.deleteAll(...g)),class:"float-end"},[t[6]||(t[6]=O("span",null,[O("i",{class:"fas fa-trash-alt"})],-1)),at(" "+H(n.trans("delete_all")),1)])])])])):K("",!0),O("div",{class:"scrollable-ul",id:"activity_scroll",onScroll:t[3]||(t[3]=(...g)=>n.handleScroll&&n.handleScroll(...g))},[i.handledData.length>0?(D(),M("div",mw,[(D(!0),M(St,null,ze(i.handledData,(g,p)=>(D(),M(St,null,[t[9]||(t[9]=O("div",{class:"dropdown-divider"},null,-1)),O("a",{href:"javascript:;",onClick:v=>r.makeSeen(g),class:te(["dropdown-item",{"bg-light":!g.is_read,"bg-whitte":g.seen,"pointer-normal":g.action_link===""}])},[O("div",bw,[Q(a,{id:"size-30","source-url":g.notified_by.profile_pic,classes:["img-size-50 me-3 img-circle elevation-2 img-rounder"],"alternative-text":"User Image"},null,8,["source-url"]),O("div",yw,[At((D(),M("h3",_w,[at(H(r.subString(g.user)),1)])),[[f,g.user]]),At(O("p",{class:"text-gray break-word",innerHTML:g.notify_message},null,8,xw),[[f,{content:g.notify_message,html:!0}]]),O("p",Sw,[t[7]||(t[7]=O("i",{class:"far fa-clock me-1"},null,-1)),t[8]||(t[8]=at()),O("i",null,H(s.formattedTime(g.created_at)),1)])])])],10,vw)],64))),256)),Q(l,{onInfinite:r.getLogs},{spinner:bt(()=>t[10]||(t[10]=[O("span",null,null,-1)])),complete:bt(()=>t[11]||(t[11]=[O("span",null,null,-1)])),_:1},8,["onInfinite"])])):K("",!0)],32),i.showLoader?(D(),M("div",ww,[Q(u,{"animation-duration":4e3,size:30})])):K("",!0)]),i.loading?(D(),yt(d,{key:0,"animation-duration":4e3})):K("",!0)])}const kw=qt(lw,[["render",Cw],["__scopeId","data-v-1b66c79a"]]);const Ow={name:"system-updates",props:{callingFrom:{type:String,default:""},headerBackground:{type:String,default:""}},data(){return{updatesCount:"",backgroundColors:{"navbar-light":"#f8f9fa","navbar-dark navbar-blue":"#3c8dbc","navbar-dark navbar-black":"#343a40","navbar-dark navbar-green":"#28a745","navbar-dark navbar-purple":"#6f42c1","navbar-dark navbar-red":"#dc3545","navbar-light navbar-yellow":"#ffc107","navbar-light navbar-orange":"#fd7e14"},indicatorBackground:"#FFF"}},beforeMount(){this.indicatorBackground=this.backgroundColors[this.headerBackground],this.getUpdate()},methods:{getUpdate(){this.loading=!0,axios.get("/auto-update/notification").then(n=>{this.loading=!1,this.updatesCount=n.data.data.count}).catch(n=>{this.loading=!1,this.updatesCount=0})}}},Fw={key:0,class:"nav-item dropdown"},Dw={class:"nav-link font-1","data-bs-toggle":"dropdown",href:"javascript:;"},Ew={class:"dropdown-menu dropdown-menu-lg dropdown-menu-end"},Aw={key:0,class:"dropdown-header"},Tw={href:"javascript:;",class:"dropdown-item"},Mw=["href"];function Pw(n,t,e,s,i,r){const a=st("router-link"),l=xn("tooltip");return i.updatesCount>0?(D(),M("li",Fw,[At((D(),M("a",Dw,[O("div",null,[t[0]||(t[0]=O("i",{class:"fas fa-sync-alt"},null,-1)),i.updatesCount>0?(D(),M("div",{key:0,class:"indicator",style:Ds({"border-color":i.indicatorBackground})},null,4)):K("",!0)])])),[[l,n.trans("application_updates")]]),O("div",Ew,[i.updatesCount?K("",!0):(D(),M("span",Aw,"You have "+H(i.updatesCount)+" update(s)",1)),i.updatesCount?(D(),M(St,{key:1},[t[6]||(t[6]=O("span",{class:"dropdown-header"},"New version(s) available.",-1)),t[7]||(t[7]=O("div",{class:"dropdown-divider"},null,-1)),O("a",Tw,[e.callingFrom=="admin"?(D(),M(St,{key:0},[t[2]||(t[2]=at(" Please ")),Q(a,{to:"/check-updates"},{default:bt(()=>t[1]||(t[1]=[at(" click here ")])),_:1}),t[3]||(t[3]=at(" to update your system. "))],64)):(D(),M(St,{key:1},[t[4]||(t[4]=at(" Please ")),O("a",{href:n.basePath()+"/admin/check-updates"}," click here ",8,Mw),t[5]||(t[5]=at(" to update your system. "))],64))])],64)):K("",!0)])])):K("",!0)}const Iw=qt(Ow,[["render",Pw],["__scopeId","data-v-af87f990"]]);const Rw={name:"status-switch",description:"Switch for turning ON/OFF status of a feature in a fancy way",props:{name:{type:[String,Number],required:!0},value:{type:[Boolean,Number],default:!1},classname:{type:String,default:""},onChange:{type:Function,Required:!0},bold:{type:[Boolean,Number],default:!1}},data(){return{enabled:_n(this.value)}},watch:{enabled(n){this.onChange(n,this.name)},value(n){this.enabled=_n(this.value)}}};function Lw(n,t,e,s,i,r){const a=st("toggle");return D(),M("div",{class:te(e.classname)},[Q(a,{modelValue:i.enabled,"onUpdate:modelValue":t[0]||(t[0]=l=>i.enabled=l),class:"toggle-switch"},null,8,["modelValue"])],2)}const Nw=qt(Rw,[["render",Lw]]);const Bw={name:"GlobalSearch",components:{"status-switch":Nw},props:{userId:{type:[String,Number],default:""},callingFrom:{type:String,default:""},headerBackground:{type:String,default:""}},data(){return{backgroundColors:{"navbar-light":"#f8f9fa","navbar-dark navbar-blue":"#3c8dbc","navbar-dark navbar-black":"#343a40","navbar-dark navbar-green":"#28a745","navbar-dark navbar-purple":"#6f42c1","navbar-dark navbar-red":"#dc3545","navbar-light navbar-yellow":"#ffc107","navbar-light navbar-orange":"#fd7e14"},indicatorBackground:"#FFF",mainFilter:[{id:"all",title:"all"},{id:"tickets",title:"tickets"},{id:"contacts",title:"contacts"},{id:"articles",title:"articles"}],searchBy:[],isDropdownOpen:!0,showSearchby:!1,searchedText:"",recentSearches:[],timeoutId:null,searchResult:"",showLoader:!1,apiUrl:"",search:"",selected:"all",category:"all",showRecentSearch:!0,showData:!1,noData:"all",filterParams:[],recentlyViewed:[],selectAllText:"",page:1,ticketNextPageUrl:"",loadUrl:"",nextPage:"",loadData:!1,next_pageUrl:"",reloadData:""}},beforeMount(){this.indicatorBackground=this.backgroundColors[this.headerBackground],this.getSearchedText(),setTimeout(()=>{this.$refs.searchInput.focus()},1)},watch:{searchedText(n){n.length===0&&(this.showRecentSearch=!0,this.showData=!1)}},computed:{...V1(["formattedDate"]),noDataMessage(){if(this.noData==="all"&&(!this.searchResult||this.searchResult.tickets&&this.searchResult.tickets.count<=0&&this.searchResult.contacts&&this.searchResult.contacts.count<=0&&this.searchResult.articles&&this.searchResult.articles.count<=0))return this.lang("no_data_found");if(this.searchResult&&this.noData!=="all"){if(this.searchResult.tickets&&this.searchResult.tickets.count<=0&&this.noData==="tickets")return this.lang("no_tickets_found");if(this.searchResult.contacts&&this.searchResult.contacts.count<=0&&this.noData==="contacts")return this.lang("no_contacts_found");if(this.searchResult.articles&&this.searchResult.articles.count<=0&&this.noData==="articles")return this.lang("no_articles_found")}return null}},methods:{outsideClick(n){const t=this.$el,{clientX:e,clientY:s}=n,i=t.getBoundingClientRect(),r=i.left+window.pageXOffset,a=i.right+window.pageXOffset,l=i.top-window.pageYOffset,u=i.bottom+window.pageYOffset,f=e<r-400||e>a||s<l||s>u,g=!t.contains(n.target);f&&g&&this.isDropdownOpen&&this.closeSearchBar()},gotoViewAll(n){this.closeSearchBar();const t=Date.now().toString();this.$router.push({path:"/search-results",query:{type:n,endpoint:this.apiUrl,key:t}})},closeSearchBar(){this.$emit("close-search-bar",!1)},subString(n,t=30){return ca(n,t)},searchText(n){this.searchedText=n,this.$refs.searchInput.focus()},getSearchedText(){return Ce.get("/agent/recent-searches/get").then(n=>{var t,e;this.recentSearches=((e=(t=n.data)==null?void 0:t.data)==null?void 0:e.recentSearches)||[]}).catch(n=>{})},callFilterData(){event.stopPropagation(),this.getFilterParams(),this.updateSelectAllText(),this.showSearchby=!0},onChange(n,t){this[t]=n;const e=this.searchBy.find(s=>s.id===t);if(e)if(n)this.filterParams.includes(e.id)||this.filterParams.push(e.id);else{const s=this.filterParams.indexOf(e.id);s>-1&&this.filterParams.splice(s,1)}this.updateSelectAllText()},toggleSelectAll(){this.selectAllText==="select_all"?(this.selectAllText="deselect_all",this.searchBy.forEach(n=>{n.is_selected=!0,this.filterParams.includes(n.id)||this.filterParams.push(n.id)})):(this.selectAllText="select_all",this.searchBy.forEach(n=>{n.is_selected=!1;const t=this.filterParams.indexOf(n.id);t>-1&&this.filterParams.splice(t,1)}))},updateSelectAllText(){this.filterParams.length===0?this.selectAllText="select_all":this.filterParams.length===this.searchBy.length?this.selectAllText="deselect_all":this.selectAllText="deselect_all"},selectedFilter(n){this.selected!==n&&(this.selected=n,this.category=n,this.searchedText.length>0&&this.category&&this.searchContent(),this.noData=n)},isSelected(n){return this.selected===n},clearSearchHistory(){Ce.get("/agent/recent-searches/clear").then(n=>{this.recentSearches=[]}).catch(n=>{})},getFilterParams(){this.showLoader=!0,Ce.get("/agent/search-preferences").then(n=>{this.searchBy=n.data.data,this.showLoader=!1,this.filterParams=[];for(const t of this.searchBy)t.is_selected&&this.filterParams.push(t.id);this.updateSelectAllText()}).catch(n=>{this.showLoader=!1,rn(n)})},searchContent(){if(!(!this.searchedText||this.searchedText.trim()==="")){if(this.showSearchby&&(this.showSearchby=!1),this.category&&this.category!=="all"&&this.searchedText&&this.searchedText.length>0){let n=encodeURIComponent(this.searchedText);this.apiUrl="/search-all?search-query="+n+"&category[]="+this.category}else if(this.searchedText&&this.searchedText.length>0){let n=encodeURIComponent(this.searchedText);this.apiUrl="/search-all?search-query="+n}this.searchedText&&this.searchedText.length>0&&(this.showRecentSearch=!1,this.showData=!0,this.showLoader=!0,Ce.get(this.apiUrl).then(n=>{this.getSearchedText(),this.showLoader=!1,this.searchResult=n.data.data,this.nextPage=this.category,n.data.data[this.nextPage].data.next_page_url&&this.category!=="all"&&(this.loadUrl=n.data.data[this.nextPage].data.next_page_url)}).catch(n=>{this.showLoader=!1}))}},saveFilters(){event.stopPropagation();const n={"filter-ids":[...this.filterParams]};Ce.post("/agent/search-preferences",n).then(t=>{this.searchContent(),Es(t)}).catch(t=>{rn(t)}),this.showSearchby=!1},cancelFilters(){event.stopPropagation(),this.showSearchby=!1}},beforeDestroy(){document.removeEventListener("click",this.outsideClick)},mounted(){document.addEventListener("click",this.outsideClick),this.updateSelectAllText()}},Vw={class:"nav-item dropdown"},jw={class:"nav-link font-1"},zw={class:"navbar-search-block navbar-search-open global-search-box"},Uw={class:"input-group input-group-sm global-search-input-group position-absolute"},Ww=["placeholder"],Hw={key:0,class:"loader-overlay"},Yw={class:"loader-content"},Kw={key:0,class:"filter_by"},Gw={class:"card-header"},Xw={class:"row search-by-btn"},Zw=["onClick"],Jw={class:"ms-auto pe-2"},Qw={class:"dropdown-item dropdown-header text-start bg-light"},$w=["onClick"],qw={key:0,class:"pt-3 pb-2 text-center"},tC={class:"dropdown-item dropdown-header text-start bg-light"},eC={class:"text-muted fs-8"},nC={class:"text-primary"},iC={class:"text-primary"},sC={class:"float-end text-muted fs-8"},rC={class:"dropdown-item dropdown-header text-start bg-light"},aC={href:"javascript:;",class:"dropdown-item bg-light"},oC={class:"text-muted fs-8"},lC={class:"text-primary"},cC={class:"float-end text-muted fs-8"},uC={class:"dropdown-item dropdown-header text-start"},dC=["href"],fC={class:"text-primary fs-8"},hC={class:"float-end text-muted fs-8"},gC={key:1,class:"search_by"},pC={key:0,class:"card heading-card"},mC={class:"card-header"},vC={class:"card-body filter-data"},bC={class:"scrollable-ul",id:"activity_scroll"},yC={class:"card-footer"};function _C(n,t,e,s,i,r){const a=st("reuse-loader"),l=st("router-link"),u=st("status-switch"),d=xn("tooltip");return D(),M("li",Vw,[O("a",jw,[O("div",zw,[O("div",Uw,[At(O("input",{"onUpdate:modelValue":t[0]||(t[0]=f=>i.searchedText=f),ref:"searchInput",class:"form-control",type:"search",autofocus:"",placeholder:n.trans("search"),onKeyup:t[1]||(t[1]=j1(f=>r.searchContent(),["enter"]))},null,40,Ww),[[qo,i.searchedText,void 0,{trim:!0}]]),O("a",{class:"btn btn-light search_button",type:"button",onClick:t[2]||(t[2]=f=>r.searchContent())},t[16]||(t[16]=[O("i",{class:"fas fa-search"},null,-1)])),O("a",{class:"btn btn-light search_button",type:"button",onClick:t[3]||(t[3]=(...f)=>r.closeSearchBar&&r.closeSearchBar(...f))},t[17]||(t[17]=[O("i",{class:"fas fa-times"},null,-1)])),i.showLoader?(D(),M("div",Hw,[O("div",Yw,[Q(a,{"animation-duration":6e3,size:20})])])):K("",!0)])])]),O("div",{class:te(["dropdown-menu dropdown-menu-xl dropdown-menu-right search-data",{show:i.isDropdownOpen}])},[i.showSearchby?K("",!0):(D(),M("div",Kw,[O("div",Gw,[O("div",Xw,[(D(!0),M(St,null,ze(i.mainFilter,f=>(D(),M("div",{key:f,class:"ps-1"},[O("div",{class:te([r.isSelected(f.id)?"btn btn-block btn-primary select-filter":"btn btn-block btn-outline-primary select-filter"]),onClick:g=>r.selectedFilter(f.id)},H(n.lang(f.title)),11,Zw)]))),128)),O("div",Jw,[At(O("i",{class:"fas fa-cog search_icon",onClick:t[4]||(t[4]=f=>r.callFilterData())},null,512),[[d,n.trans("search_filter")]])])])]),O("div",{class:"scrollable-ul",id:"activity_scroll",onScroll:t[12]||(t[12]=(...f)=>n.handleScroll&&n.handleScroll(...f))},[i.showRecentSearch?(D(),M(St,{key:0},[i.recentSearches.length>0?(D(),M(St,{key:0},[O("span",Qw,[O("span",null,H(n.trans("recently_searched")),1),O("a",{href:"javascript:;",class:"text-primary float-end bg-light",onClick:t[5]||(t[5]=f=>r.clearSearchHistory())},H(n.trans("clear_all")),1)]),t[19]||(t[19]=O("div",{class:"dropdown-divider"},null,-1)),(D(!0),M(St,null,ze(i.recentSearches.slice(-5).reverse(),f=>(D(),M("a",{href:"javascript:;",class:"dropdown-item",onClick:g=>r.searchText(f)},[t[18]||(t[18]=O("i",{class:"fas fa-search me-2"},null,-1)),at(" "+H(f),1)],8,$w))),256)),t[20]||(t[20]=O("div",{class:"dropdown-divider"},null,-1))],64)):K("",!0)],64)):K("",!0),i.searchedText&&i.showData&&!i.showLoader?(D(),M(St,{key:1},[r.noDataMessage?(D(),M("div",qw,H(r.noDataMessage),1)):K("",!0),(i.category,D(),M(St,{key:1},[i.searchResult&&i.searchResult.tickets&&i.searchResult.tickets.count>0?(D(),M(St,{key:0},[O("span",tC,[O("span",null,H(n.lang("tickets")),1),O("a",{href:"javascript:;",class:"float-end text-primary",onClick:t[6]||(t[6]=f=>r.gotoViewAll("tickets"))},H(n.trans("view_all"))+" ("+H(i.searchResult.tickets.total)+") ",1)]),t[24]||(t[24]=O("div",{class:"dropdown-divider"},null,-1)),(D(!0),M(St,null,ze(i.searchResult.tickets.data.data.slice(0,i.category==="all"?3:10),f=>(D(),M("div",{key:f,href:"javascript:;",class:"dropdown-item bg-light"},[t[23]||(t[23]=O("i",{class:"fas fa-ticket me-2"},null,-1)),At((D(),yt(l,{to:f.view_url,id:"first_thread_title",onClick:t[7]||(t[7]=g=>r.closeSearchBar())},{default:bt(()=>[O("span",eC,"[#"+H(f.ticket_number)+"]",1),t[21]||(t[21]=at("  ")),O("span",nC,H(f.first_thread.title.length>10?f.first_thread.title.substring(0,10)+"...":f.first_thread.title),1),O("span",iC," ("+H(f.thread_count)+") ",1)]),_:2},1032,["to"])),[[d,f.first_thread.title]]),O("span",sC,[t[22]||(t[22]=O("i",{class:"far fa-clock me-1"},null,-1)),at(H(n.formattedDate(f.created_at)),1)])]))),128)),t[25]||(t[25]=O("div",{class:"dropdown-divider"},null,-1))],64)):K("",!0)],64)),(i.category,D(),M(St,{key:2},[i.searchResult&&i.searchResult.contacts&&i.searchResult.contacts.count>0?(D(),M(St,{key:0},[O("span",rC,[O("span",null,H(n.lang("contacts")),1),O("a",{href:"javascript:;",class:"float-end text-primary",onClick:t[8]||(t[8]=f=>r.gotoViewAll("contacts"))},H(n.trans("view_all"))+" ("+H(i.searchResult.contacts.total)+") ",1)]),t[29]||(t[29]=O("div",{class:"dropdown-divider"},null,-1)),(D(!0),M(St,null,ze(i.searchResult.contacts.data.data.slice(0,i.category==="all"?3:10),f=>(D(),M("div",aC,[t[28]||(t[28]=O("i",{class:"fas fa-user-alt me-2"},null,-1)),Q(l,{to:f.view_url,id:"first_thread_title",onClick:t[9]||(t[9]=g=>r.closeSearchBar())},{default:bt(()=>[At((D(),M("span",oC,[at("["+H(f.email?f.email.length>15?f.email.slice(0,12)+"...":f.email:f.user_name?f.user_name.slice(0,12)+"...":f.user_name)+"]",1)])),[[d,f.email?f.email:f.user_name]]),t[26]||(t[26]=at("   ")),At((D(),M("span",lC,[at(H(f.full_name.length>10?f.full_name.substring(0,10)+"...":f.full_name),1)])),[[d,f.full_name]])]),_:2},1032,["to"]),O("span",cC,[t[27]||(t[27]=O("i",{class:"far fa-clock me-1"},null,-1)),at(H(n.formattedDate(f.created_at)),1)])]))),256)),t[30]||(t[30]=O("div",{class:"dropdown-divider"},null,-1))],64)):K("",!0)],64)),(i.category,D(),M(St,{key:3},[i.searchResult&&i.searchResult.articles&&i.searchResult.articles.count>0?(D(),M(St,{key:0},[O("span",uC,[O("span",null,H(n.lang("articles")),1),O("a",{href:"javascript:;",class:"float-end text-primary bg-light",onClick:t[10]||(t[10]=f=>r.gotoViewAll("articles"))},H(n.trans("view_all"))+" ("+H(i.searchResult.articles.total)+") ",1)]),t[33]||(t[33]=O("div",{class:"dropdown-divider"},null,-1)),(D(!0),M(St,null,ze(i.searchResult.articles.data.data.slice(0,i.category==="all"?3:10),f=>(D(),M("div",{key:f,href:"javascript:;",class:"dropdown-item bg-light"},[t[32]||(t[32]=O("i",{class:"fas fa-newspaper me-2"},null,-1)),O("a",{href:n.basePath()+f.view_url,target:"_blank",onClick:t[11]||(t[11]=g=>r.closeSearchBar())},[At((D(),M("span",fC,[at(H(f.name.length>30?f.name.substring(0,30)+"...":f.name),1)])),[[d,f.name]])],8,dC),O("span",hC,[t[31]||(t[31]=O("i",{class:"far fa-clock me-1"},null,-1)),at(H(n.formattedDate(f.publish_time)),1)])]))),128)),t[34]||(t[34]=O("div",{class:"dropdown-divider"},null,-1))],64)):K("",!0)],64))],64)):K("",!0)],32)])),i.showSearchby?(D(),M("div",gC,[i.showLoader?K("",!0):(D(),M("div",pC,[O("div",mC,[O("h6",null,[O("b",null,H(n.trans("search_by")),1),t[35]||(t[35]=at()),O("a",{class:"select-btn float-end",onClick:t[13]||(t[13]=(...f)=>r.toggleSelectAll&&r.toggleSelectAll(...f))},H(n.lang(i.selectAllText)),1)])]),O("div",vC,[O("div",bC,[(D(!0),M(St,null,ze(i.searchBy,f=>(D(),M("div",{key:f},[at(H(n.lang(f.key))+" ",1),Q(u,{name:f.id,onChange:r.onChange,classname:"toggle_button float-end",value:f.is_selected},null,8,["name","onChange","value"]),t[36]||(t[36]=O("hr",null,null,-1))]))),128))])]),O("div",yC,[O("div",{class:"btn btn-primary float-end",onClick:t[14]||(t[14]=f=>r.saveFilters())},[t[37]||(t[37]=O("i",{class:"fas fa-save"},null,-1)),at(" "+H(n.trans("save")),1)]),O("div",{class:"btn btn-light float-start",onClick:t[15]||(t[15]=f=>r.cancelFilters())},[t[38]||(t[38]=O("i",{class:"fas fa-times"},null,-1)),at(" "+H(n.trans("cancel")),1)])])]))])):K("",!0)],2)])}const xC=qt(Bw,[["render",_C]]);const SC={name:"admin-agent-top-navbar",setup(){const n=la();return{getPushMenu:ir(()=>n.getters.getPushMenu)}},props:{auth:{type:Object,default:()=>{}},portal:{type:Object,default:()=>{}},callingFrom:{type:String,default:""}},data(){return{loading:!1,showSearchBar:!1,topMenuLoading:!1,topMenus:[]}},created(){this.togglePush(),this.getTopMenu()},computed:{userLang(){return this.auth.user_data.user_language?this.auth.user_data.user_language:"en"},dynamicKey(){return`full-name-${this.auth.user_data.full_name}`}},methods:{changeNavColor(){const n=document.querySelector(".app-header");if(n){const t=window.getComputedStyle(n).backgroundColor;if(t==="black"||t==="rgb(0, 0, 0)"||t==="rgba(0, 0, 0, 1)"||t.toLowerCase()==="#000000"){document.querySelectorAll(".app-header .nav-item .nav-link, .app-header .nav-link").forEach(r=>{r.style.color="rgba(255, 255, 255, 0.55)"});let i=document.getElementById("topMenu");i&&(i.style.color="rgba(0, 0, 0, 0.8) !important")}}else console.error(".app-header element not found!")},getTopMenu(){this.topMenuLoading=!0,axios.get("/api/agent/navigation?meta=true").then(n=>{this.topMenus=this.findObjectsWithShowOnTopNavbar(n.data.data),this.topMenuLoading=!1,setTimeout(()=>{this.changeNavColor()},1e3)}).catch(n=>{this.topMenuLoading=!1,rn(n,"layout")})},findObjectsWithShowOnTopNavbar(n,t=null){let e=[];function s(i,r){i.forEach(a=>{a.showOnTopNavbar&&a.iconClass==="far fa-circle"&&r&&(a.iconClass=r),a.showOnTopNavbar&&(a.routeString==="user/list"&&(a.name="create_contact",a.routeString="user/create",a.redirectUrl="/user/create"),e.push(a)),a.children&&a.children.length&&s(a.children,a.iconClass),a.navigations&&a.navigations.length&&s(a.navigations,a.iconClass)})}return s(n,t),e},navbarMounted(){window.emitter.emit("navbar-mounted")},subString(n,t=30){return ca(n,t)},signOut(){this.loading=!0,axios.post("/auth/logout").then(n=>{this.loading=!1,window.location.href=n.data.data?n.data.data:this.basePath()}).catch(n=>{this.loading=!1})},pushMenu(){this.$store.dispatch("setPushMenu",!this.getPushMenu),this.togglePush()},togglePush(){let n=document.getElementById("layout_body");this.$nextTick(()=>{this.getPushMenu?(n.classList.add("sidebar-collapse"),n.classList.remove("sidebar-open")):(n.classList.add("sidebar-open"),n.classList.remove("sidebar-collapse"))})},handleCloseSearchBar(n){this.showSearchBar=n}},components:{"language-dropdown":ow,"inapp-notification":kw,"application-updates":Iw,"global-search":xC,ReuseLoader:z1}},wC={class:"container-fluid"},CC={class:"navbar-nav"},kC={class:"nav-item"},OC={class:"navbar-nav ms-auto"},FC={key:0,class:"nav-item dropdown"},DC={id:"topMenu",href:"javascript:;","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",class:"nav-link dropdown-toggle rounded pb-25"},EC={"aria-labelledby":"topMenu",class:"dropdown-menu border-0 shadow top-dropdown-menu"},AC={key:0},TC=["href"],MC={key:0,class:"dropdown-item text-center"},PC={class:"nav-item"},IC=["href"],RC={key:1,class:"nav-item"},LC=["href"],NC={key:2,class:"nav-link",href:"javascript:;"},BC={key:5,id:"nav-id",class:"nav-item"},VC={class:"nav-item dropdown user-menu"},jC={href:"javascript:;",class:"nav-link dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},zC=["src"],UC={class:"dropdown-menu dropdown-menu-sm dropdown-menu-end rounded model-box rounded text-light dropdown-menu-arrow mt-2 rounded"},WC=["href"];function HC(n,t,e,s,i,r){const a=st("ReuseLoader"),l=st("router-link"),u=st("global-search"),d=st("application-updates"),f=st("inapp-notification"),g=st("language-dropdown"),p=st("faveo-image-element"),v=st("custom-loader"),b=xn("tooltip");return D(),M("nav",{class:te(["app-header navbar navbar-expand",e.callingFrom=="admin"?e.portal.admin_header_color:e.portal.agent_header_color])},[O("div",wC,[O("ul",CC,[O("li",kC,[O("a",{class:"nav-link","data-lte-toggle":"sidebar",href:"javascript:;",role:"button",onClick:t[0]||(t[0]=(...y)=>r.pushMenu&&r.pushMenu(...y))},t[3]||(t[3]=[O("i",{class:"fas fa-bars"},null,-1)]))])]),O("ul",OC,[i.topMenus.length?(D(),M("li",FC,[O("a",DC,[t[4]||(t[4]=O("i",{class:"far fa-plus-square"},null,-1)),at("  "+H(n.trans("new")),1)]),O("ul",EC,[i.topMenuLoading?(D(),M("li",AC,[Q(a,{size:25})])):(D(),M(St,{key:1},[(D(!0),M(St,null,ze(i.topMenus,(y,S)=>(D(),M("li",{key:S,class:te(i.topMenus.length>1?"pb-1":"")},[e.callingFrom==="admin"?(D(),M("a",{key:0,href:this.basePath()+"/panel/"+y.routeString,class:"dropdown-item"},[O("i",{class:te(y.iconClass)},null,2),at("  "+H(n.trans(y.name)),1)],8,TC)):(D(),yt(l,{key:1,to:y.redirectUrl.replace(this.basePath(),""),class:"dropdown-item"},{default:bt(()=>[O("i",{class:te(y.iconClass)},null,2),at("  "+H(n.trans(y.name)),1)]),_:2},1032,["to"]))],2))),128)),i.topMenus.length?K("",!0):(D(),M("li",MC,[t[5]||(t[5]=O("i",{class:"fas fa-exclamation-triangle"},null,-1)),at("   "+H(n.trans("no_options_found")),1)]))],64))])])):K("",!0),O("li",PC,[e.callingFrom=="admin"?At((D(),M("a",{key:0,class:"nav-link",href:n.basePath()+"/panel/dashboard"},t[6]||(t[6]=[O("i",{class:"fa-solid fa-user-tie m-auto"},null,-1)]),8,IC)),[[b,n.trans("switch_to_agent_panel")]]):K("",!0)]),!e.callingFrom&&e.auth.user_data.role=="admin"?(D(),M("li",RC,[At((D(),M("a",{class:"nav-link",href:n.basePath()+"/admin/home"},t[7]||(t[7]=[O("i",{class:"fa-solid fa-user-gear m-auto"},null,-1)]),8,LC)),[[b,n.trans("switch_to_admin_panel")]])])):K("",!0),!i.showSearchBar&&e.callingFrom!="admin"?(D(),M("a",NC,[O("div",null,[O("i",{class:"fas fa-search",onClick:t[1]||(t[1]=y=>i.showSearchBar=!0)})])])):K("",!0),i.showSearchBar?(D(),yt(u,{key:3,onCloseSearchBar:r.handleCloseSearchBar,userId:e.auth.user_data.id,callingFrom:e.callingFrom,headerBackground:e.callingFrom=="admin"?e.portal.admin_header_color:e.portal.agent_header_color},null,8,["onCloseSearchBar","userId","callingFrom","headerBackground"])):K("",!0),e.auth.user_data.role=="admin"?(D(),yt(d,{key:4,callingFrom:e.callingFrom,headerBackground:e.callingFrom=="admin"?e.portal.admin_header_color:e.portal.agent_header_color},null,8,["callingFrom","headerBackground"])):K("",!0),Q(f,{userId:e.auth.user_data.id,callingFrom:e.callingFrom,headerBackground:e.callingFrom=="admin"?e.portal.admin_header_color:e.portal.agent_header_color},null,8,["userId","callingFrom","headerBackground"]),e.callingFrom?K("",!0):(D(),M("li",BC,H(r.navbarMounted()),1)),Q(g,{language:r.userLang},null,8,["language"]),O("li",VC,[O("a",jC,[At((D(),M("span",{key:r.dynamicKey,class:"d-none d-md-inline me-1",dir:"auto"},[at(H(r.subString(e.auth.user_data.full_name))+" ",1),O("img",{src:e.auth.user_data.profile_pic,class:"user-image rounded-circle elevation-2 d-none d-md-inline",alt:"User Image"},null,8,zC)])),[[b,e.auth.user_data.full_name]]),Q(p,{id:"nav-image",src:e.auth.user_data.profile_pic,class:"user-image rounded-circle elevation-2 d-md-none",alt:"User Image"},null,8,["src"])]),O("ul",UC,[O("li",null,[e.callingFrom==="admin"?(D(),M("a",{key:0,class:"dropdown-item dp-data",href:n.basePath()+"/panel/profile"},[t[8]||(t[8]=O("i",{class:"fa fa-user pe-2"},null,-1)),at(H(n.trans("profile")),1)],8,WC)):(D(),yt(l,{key:1,class:"dropdown-item dp-data",to:"/profile"},{default:bt(()=>[t[9]||(t[9]=O("i",{class:"fa fa-user pe-2"},null,-1)),at(H(n.trans("profile")),1)]),_:1}))]),O("li",null,[O("a",{href:"javascript:;",class:"dropdown-item dp-data mb-4 mt-1",onClick:t[2]||(t[2]=(...y)=>r.signOut&&r.signOut(...y))},[t[10]||(t[10]=O("i",{class:"fas fa-sign-out-alt pe-2"},null,-1)),at(H(n.trans("log_out")),1)])])])])]),i.loading?(D(),yt(v,{key:0,"animation-duration":4e3})):K("",!0)])],2)}const K2=qt(SC,[["render",HC],["__scopeId","data-v-a48ec47f"]]);const YC={name:"admin-agent-sidebar",props:{company:{type:Object,default:()=>{}},portal:{type:Object,default:()=>{}},auth:{type:Object,default:()=>{}},callingFrom:{type:String,default:""},alertData:{type:Object,default:()=>{}},alertWrapper:{type:[Boolean,Number],default:""}},components:{AgentNavigationBar:lS,AdminNavigationBar:cS}},KC=["href"],GC=["src"],XC=["href"],ZC=["src"];function JC(n,t,e,s,i,r){const a=st("admin-navigation-bar"),l=st("agent-navigation-bar");return D(),M("aside",{class:te(["app-sidebar bg-body-secondary shadow fs-6",e.callingFrom=="admin"?e.portal.admin_sidebar_color:e.portal.agent_sidebar_color]),"data-bs-theme":"dark"},[e.callingFrom=="admin"?(D(),M("div",{key:0,class:te(["sidebar-brand",e.portal.admin_header_color!="navbar-light"?e.portal.admin_header_color:""])},[O("a",{href:e.company.website,class:"brand-link text-center",style:Ds({top:e.alertData?e.alertWrapper+"px !important":""})},[O("img",{src:e.portal.logo,alt:"AdminLTE Logo",class:"brand-image"},null,8,GC)],12,KC)],2)):(D(),M("div",{key:1,class:te(["sidebar-brand",e.portal.agent_header_color!="navbar-light"?e.portal.agent_header_color:""])},[O("a",{href:e.company.website,class:"brand-link text-center",style:Ds({top:e.alertData?e.alertWrapper+"px !important":""})},[O("img",{src:e.portal.logo,alt:"AdminLTE Logo",class:"brand-image"},null,8,ZC)],12,XC)],2)),e.callingFrom=="admin"?(D(),yt(a,{key:2,auth:e.auth,from:"admin"},null,8,["auth"])):(D(),yt(l,{key:3,auth:e.auth,from:"agent"},null,8,["auth"]))],2)}const G2=qt(YC,[["render",JC]]);const QC={name:"admin-agent-footer",props:{company:{type:[Object,String],default:""},whiteLabel:{type:Boolean,default:!1},tag:{type:String,default:""},version:{type:String,default:""},lang:{type:String,default:""}}},$C={class:"app-footer"},qC=["href"],tk={key:1,class:"text-primary"};function ek(n,t,e,s,i,r){return D(),M("footer",$C,[O("div",{class:te([{"float-end":e.lang!="ar","float-start":e.lang=="ar"},"d-none d-sm-inline"])},[O("strong",null,H(n.trans("version"))+" ",1),at(" "+H(e.whiteLabel?e.tag:e.version),1)],2),O("span",null,[at(H(n.trans("copyright"))+" © "+H(new Date().getFullYear())+" ",1),e.company.website?(D(),M("a",{key:0,href:e.company.website,target:"_blank"},H(e.company.company_name)+".",9,qC)):(D(),M("a",tk,H(e.company.company_name)+".",1))]),t[1]||(t[1]=at("  ")),e.whiteLabel?(D(),M(St,{key:0},[at(H(n.trans("all_rights_reserved")),1)],64)):(D(),M(St,{key:1},[at(H(n.trans("all_rights_reserved"))+". "+H(n.trans("powered_by"))+" ",1),t[0]||(t[0]=O("a",{href:"https://www.faveohelpdesk.com/",target:"_blank"},"Faveo",-1))],64))])}const X2=qt(QC,[["render",ek]]),nk={name:"bread-crumbs",data(){return{showEditBtn:!1,inDashboard:!0,isAdminEnabled:!1,isRtl:!1}},beforeMount(){this.isRtl=_n(sessionStorage.getItem("is_rtl"))},created(){window.emitter.on("edit-dashboard",n=>{this.inDashboard=n}),window.emitter.on("isAdminEnabled",n=>{this.isAdminEnabled=n})},methods:{getTitle(){return this.$route.meta.title?this.$route.meta.title=="from_report"?this.$route.params.type:this.$route.meta.title:this.$route.query["show[]"]},getActive(n){return n=="from_report"?this.$route.params.type:n},redirectToEditPage(){this.inDashboard=!1,window.emitter.emit("editDash",!0)}},watch:{"$route.href":{immediate:!0,handler(n,t){n.includes("/panel/dashboard")?this.showEditBtn=!0:this.showEditBtn=!1}}}},ik={class:"app-content-header"},sk={class:"container-fluid"},rk={class:"row mb-2"},ak={class:"col-sm-6 d-flex"},ok={class:"m-0"},lk={class:"dropdown-menu",role:"menu"},ck=["disabled"],uk={key:0,class:"col-sm-6"},dk={class:"breadcrumb float-sm-end"},fk={key:0,class:"breadcrumb-item"},hk={key:1,class:"breadcrumb-item"},gk={key:2,class:"breadcrumb-item"},pk={key:3,class:"breadcrumb-item active","aria-current":"page"},mk={key:4,class:"breadcrumb-item active","aria-current":"page"};function vk(n,t,e,s,i,r){const a=st("router-link"),l=xn("tooltip");return D(),M("div",ik,[O("div",sk,[O("div",rk,[O("div",ak,[O("h3",ok,H(n.trans(r.getTitle())),1),i.showEditBtn&&i.inDashboard?(D(),M("div",{key:0,id:"editPage-btn",class:te(["ms-2",i.isRtl?"dropstart":""])},[t[2]||(t[2]=O("button",{type:"button",class:"btn btn-sm border","data-bs-toggle":"dropdown","aria-expanded":"false"},[O("i",{class:"fas fa-ellipsis-v"})],-1)),O("div",lk,[At((D(),M("a",{type:"button",class:"dropdown-item",onClick:t[0]||(t[0]=(...u)=>r.redirectToEditPage&&r.redirectToEditPage(...u)),disabled:i.isAdminEnabled},[t[1]||(t[1]=O("i",{class:"fas fa-edit"},null,-1)),at("   "+H(n.trans("edit")),1)],8,ck)),[[l,n.trans("dashboard_edit")]])])],2)):K("",!0)]),n.$route.meta.crumb?(D(),M("div",uk,[O("ol",dk,[t[3]||(t[3]=O("li",null,[O("i",{class:"fas fa-home text-muted"}),at("  ")],-1)),n.$route.meta.crumb.link?(D(),M("li",fk,[Q(a,{to:n.$route.meta.crumb.link.to},{default:bt(()=>[at(H(n.trans(n.$route.meta.crumb.link.name)),1)]),_:1},8,["to"])])):K("",!0),n.$route.meta.crumb.root_link?(D(),M("li",hk,[Q(a,{to:n.$route.meta.crumb.root_link.to},{default:bt(()=>[at(H(n.trans(n.$route.meta.crumb.root_link.name)),1)]),_:1},8,["to"])])):K("",!0),n.$route.meta.crumb.parent_link?(D(),M("li",gk,[Q(a,{to:n.$route.meta.crumb.parent_link.to},{default:bt(()=>[at(H(n.trans(n.$route.meta.crumb.parent_link.name)),1)]),_:1},8,["to"])])):K("",!0),n.$route.meta.crumb.root?(D(),M("li",pk,H(n.trans(n.$route.meta.crumb.root)),1)):K("",!0),n.$route.meta.crumb.active?(D(),M("li",mk,H(n.trans(r.getActive(n.$route.meta.crumb.active))),1)):K("",!0)])])):K("",!0)])])])}const Z2=qt(nk,[["render",vk]]);const bk={},yk={class:"lockscreen-wrapper lockscreen-wraper"},_k={class:"error-page"},xk={class:"error-content"};function Sk(n,t){const e=st("router-link");return D(),M("div",yk,[O("div",_k,[t[3]||(t[3]=O("h2",{class:"headline text-warning lock_mt_25"}," 404",-1)),O("div",xk,[t[2]||(t[2]=O("h3",null,[O("i",{class:"fas fa-exclamation-triangle text-warning"}),at(" Oops! Page not found.")],-1)),O("p",null,[t[1]||(t[1]=at(" We could not find the page you were looking for. Meanwhile, you may ")),Q(e,{to:"/"},{default:bt(()=>t[0]||(t[0]=[at("return to dashboard.")])),_:1})])])])])}const J2=qt(bk,[["render",Sk]]);const wk={name:"file-upload",description:"file upload component along with error block",props:{label:{type:String,required:!0},hint:{type:String,default:""},name:{type:String,required:!0},onChange:{type:Function,Required:!0},classname:{type:String,default:""},required:{type:Boolean,default:!1},labelStyle:{type:Object},id:{type:[String,Number],default:"text-field"},value:{type:[Object,String],default:""},is_default:{type:[Boolean,Number],default:!1},btnName:{type:String,default:""},buttonName:{type:String,default:""},labelCss:{type:Object,default:()=>{}}},data(){return{selectedFile:this.value,imageSrc:"",tooltip:"",styleObj:{background:"none"},showModal:!1,containerStyle:{width:"800px"},crop:{width:"400px",height:"300px"},cropImg:"",resultImage:"",lang_locale:"",aspectRatio:0,isValidImage:!0,loading:!1}},beforeMount(){this.selectedFile=this.value,this.tooltipValue(this.selectedFile)},created(){this.lang_locale=this.appLanguage},watch:{value(n){this.selectedFile=n}},methods:{async onFileSelected(n){const t=n.target.files[0];let e=new FormData;e.append("image",t),this.loading=!0;try{await axios.post("scanner/scan/file",e,{headers:{"Content-Type":"multipart/form-data"}}),this.loading=!1,this.showModal=!0,this.isValidImage=!0}catch{this.showModal=!1,this.loading=!1,this.showCustomAlert(this.lang("malicious_message")),this.isValidImage=!1}if(!n.target.files[0].type.includes("image/")){this.showModal=!1,this.showCustomAlert(this.lang("select_image"));return}if(n.target.files[0].size<2097152){var s=this.$refs.fileInput;this.selectedFile=n.target.files[0];var i=n.target;if(i.files&&i.files[0]){var r=new FileReader;r.onload=a=>{this.imageSrc=a.target.result,this.$refs.cropper.replace(a.target.result)},r.readAsDataURL(i.files[0])}s.value=""}else this.showModal=!1,this.showCustomAlert(this.lang("max_size_new_added"))},cropImage(){this.$refs.cropper&&(this.cropImg=this.$refs.cropper.getCroppedCanvas().toDataURL())},rotateImage(){this.$refs.cropper.rotate(90)},onClose(){this.showModal=!1},onSubmit(){var n=this.cropImg,t=n.split(";"),e=t[0].split(":")[1],s=t[1].split(",")[1];this.resultImage=this.b64toBlob(s,e);const i={};i.name=this.selectedFile.name,i.image=this.cropImg,i.file=this.resultImage,this.onChange(i,this.name),this.onClose()},b64toBlob(n,t,e="",s=512){for(var i=atob(n),r=[],a=0;a<i.length;a+=s){for(var l=i.slice(a,a+s),u=new Array(l.length),d=0;d<l.length;d++)u[d]=l.charCodeAt(d);var f=new Uint8Array(u);r.push(f)}var g=new Blob(r,{type:e});return g},tooltipValue(n){this.tooltip=n!==null&&n.name===void 0?n.split("/")[n.split("/").length-1]:n?n.name:"no_file",this.styleObj.background=this.tooltip==="logo.png"?"black":"none"},showCustomAlert(n){this.$store.dispatch("setAlert",{type:"danger",message:n,component_name:"layout"})},changeRatio(n){this.$refs.cropper.setAspectRatio(n),this.aspectRatio=n}},components:{VueCropper:uS,modal:U1,"form-field-template":gu,"faveo-image-element":W1}},Ck=["disabled"],kk={key:0,class:"row"},Ok={class:""},Fk={class:"rotate-button"};function Dk(n,t,e,s,i,r){const a=st("custom-loader"),l=st("faveo-image-element"),u=st("vue-cropper"),d=st("modal"),f=st("form-field-template");return D(),yt(f,{label:e.label,labelStyle:e.labelStyle,name:e.name,classname:e.classname,hint:e.hint,required:e.required},{default:bt(()=>[O("input",{ref:"fileInput",type:"file",onChange:t[0]||(t[0]=(...g)=>r.onFileSelected&&r.onFileSelected(...g)),style:{display:"none"},multiple:"",disabled:e.is_default},null,40,Ck),O("div",{class:"image-container",onClick:t[1]||(t[1]=g=>n.$refs.fileInput.click())},[i.loading?(D(),M("div",kk,[Q(a,{duration:4e3})])):K("",!0),Q(l,{id:"profile-pic",classes:["profile-user-img","img-responsive","img-circle","img-rounder","img-click"],"source-url":e.value,title:n.lang(i.tooltip),"style-object":i.styleObj},null,8,["source-url","title","style-object"]),O("div",{class:te(["camera_logo",{translateCameraIcon:i.lang_locale!=="ar"}])},t[7]||(t[7]=[O("i",{class:"fas fa-camera text-lg text-white"},null,-1)]),2)]),O("h6",{class:"text-center fs-7 fw-light mt-2",style:Ds(e.labelCss)},H(e.label),5),i.showModal?(D(),yt(d,{key:0,showModal:i.showModal,onClose:r.onClose,containerStyle:i.containerStyle},{title:bt(()=>[O("div",null,[O("h4",null,H(e.name==="profile_pic"?n.trans("crop_profile"):e.btnName?n.trans("crop_Icon"):n.trans("crop_logo")),1)])]),fields:bt(()=>[O("div",Ok,[Q(u,{ref:"cropper",guides:!0,"view-mode":2,"drag-mode":"crop","auto-crop":!0,"auto-crop-area":100,"min-container-width":570,"min-container-height":300,background:!0,rotatable:!0,src:i.imageSrc,"img-style":i.crop,crop:r.cropImage,"aspect-ratio":""},null,8,["src","img-style","crop"])]),O("div",Fk,[i.imageSrc?(D(),M("button",{key:0,onClick:t[2]||(t[2]=(...g)=>r.rotateImage&&r.rotateImage(...g)),id:"rotate"},[t[8]||(t[8]=O("i",{class:"fas fa-sync-alt"},null,-1)),at(" "+H(n.trans("rotate")),1)])):K("",!0),i.imageSrc?(D(),M("button",{key:1,onClick:t[3]||(t[3]=g=>r.changeRatio(0)),id:"ratio",class:te([{active:i.aspectRatio===0},"m-1"])},"  "+H(n.trans("no_ratio")),3)):K("",!0),i.imageSrc?(D(),M("button",{key:2,onClick:t[4]||(t[4]=g=>r.changeRatio(1)),id:"ratio",class:te([{active:i.aspectRatio===1},"m-1"])},"  "+H("1:1 "+n.trans("ratio")),3)):K("",!0),i.imageSrc?(D(),M("button",{key:3,onClick:t[5]||(t[5]=g=>r.changeRatio(2)),id:"ratio",class:te([{active:i.aspectRatio===2},"m-1"])},"  "+H("16:9 "+n.trans("ratio")),3)):K("",!0)])]),controls:bt(()=>[O("button",{type:"button",onClick:t[6]||(t[6]=(...g)=>r.onSubmit&&r.onSubmit(...g)),class:"btn btn-primary float-end",id:"crop_action"},[t[9]||(t[9]=O("i",{class:"fa fa-check"},null,-1)),at(" "+H(n.lang("proceed")),1)])]),_:1},8,["showModal","onClose","containerStyle"])):K("",!0)]),_:1},8,["label","labelStyle","name","classname","hint","required"])}const Q2=qt(wk,[["render",Dk],["__scopeId","data-v-96f870d3"]]);var Ho={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ho.exports;(function(n,t){(function(){var e,s="4.17.21",i=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",d=500,f="__lodash_placeholder__",g=1,p=2,v=4,b=1,y=2,S=1,k=2,F=4,P=8,A=16,T=32,R=64,z=128,W=256,B=512,J=30,q="...",lt=800,et=16,rt=1,dt=2,nt=3,ot=1/0,_t=9007199254740991,Pt=17976931348623157e292,se=0/0,jt=4294967295,ee=jt-1,ce=jt>>>1,le=[["ary",z],["bind",S],["bindKey",k],["curry",P],["curryRight",A],["flip",B],["partial",T],["partialRight",R],["rearg",W]],Qt="[object Arguments]",Wt="[object Array]",pe="[object AsyncFunction]",Ue="[object Boolean]",Pe="[object Date]",Zn="[object DOMException]",In="[object Error]",Sn="[object Function]",Ne="[object GeneratorFunction]",re="[object Map]",wn="[object Number]",Rn="[object Null]",Be="[object Object]",is="[object Promise]",lr="[object Proxy]",Xe="[object RegExp]",Ve="[object Set]",Ln="[object String]",li="[object Symbol]",ss="[object Undefined]",Jn="[object WeakMap]",rs="[object WeakSet]",Qn="[object ArrayBuffer]",Nn="[object DataView]",j="[object Float32Array]",V="[object Float64Array]",Y="[object Int8Array]",it="[object Int16Array]",gt="[object Int32Array]",wt="[object Uint8Array]",Et="[object Uint8ClampedArray]",Zt="[object Uint16Array]",me="[object Uint32Array]",Dt=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,zt=/&(?:amp|lt|gt|quot|#39);/g,Yt=/[&<>"']/g,$e=RegExp(zt.source),cr=RegExp(Yt.source),cl=/<%-([\s\S]+?)%>/g,Ps=/<%([\s\S]+?)%>/g,Bu=/<%=([\s\S]+?)%>/g,cm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,um=/^\w*$/,dm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ul=/[\\^$.*+?()[\]{}|]/g,fm=RegExp(ul.source),dl=/^\s+/,hm=/\s/,gm=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pm=/\{\n\/\* \[wrapped with (.+)\] \*/,mm=/,? & /,vm=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,bm=/[()=,{}\[\]\/\s]/,ym=/\\(\\)?/g,_m=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vu=/\w*$/,xm=/^[-+]0x[0-9a-f]+$/i,Sm=/^0b[01]+$/i,wm=/^\[object .+?Constructor\]$/,Cm=/^0o[0-7]+$/i,km=/^(?:0|[1-9]\d*)$/,Om=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ma=/($^)/,Fm=/['\n\r\u2028\u2029\\]/g,va="\\ud800-\\udfff",Dm="\\u0300-\\u036f",Em="\\ufe20-\\ufe2f",Am="\\u20d0-\\u20ff",ju=Dm+Em+Am,zu="\\u2700-\\u27bf",Uu="a-z\\xdf-\\xf6\\xf8-\\xff",Tm="\\xac\\xb1\\xd7\\xf7",Mm="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Pm="\\u2000-\\u206f",Im=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wu="A-Z\\xc0-\\xd6\\xd8-\\xde",Hu="\\ufe0e\\ufe0f",Yu=Tm+Mm+Pm+Im,fl="['’]",Rm="["+va+"]",Ku="["+Yu+"]",ba="["+ju+"]",Gu="\\d+",Lm="["+zu+"]",Xu="["+Uu+"]",Zu="[^"+va+Yu+Gu+zu+Uu+Wu+"]",hl="\\ud83c[\\udffb-\\udfff]",Nm="(?:"+ba+"|"+hl+")",Ju="[^"+va+"]",gl="(?:\\ud83c[\\udde6-\\uddff]){2}",pl="[\\ud800-\\udbff][\\udc00-\\udfff]",Is="["+Wu+"]",Qu="\\u200d",$u="(?:"+Xu+"|"+Zu+")",Bm="(?:"+Is+"|"+Zu+")",qu="(?:"+fl+"(?:d|ll|m|re|s|t|ve))?",td="(?:"+fl+"(?:D|LL|M|RE|S|T|VE))?",ed=Nm+"?",nd="["+Hu+"]?",Vm="(?:"+Qu+"(?:"+[Ju,gl,pl].join("|")+")"+nd+ed+")*",jm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",id=nd+ed+Vm,Um="(?:"+[Lm,gl,pl].join("|")+")"+id,Wm="(?:"+[Ju+ba+"?",ba,gl,pl,Rm].join("|")+")",Hm=RegExp(fl,"g"),Ym=RegExp(ba,"g"),ml=RegExp(hl+"(?="+hl+")|"+Wm+id,"g"),Km=RegExp([Is+"?"+Xu+"+"+qu+"(?="+[Ku,Is,"$"].join("|")+")",Bm+"+"+td+"(?="+[Ku,Is+$u,"$"].join("|")+")",Is+"?"+$u+"+"+qu,Is+"+"+td,zm,jm,Gu,Um].join("|"),"g"),Gm=RegExp("["+Qu+va+ju+Hu+"]"),Xm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jm=-1,ve={};ve[j]=ve[V]=ve[Y]=ve[it]=ve[gt]=ve[wt]=ve[Et]=ve[Zt]=ve[me]=!0,ve[Qt]=ve[Wt]=ve[Qn]=ve[Ue]=ve[Nn]=ve[Pe]=ve[In]=ve[Sn]=ve[re]=ve[wn]=ve[Be]=ve[Xe]=ve[Ve]=ve[Ln]=ve[Jn]=!1;var de={};de[Qt]=de[Wt]=de[Qn]=de[Nn]=de[Ue]=de[Pe]=de[j]=de[V]=de[Y]=de[it]=de[gt]=de[re]=de[wn]=de[Be]=de[Xe]=de[Ve]=de[Ln]=de[li]=de[wt]=de[Et]=de[Zt]=de[me]=!0,de[In]=de[Sn]=de[Jn]=!1;var Qm={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},$m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ev=parseFloat,nv=parseInt,sd=typeof qs=="object"&&qs&&qs.Object===Object&&qs,iv=typeof self=="object"&&self&&self.Object===Object&&self,Ze=sd||iv||Function("return this")(),vl=t&&!t.nodeType&&t,as=vl&&!0&&n&&!n.nodeType&&n,rd=as&&as.exports===vl,bl=rd&&sd.process,Bn=function(){try{var L=as&&as.require&&as.require("util").types;return L||bl&&bl.binding&&bl.binding("util")}catch{}}(),ad=Bn&&Bn.isArrayBuffer,od=Bn&&Bn.isDate,ld=Bn&&Bn.isMap,cd=Bn&&Bn.isRegExp,ud=Bn&&Bn.isSet,dd=Bn&&Bn.isTypedArray;function Cn(L,G,U){switch(U.length){case 0:return L.call(G);case 1:return L.call(G,U[0]);case 2:return L.call(G,U[0],U[1]);case 3:return L.call(G,U[0],U[1],U[2])}return L.apply(G,U)}function sv(L,G,U,ht){for(var Tt=-1,ne=L==null?0:L.length;++Tt<ne;){var We=L[Tt];G(ht,We,U(We),L)}return ht}function Vn(L,G){for(var U=-1,ht=L==null?0:L.length;++U<ht&&G(L[U],U,L)!==!1;);return L}function rv(L,G){for(var U=L==null?0:L.length;U--&&G(L[U],U,L)!==!1;);return L}function fd(L,G){for(var U=-1,ht=L==null?0:L.length;++U<ht;)if(!G(L[U],U,L))return!1;return!0}function Ri(L,G){for(var U=-1,ht=L==null?0:L.length,Tt=0,ne=[];++U<ht;){var We=L[U];G(We,U,L)&&(ne[Tt++]=We)}return ne}function ya(L,G){var U=L==null?0:L.length;return!!U&&Rs(L,G,0)>-1}function yl(L,G,U){for(var ht=-1,Tt=L==null?0:L.length;++ht<Tt;)if(U(G,L[ht]))return!0;return!1}function xe(L,G){for(var U=-1,ht=L==null?0:L.length,Tt=Array(ht);++U<ht;)Tt[U]=G(L[U],U,L);return Tt}function Li(L,G){for(var U=-1,ht=G.length,Tt=L.length;++U<ht;)L[Tt+U]=G[U];return L}function _l(L,G,U,ht){var Tt=-1,ne=L==null?0:L.length;for(ht&&ne&&(U=L[++Tt]);++Tt<ne;)U=G(U,L[Tt],Tt,L);return U}function av(L,G,U,ht){var Tt=L==null?0:L.length;for(ht&&Tt&&(U=L[--Tt]);Tt--;)U=G(U,L[Tt],Tt,L);return U}function xl(L,G){for(var U=-1,ht=L==null?0:L.length;++U<ht;)if(G(L[U],U,L))return!0;return!1}var ov=Sl("length");function lv(L){return L.split("")}function cv(L){return L.match(vm)||[]}function hd(L,G,U){var ht;return U(L,function(Tt,ne,We){if(G(Tt,ne,We))return ht=ne,!1}),ht}function _a(L,G,U,ht){for(var Tt=L.length,ne=U+(ht?1:-1);ht?ne--:++ne<Tt;)if(G(L[ne],ne,L))return ne;return-1}function Rs(L,G,U){return G===G?xv(L,G,U):_a(L,gd,U)}function uv(L,G,U,ht){for(var Tt=U-1,ne=L.length;++Tt<ne;)if(ht(L[Tt],G))return Tt;return-1}function gd(L){return L!==L}function pd(L,G){var U=L==null?0:L.length;return U?Cl(L,G)/U:se}function Sl(L){return function(G){return G==null?e:G[L]}}function wl(L){return function(G){return L==null?e:L[G]}}function md(L,G,U,ht,Tt){return Tt(L,function(ne,We,ue){U=ht?(ht=!1,ne):G(U,ne,We,ue)}),U}function dv(L,G){var U=L.length;for(L.sort(G);U--;)L[U]=L[U].value;return L}function Cl(L,G){for(var U,ht=-1,Tt=L.length;++ht<Tt;){var ne=G(L[ht]);ne!==e&&(U=U===e?ne:U+ne)}return U}function kl(L,G){for(var U=-1,ht=Array(L);++U<L;)ht[U]=G(U);return ht}function fv(L,G){return xe(G,function(U){return[U,L[U]]})}function vd(L){return L&&L.slice(0,xd(L)+1).replace(dl,"")}function kn(L){return function(G){return L(G)}}function Ol(L,G){return xe(G,function(U){return L[U]})}function ur(L,G){return L.has(G)}function bd(L,G){for(var U=-1,ht=L.length;++U<ht&&Rs(G,L[U],0)>-1;);return U}function yd(L,G){for(var U=L.length;U--&&Rs(G,L[U],0)>-1;);return U}function hv(L,G){for(var U=L.length,ht=0;U--;)L[U]===G&&++ht;return ht}var gv=wl(Qm),pv=wl($m);function mv(L){return"\\"+tv[L]}function vv(L,G){return L==null?e:L[G]}function Ls(L){return Gm.test(L)}function bv(L){return Xm.test(L)}function yv(L){for(var G,U=[];!(G=L.next()).done;)U.push(G.value);return U}function Fl(L){var G=-1,U=Array(L.size);return L.forEach(function(ht,Tt){U[++G]=[Tt,ht]}),U}function _d(L,G){return function(U){return L(G(U))}}function Ni(L,G){for(var U=-1,ht=L.length,Tt=0,ne=[];++U<ht;){var We=L[U];(We===G||We===f)&&(L[U]=f,ne[Tt++]=U)}return ne}function xa(L){var G=-1,U=Array(L.size);return L.forEach(function(ht){U[++G]=ht}),U}function _v(L){var G=-1,U=Array(L.size);return L.forEach(function(ht){U[++G]=[ht,ht]}),U}function xv(L,G,U){for(var ht=U-1,Tt=L.length;++ht<Tt;)if(L[ht]===G)return ht;return-1}function Sv(L,G,U){for(var ht=U+1;ht--;)if(L[ht]===G)return ht;return ht}function Ns(L){return Ls(L)?Cv(L):ov(L)}function $n(L){return Ls(L)?kv(L):lv(L)}function xd(L){for(var G=L.length;G--&&hm.test(L.charAt(G)););return G}var wv=wl(qm);function Cv(L){for(var G=ml.lastIndex=0;ml.test(L);)++G;return G}function kv(L){return L.match(ml)||[]}function Ov(L){return L.match(Km)||[]}var Fv=function L(G){G=G==null?Ze:Bs.defaults(Ze.Object(),G,Bs.pick(Ze,Zm));var U=G.Array,ht=G.Date,Tt=G.Error,ne=G.Function,We=G.Math,ue=G.Object,Dl=G.RegExp,Dv=G.String,jn=G.TypeError,Sa=U.prototype,Ev=ne.prototype,Vs=ue.prototype,wa=G["__core-js_shared__"],Ca=Ev.toString,ae=Vs.hasOwnProperty,Av=0,Sd=function(){var o=/[^.]+$/.exec(wa&&wa.keys&&wa.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),ka=Vs.toString,Tv=Ca.call(ue),Mv=Ze._,Pv=Dl("^"+Ca.call(ae).replace(ul,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oa=rd?G.Buffer:e,Bi=G.Symbol,Fa=G.Uint8Array,wd=Oa?Oa.allocUnsafe:e,Da=_d(ue.getPrototypeOf,ue),Cd=ue.create,kd=Vs.propertyIsEnumerable,Ea=Sa.splice,Od=Bi?Bi.isConcatSpreadable:e,dr=Bi?Bi.iterator:e,os=Bi?Bi.toStringTag:e,Aa=function(){try{var o=fs(ue,"defineProperty");return o({},"",{}),o}catch{}}(),Iv=G.clearTimeout!==Ze.clearTimeout&&G.clearTimeout,Rv=ht&&ht.now!==Ze.Date.now&&ht.now,Lv=G.setTimeout!==Ze.setTimeout&&G.setTimeout,Ta=We.ceil,Ma=We.floor,El=ue.getOwnPropertySymbols,Nv=Oa?Oa.isBuffer:e,Fd=G.isFinite,Bv=Sa.join,Vv=_d(ue.keys,ue),He=We.max,qe=We.min,jv=ht.now,zv=G.parseInt,Dd=We.random,Uv=Sa.reverse,Al=fs(G,"DataView"),fr=fs(G,"Map"),Tl=fs(G,"Promise"),js=fs(G,"Set"),hr=fs(G,"WeakMap"),gr=fs(ue,"create"),Pa=hr&&new hr,zs={},Wv=hs(Al),Hv=hs(fr),Yv=hs(Tl),Kv=hs(js),Gv=hs(hr),Ia=Bi?Bi.prototype:e,pr=Ia?Ia.valueOf:e,Ed=Ia?Ia.toString:e;function w(o){if(De(o)&&!It(o)&&!(o instanceof Kt)){if(o instanceof zn)return o;if(ae.call(o,"__wrapped__"))return Tf(o)}return new zn(o)}var Us=function(){function o(){}return function(c){if(!Oe(c))return{};if(Cd)return Cd(c);o.prototype=c;var h=new o;return o.prototype=e,h}}();function Ra(){}function zn(o,c){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=e}w.templateSettings={escape:cl,evaluate:Ps,interpolate:Bu,variable:"",imports:{_:w}},w.prototype=Ra.prototype,w.prototype.constructor=w,zn.prototype=Us(Ra.prototype),zn.prototype.constructor=zn;function Kt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jt,this.__views__=[]}function Xv(){var o=new Kt(this.__wrapped__);return o.__actions__=fn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=fn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=fn(this.__views__),o}function Zv(){if(this.__filtered__){var o=new Kt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Jv(){var o=this.__wrapped__.value(),c=this.__dir__,h=It(o),m=c<0,x=h?o.length:0,C=ly(0,x,this.__views__),E=C.start,I=C.end,N=I-E,X=m?I:E-1,Z=this.__iteratees__,tt=Z.length,ft=0,vt=qe(N,this.__takeCount__);if(!h||!m&&x==N&&vt==N)return qd(o,this.__actions__);var kt=[];t:for(;N--&&ft<vt;){X+=c;for(var Bt=-1,Ot=o[X];++Bt<tt;){var Ht=Z[Bt],Jt=Ht.iteratee,Dn=Ht.type,un=Jt(Ot);if(Dn==dt)Ot=un;else if(!un){if(Dn==rt)continue t;break t}}kt[ft++]=Ot}return kt}Kt.prototype=Us(Ra.prototype),Kt.prototype.constructor=Kt;function ls(o){var c=-1,h=o==null?0:o.length;for(this.clear();++c<h;){var m=o[c];this.set(m[0],m[1])}}function Qv(){this.__data__=gr?gr(null):{},this.size=0}function $v(o){var c=this.has(o)&&delete this.__data__[o];return this.size-=c?1:0,c}function qv(o){var c=this.__data__;if(gr){var h=c[o];return h===u?e:h}return ae.call(c,o)?c[o]:e}function tb(o){var c=this.__data__;return gr?c[o]!==e:ae.call(c,o)}function eb(o,c){var h=this.__data__;return this.size+=this.has(o)?0:1,h[o]=gr&&c===e?u:c,this}ls.prototype.clear=Qv,ls.prototype.delete=$v,ls.prototype.get=qv,ls.prototype.has=tb,ls.prototype.set=eb;function vi(o){var c=-1,h=o==null?0:o.length;for(this.clear();++c<h;){var m=o[c];this.set(m[0],m[1])}}function nb(){this.__data__=[],this.size=0}function ib(o){var c=this.__data__,h=La(c,o);if(h<0)return!1;var m=c.length-1;return h==m?c.pop():Ea.call(c,h,1),--this.size,!0}function sb(o){var c=this.__data__,h=La(c,o);return h<0?e:c[h][1]}function rb(o){return La(this.__data__,o)>-1}function ab(o,c){var h=this.__data__,m=La(h,o);return m<0?(++this.size,h.push([o,c])):h[m][1]=c,this}vi.prototype.clear=nb,vi.prototype.delete=ib,vi.prototype.get=sb,vi.prototype.has=rb,vi.prototype.set=ab;function bi(o){var c=-1,h=o==null?0:o.length;for(this.clear();++c<h;){var m=o[c];this.set(m[0],m[1])}}function ob(){this.size=0,this.__data__={hash:new ls,map:new(fr||vi),string:new ls}}function lb(o){var c=Xa(this,o).delete(o);return this.size-=c?1:0,c}function cb(o){return Xa(this,o).get(o)}function ub(o){return Xa(this,o).has(o)}function db(o,c){var h=Xa(this,o),m=h.size;return h.set(o,c),this.size+=h.size==m?0:1,this}bi.prototype.clear=ob,bi.prototype.delete=lb,bi.prototype.get=cb,bi.prototype.has=ub,bi.prototype.set=db;function cs(o){var c=-1,h=o==null?0:o.length;for(this.__data__=new bi;++c<h;)this.add(o[c])}function fb(o){return this.__data__.set(o,u),this}function hb(o){return this.__data__.has(o)}cs.prototype.add=cs.prototype.push=fb,cs.prototype.has=hb;function qn(o){var c=this.__data__=new vi(o);this.size=c.size}function gb(){this.__data__=new vi,this.size=0}function pb(o){var c=this.__data__,h=c.delete(o);return this.size=c.size,h}function mb(o){return this.__data__.get(o)}function vb(o){return this.__data__.has(o)}function bb(o,c){var h=this.__data__;if(h instanceof vi){var m=h.__data__;if(!fr||m.length<i-1)return m.push([o,c]),this.size=++h.size,this;h=this.__data__=new bi(m)}return h.set(o,c),this.size=h.size,this}qn.prototype.clear=gb,qn.prototype.delete=pb,qn.prototype.get=mb,qn.prototype.has=vb,qn.prototype.set=bb;function Ad(o,c){var h=It(o),m=!h&&gs(o),x=!h&&!m&&Wi(o),C=!h&&!m&&!x&&Ks(o),E=h||m||x||C,I=E?kl(o.length,Dv):[],N=I.length;for(var X in o)(c||ae.call(o,X))&&!(E&&(X=="length"||x&&(X=="offset"||X=="parent")||C&&(X=="buffer"||X=="byteLength"||X=="byteOffset")||Si(X,N)))&&I.push(X);return I}function Td(o){var c=o.length;return c?o[Ul(0,c-1)]:e}function yb(o,c){return Za(fn(o),us(c,0,o.length))}function _b(o){return Za(fn(o))}function Ml(o,c,h){(h!==e&&!ti(o[c],h)||h===e&&!(c in o))&&yi(o,c,h)}function mr(o,c,h){var m=o[c];(!(ae.call(o,c)&&ti(m,h))||h===e&&!(c in o))&&yi(o,c,h)}function La(o,c){for(var h=o.length;h--;)if(ti(o[h][0],c))return h;return-1}function xb(o,c,h,m){return Vi(o,function(x,C,E){c(m,x,h(x),E)}),m}function Md(o,c){return o&&ui(c,Ke(c),o)}function Sb(o,c){return o&&ui(c,gn(c),o)}function yi(o,c,h){c=="__proto__"&&Aa?Aa(o,c,{configurable:!0,enumerable:!0,value:h,writable:!0}):o[c]=h}function Pl(o,c){for(var h=-1,m=c.length,x=U(m),C=o==null;++h<m;)x[h]=C?e:hc(o,c[h]);return x}function us(o,c,h){return o===o&&(h!==e&&(o=o<=h?o:h),c!==e&&(o=o>=c?o:c)),o}function Un(o,c,h,m,x,C){var E,I=c&g,N=c&p,X=c&v;if(h&&(E=x?h(o,m,x,C):h(o)),E!==e)return E;if(!Oe(o))return o;var Z=It(o);if(Z){if(E=uy(o),!I)return fn(o,E)}else{var tt=tn(o),ft=tt==Sn||tt==Ne;if(Wi(o))return nf(o,I);if(tt==Be||tt==Qt||ft&&!x){if(E=N||ft?{}:Sf(o),!I)return N?qb(o,Sb(E,o)):$b(o,Md(E,o))}else{if(!de[tt])return x?o:{};E=dy(o,tt,I)}}C||(C=new qn);var vt=C.get(o);if(vt)return vt;C.set(o,E),Qf(o)?o.forEach(function(Ot){E.add(Un(Ot,c,h,Ot,o,C))}):Zf(o)&&o.forEach(function(Ot,Ht){E.set(Ht,Un(Ot,c,h,Ht,o,C))});var kt=X?N?ql:$l:N?gn:Ke,Bt=Z?e:kt(o);return Vn(Bt||o,function(Ot,Ht){Bt&&(Ht=Ot,Ot=o[Ht]),mr(E,Ht,Un(Ot,c,h,Ht,o,C))}),E}function wb(o){var c=Ke(o);return function(h){return Pd(h,o,c)}}function Pd(o,c,h){var m=h.length;if(o==null)return!m;for(o=ue(o);m--;){var x=h[m],C=c[x],E=o[x];if(E===e&&!(x in o)||!C(E))return!1}return!0}function Id(o,c,h){if(typeof o!="function")throw new jn(a);return wr(function(){o.apply(e,h)},c)}function vr(o,c,h,m){var x=-1,C=ya,E=!0,I=o.length,N=[],X=c.length;if(!I)return N;h&&(c=xe(c,kn(h))),m?(C=yl,E=!1):c.length>=i&&(C=ur,E=!1,c=new cs(c));t:for(;++x<I;){var Z=o[x],tt=h==null?Z:h(Z);if(Z=m||Z!==0?Z:0,E&&tt===tt){for(var ft=X;ft--;)if(c[ft]===tt)continue t;N.push(Z)}else C(c,tt,m)||N.push(Z)}return N}var Vi=lf(ci),Rd=lf(Rl,!0);function Cb(o,c){var h=!0;return Vi(o,function(m,x,C){return h=!!c(m,x,C),h}),h}function Na(o,c,h){for(var m=-1,x=o.length;++m<x;){var C=o[m],E=c(C);if(E!=null&&(I===e?E===E&&!Fn(E):h(E,I)))var I=E,N=C}return N}function kb(o,c,h,m){var x=o.length;for(h=Nt(h),h<0&&(h=-h>x?0:x+h),m=m===e||m>x?x:Nt(m),m<0&&(m+=x),m=h>m?0:qf(m);h<m;)o[h++]=c;return o}function Ld(o,c){var h=[];return Vi(o,function(m,x,C){c(m,x,C)&&h.push(m)}),h}function Je(o,c,h,m,x){var C=-1,E=o.length;for(h||(h=hy),x||(x=[]);++C<E;){var I=o[C];c>0&&h(I)?c>1?Je(I,c-1,h,m,x):Li(x,I):m||(x[x.length]=I)}return x}var Il=cf(),Nd=cf(!0);function ci(o,c){return o&&Il(o,c,Ke)}function Rl(o,c){return o&&Nd(o,c,Ke)}function Ba(o,c){return Ri(c,function(h){return wi(o[h])})}function ds(o,c){c=zi(c,o);for(var h=0,m=c.length;o!=null&&h<m;)o=o[di(c[h++])];return h&&h==m?o:e}function Bd(o,c,h){var m=c(o);return It(o)?m:Li(m,h(o))}function ln(o){return o==null?o===e?ss:Rn:os&&os in ue(o)?oy(o):_y(o)}function Ll(o,c){return o>c}function Ob(o,c){return o!=null&&ae.call(o,c)}function Fb(o,c){return o!=null&&c in ue(o)}function Db(o,c,h){return o>=qe(c,h)&&o<He(c,h)}function Nl(o,c,h){for(var m=h?yl:ya,x=o[0].length,C=o.length,E=C,I=U(C),N=1/0,X=[];E--;){var Z=o[E];E&&c&&(Z=xe(Z,kn(c))),N=qe(Z.length,N),I[E]=!h&&(c||x>=120&&Z.length>=120)?new cs(E&&Z):e}Z=o[0];var tt=-1,ft=I[0];t:for(;++tt<x&&X.length<N;){var vt=Z[tt],kt=c?c(vt):vt;if(vt=h||vt!==0?vt:0,!(ft?ur(ft,kt):m(X,kt,h))){for(E=C;--E;){var Bt=I[E];if(!(Bt?ur(Bt,kt):m(o[E],kt,h)))continue t}ft&&ft.push(kt),X.push(vt)}}return X}function Eb(o,c,h,m){return ci(o,function(x,C,E){c(m,h(x),C,E)}),m}function br(o,c,h){c=zi(c,o),o=Of(o,c);var m=o==null?o:o[di(Hn(c))];return m==null?e:Cn(m,o,h)}function Vd(o){return De(o)&&ln(o)==Qt}function Ab(o){return De(o)&&ln(o)==Qn}function Tb(o){return De(o)&&ln(o)==Pe}function yr(o,c,h,m,x){return o===c?!0:o==null||c==null||!De(o)&&!De(c)?o!==o&&c!==c:Mb(o,c,h,m,yr,x)}function Mb(o,c,h,m,x,C){var E=It(o),I=It(c),N=E?Wt:tn(o),X=I?Wt:tn(c);N=N==Qt?Be:N,X=X==Qt?Be:X;var Z=N==Be,tt=X==Be,ft=N==X;if(ft&&Wi(o)){if(!Wi(c))return!1;E=!0,Z=!1}if(ft&&!Z)return C||(C=new qn),E||Ks(o)?yf(o,c,h,m,x,C):ry(o,c,N,h,m,x,C);if(!(h&b)){var vt=Z&&ae.call(o,"__wrapped__"),kt=tt&&ae.call(c,"__wrapped__");if(vt||kt){var Bt=vt?o.value():o,Ot=kt?c.value():c;return C||(C=new qn),x(Bt,Ot,h,m,C)}}return ft?(C||(C=new qn),ay(o,c,h,m,x,C)):!1}function Pb(o){return De(o)&&tn(o)==re}function Bl(o,c,h,m){var x=h.length,C=x,E=!m;if(o==null)return!C;for(o=ue(o);x--;){var I=h[x];if(E&&I[2]?I[1]!==o[I[0]]:!(I[0]in o))return!1}for(;++x<C;){I=h[x];var N=I[0],X=o[N],Z=I[1];if(E&&I[2]){if(X===e&&!(N in o))return!1}else{var tt=new qn;if(m)var ft=m(X,Z,N,o,c,tt);if(!(ft===e?yr(Z,X,b|y,m,tt):ft))return!1}}return!0}function jd(o){if(!Oe(o)||py(o))return!1;var c=wi(o)?Pv:wm;return c.test(hs(o))}function Ib(o){return De(o)&&ln(o)==Xe}function Rb(o){return De(o)&&tn(o)==Ve}function Lb(o){return De(o)&&eo(o.length)&&!!ve[ln(o)]}function zd(o){return typeof o=="function"?o:o==null?pn:typeof o=="object"?It(o)?Hd(o[0],o[1]):Wd(o):uh(o)}function Vl(o){if(!Sr(o))return Vv(o);var c=[];for(var h in ue(o))ae.call(o,h)&&h!="constructor"&&c.push(h);return c}function Nb(o){if(!Oe(o))return yy(o);var c=Sr(o),h=[];for(var m in o)m=="constructor"&&(c||!ae.call(o,m))||h.push(m);return h}function jl(o,c){return o<c}function Ud(o,c){var h=-1,m=hn(o)?U(o.length):[];return Vi(o,function(x,C,E){m[++h]=c(x,C,E)}),m}function Wd(o){var c=ec(o);return c.length==1&&c[0][2]?Cf(c[0][0],c[0][1]):function(h){return h===o||Bl(h,o,c)}}function Hd(o,c){return ic(o)&&wf(c)?Cf(di(o),c):function(h){var m=hc(h,o);return m===e&&m===c?gc(h,o):yr(c,m,b|y)}}function Va(o,c,h,m,x){o!==c&&Il(c,function(C,E){if(x||(x=new qn),Oe(C))Bb(o,c,E,h,Va,m,x);else{var I=m?m(rc(o,E),C,E+"",o,c,x):e;I===e&&(I=C),Ml(o,E,I)}},gn)}function Bb(o,c,h,m,x,C,E){var I=rc(o,h),N=rc(c,h),X=E.get(N);if(X){Ml(o,h,X);return}var Z=C?C(I,N,h+"",o,c,E):e,tt=Z===e;if(tt){var ft=It(N),vt=!ft&&Wi(N),kt=!ft&&!vt&&Ks(N);Z=N,ft||vt||kt?It(I)?Z=I:Ie(I)?Z=fn(I):vt?(tt=!1,Z=nf(N,!0)):kt?(tt=!1,Z=sf(N,!0)):Z=[]:Cr(N)||gs(N)?(Z=I,gs(I)?Z=th(I):(!Oe(I)||wi(I))&&(Z=Sf(N))):tt=!1}tt&&(E.set(N,Z),x(Z,N,m,C,E),E.delete(N)),Ml(o,h,Z)}function Yd(o,c){var h=o.length;if(h)return c+=c<0?h:0,Si(c,h)?o[c]:e}function Kd(o,c,h){c.length?c=xe(c,function(C){return It(C)?function(E){return ds(E,C.length===1?C[0]:C)}:C}):c=[pn];var m=-1;c=xe(c,kn(Ct()));var x=Ud(o,function(C,E,I){var N=xe(c,function(X){return X(C)});return{criteria:N,index:++m,value:C}});return dv(x,function(C,E){return Qb(C,E,h)})}function Vb(o,c){return Gd(o,c,function(h,m){return gc(o,m)})}function Gd(o,c,h){for(var m=-1,x=c.length,C={};++m<x;){var E=c[m],I=ds(o,E);h(I,E)&&_r(C,zi(E,o),I)}return C}function jb(o){return function(c){return ds(c,o)}}function zl(o,c,h,m){var x=m?uv:Rs,C=-1,E=c.length,I=o;for(o===c&&(c=fn(c)),h&&(I=xe(o,kn(h)));++C<E;)for(var N=0,X=c[C],Z=h?h(X):X;(N=x(I,Z,N,m))>-1;)I!==o&&Ea.call(I,N,1),Ea.call(o,N,1);return o}function Xd(o,c){for(var h=o?c.length:0,m=h-1;h--;){var x=c[h];if(h==m||x!==C){var C=x;Si(x)?Ea.call(o,x,1):Yl(o,x)}}return o}function Ul(o,c){return o+Ma(Dd()*(c-o+1))}function zb(o,c,h,m){for(var x=-1,C=He(Ta((c-o)/(h||1)),0),E=U(C);C--;)E[m?C:++x]=o,o+=h;return E}function Wl(o,c){var h="";if(!o||c<1||c>_t)return h;do c%2&&(h+=o),c=Ma(c/2),c&&(o+=o);while(c);return h}function Vt(o,c){return ac(kf(o,c,pn),o+"")}function Ub(o){return Td(Gs(o))}function Wb(o,c){var h=Gs(o);return Za(h,us(c,0,h.length))}function _r(o,c,h,m){if(!Oe(o))return o;c=zi(c,o);for(var x=-1,C=c.length,E=C-1,I=o;I!=null&&++x<C;){var N=di(c[x]),X=h;if(N==="__proto__"||N==="constructor"||N==="prototype")return o;if(x!=E){var Z=I[N];X=m?m(Z,N,I):e,X===e&&(X=Oe(Z)?Z:Si(c[x+1])?[]:{})}mr(I,N,X),I=I[N]}return o}var Zd=Pa?function(o,c){return Pa.set(o,c),o}:pn,Hb=Aa?function(o,c){return Aa(o,"toString",{configurable:!0,enumerable:!1,value:mc(c),writable:!0})}:pn;function Yb(o){return Za(Gs(o))}function Wn(o,c,h){var m=-1,x=o.length;c<0&&(c=-c>x?0:x+c),h=h>x?x:h,h<0&&(h+=x),x=c>h?0:h-c>>>0,c>>>=0;for(var C=U(x);++m<x;)C[m]=o[m+c];return C}function Kb(o,c){var h;return Vi(o,function(m,x,C){return h=c(m,x,C),!h}),!!h}function ja(o,c,h){var m=0,x=o==null?m:o.length;if(typeof c=="number"&&c===c&&x<=ce){for(;m<x;){var C=m+x>>>1,E=o[C];E!==null&&!Fn(E)&&(h?E<=c:E<c)?m=C+1:x=C}return x}return Hl(o,c,pn,h)}function Hl(o,c,h,m){var x=0,C=o==null?0:o.length;if(C===0)return 0;c=h(c);for(var E=c!==c,I=c===null,N=Fn(c),X=c===e;x<C;){var Z=Ma((x+C)/2),tt=h(o[Z]),ft=tt!==e,vt=tt===null,kt=tt===tt,Bt=Fn(tt);if(E)var Ot=m||kt;else X?Ot=kt&&(m||ft):I?Ot=kt&&ft&&(m||!vt):N?Ot=kt&&ft&&!vt&&(m||!Bt):vt||Bt?Ot=!1:Ot=m?tt<=c:tt<c;Ot?x=Z+1:C=Z}return qe(C,ee)}function Jd(o,c){for(var h=-1,m=o.length,x=0,C=[];++h<m;){var E=o[h],I=c?c(E):E;if(!h||!ti(I,N)){var N=I;C[x++]=E===0?0:E}}return C}function Qd(o){return typeof o=="number"?o:Fn(o)?se:+o}function On(o){if(typeof o=="string")return o;if(It(o))return xe(o,On)+"";if(Fn(o))return Ed?Ed.call(o):"";var c=o+"";return c=="0"&&1/o==-ot?"-0":c}function ji(o,c,h){var m=-1,x=ya,C=o.length,E=!0,I=[],N=I;if(h)E=!1,x=yl;else if(C>=i){var X=c?null:iy(o);if(X)return xa(X);E=!1,x=ur,N=new cs}else N=c?[]:I;t:for(;++m<C;){var Z=o[m],tt=c?c(Z):Z;if(Z=h||Z!==0?Z:0,E&&tt===tt){for(var ft=N.length;ft--;)if(N[ft]===tt)continue t;c&&N.push(tt),I.push(Z)}else x(N,tt,h)||(N!==I&&N.push(tt),I.push(Z))}return I}function Yl(o,c){return c=zi(c,o),o=Of(o,c),o==null||delete o[di(Hn(c))]}function $d(o,c,h,m){return _r(o,c,h(ds(o,c)),m)}function za(o,c,h,m){for(var x=o.length,C=m?x:-1;(m?C--:++C<x)&&c(o[C],C,o););return h?Wn(o,m?0:C,m?C+1:x):Wn(o,m?C+1:0,m?x:C)}function qd(o,c){var h=o;return h instanceof Kt&&(h=h.value()),_l(c,function(m,x){return x.func.apply(x.thisArg,Li([m],x.args))},h)}function Kl(o,c,h){var m=o.length;if(m<2)return m?ji(o[0]):[];for(var x=-1,C=U(m);++x<m;)for(var E=o[x],I=-1;++I<m;)I!=x&&(C[x]=vr(C[x]||E,o[I],c,h));return ji(Je(C,1),c,h)}function tf(o,c,h){for(var m=-1,x=o.length,C=c.length,E={};++m<x;){var I=m<C?c[m]:e;h(E,o[m],I)}return E}function Gl(o){return Ie(o)?o:[]}function Xl(o){return typeof o=="function"?o:pn}function zi(o,c){return It(o)?o:ic(o,c)?[o]:Af(ie(o))}var Gb=Vt;function Ui(o,c,h){var m=o.length;return h=h===e?m:h,!c&&h>=m?o:Wn(o,c,h)}var ef=Iv||function(o){return Ze.clearTimeout(o)};function nf(o,c){if(c)return o.slice();var h=o.length,m=wd?wd(h):new o.constructor(h);return o.copy(m),m}function Zl(o){var c=new o.constructor(o.byteLength);return new Fa(c).set(new Fa(o)),c}function Xb(o,c){var h=c?Zl(o.buffer):o.buffer;return new o.constructor(h,o.byteOffset,o.byteLength)}function Zb(o){var c=new o.constructor(o.source,Vu.exec(o));return c.lastIndex=o.lastIndex,c}function Jb(o){return pr?ue(pr.call(o)):{}}function sf(o,c){var h=c?Zl(o.buffer):o.buffer;return new o.constructor(h,o.byteOffset,o.length)}function rf(o,c){if(o!==c){var h=o!==e,m=o===null,x=o===o,C=Fn(o),E=c!==e,I=c===null,N=c===c,X=Fn(c);if(!I&&!X&&!C&&o>c||C&&E&&N&&!I&&!X||m&&E&&N||!h&&N||!x)return 1;if(!m&&!C&&!X&&o<c||X&&h&&x&&!m&&!C||I&&h&&x||!E&&x||!N)return-1}return 0}function Qb(o,c,h){for(var m=-1,x=o.criteria,C=c.criteria,E=x.length,I=h.length;++m<E;){var N=rf(x[m],C[m]);if(N){if(m>=I)return N;var X=h[m];return N*(X=="desc"?-1:1)}}return o.index-c.index}function af(o,c,h,m){for(var x=-1,C=o.length,E=h.length,I=-1,N=c.length,X=He(C-E,0),Z=U(N+X),tt=!m;++I<N;)Z[I]=c[I];for(;++x<E;)(tt||x<C)&&(Z[h[x]]=o[x]);for(;X--;)Z[I++]=o[x++];return Z}function of(o,c,h,m){for(var x=-1,C=o.length,E=-1,I=h.length,N=-1,X=c.length,Z=He(C-I,0),tt=U(Z+X),ft=!m;++x<Z;)tt[x]=o[x];for(var vt=x;++N<X;)tt[vt+N]=c[N];for(;++E<I;)(ft||x<C)&&(tt[vt+h[E]]=o[x++]);return tt}function fn(o,c){var h=-1,m=o.length;for(c||(c=U(m));++h<m;)c[h]=o[h];return c}function ui(o,c,h,m){var x=!h;h||(h={});for(var C=-1,E=c.length;++C<E;){var I=c[C],N=m?m(h[I],o[I],I,h,o):e;N===e&&(N=o[I]),x?yi(h,I,N):mr(h,I,N)}return h}function $b(o,c){return ui(o,nc(o),c)}function qb(o,c){return ui(o,_f(o),c)}function Ua(o,c){return function(h,m){var x=It(h)?sv:xb,C=c?c():{};return x(h,o,Ct(m,2),C)}}function Ws(o){return Vt(function(c,h){var m=-1,x=h.length,C=x>1?h[x-1]:e,E=x>2?h[2]:e;for(C=o.length>3&&typeof C=="function"?(x--,C):e,E&&cn(h[0],h[1],E)&&(C=x<3?e:C,x=1),c=ue(c);++m<x;){var I=h[m];I&&o(c,I,m,C)}return c})}function lf(o,c){return function(h,m){if(h==null)return h;if(!hn(h))return o(h,m);for(var x=h.length,C=c?x:-1,E=ue(h);(c?C--:++C<x)&&m(E[C],C,E)!==!1;);return h}}function cf(o){return function(c,h,m){for(var x=-1,C=ue(c),E=m(c),I=E.length;I--;){var N=E[o?I:++x];if(h(C[N],N,C)===!1)break}return c}}function ty(o,c,h){var m=c&S,x=xr(o);function C(){var E=this&&this!==Ze&&this instanceof C?x:o;return E.apply(m?h:this,arguments)}return C}function uf(o){return function(c){c=ie(c);var h=Ls(c)?$n(c):e,m=h?h[0]:c.charAt(0),x=h?Ui(h,1).join(""):c.slice(1);return m[o]()+x}}function Hs(o){return function(c){return _l(lh(oh(c).replace(Hm,"")),o,"")}}function xr(o){return function(){var c=arguments;switch(c.length){case 0:return new o;case 1:return new o(c[0]);case 2:return new o(c[0],c[1]);case 3:return new o(c[0],c[1],c[2]);case 4:return new o(c[0],c[1],c[2],c[3]);case 5:return new o(c[0],c[1],c[2],c[3],c[4]);case 6:return new o(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new o(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var h=Us(o.prototype),m=o.apply(h,c);return Oe(m)?m:h}}function ey(o,c,h){var m=xr(o);function x(){for(var C=arguments.length,E=U(C),I=C,N=Ys(x);I--;)E[I]=arguments[I];var X=C<3&&E[0]!==N&&E[C-1]!==N?[]:Ni(E,N);if(C-=X.length,C<h)return pf(o,c,Wa,x.placeholder,e,E,X,e,e,h-C);var Z=this&&this!==Ze&&this instanceof x?m:o;return Cn(Z,this,E)}return x}function df(o){return function(c,h,m){var x=ue(c);if(!hn(c)){var C=Ct(h,3);c=Ke(c),h=function(I){return C(x[I],I,x)}}var E=o(c,h,m);return E>-1?x[C?c[E]:E]:e}}function ff(o){return xi(function(c){var h=c.length,m=h,x=zn.prototype.thru;for(o&&c.reverse();m--;){var C=c[m];if(typeof C!="function")throw new jn(a);if(x&&!E&&Ga(C)=="wrapper")var E=new zn([],!0)}for(m=E?m:h;++m<h;){C=c[m];var I=Ga(C),N=I=="wrapper"?tc(C):e;N&&sc(N[0])&&N[1]==(z|P|T|W)&&!N[4].length&&N[9]==1?E=E[Ga(N[0])].apply(E,N[3]):E=C.length==1&&sc(C)?E[I]():E.thru(C)}return function(){var X=arguments,Z=X[0];if(E&&X.length==1&&It(Z))return E.plant(Z).value();for(var tt=0,ft=h?c[tt].apply(this,X):Z;++tt<h;)ft=c[tt].call(this,ft);return ft}})}function Wa(o,c,h,m,x,C,E,I,N,X){var Z=c&z,tt=c&S,ft=c&k,vt=c&(P|A),kt=c&B,Bt=ft?e:xr(o);function Ot(){for(var Ht=arguments.length,Jt=U(Ht),Dn=Ht;Dn--;)Jt[Dn]=arguments[Dn];if(vt)var un=Ys(Ot),En=hv(Jt,un);if(m&&(Jt=af(Jt,m,x,vt)),C&&(Jt=of(Jt,C,E,vt)),Ht-=En,vt&&Ht<X){var Re=Ni(Jt,un);return pf(o,c,Wa,Ot.placeholder,h,Jt,Re,I,N,X-Ht)}var ei=tt?h:this,ki=ft?ei[o]:o;return Ht=Jt.length,I?Jt=xy(Jt,I):kt&&Ht>1&&Jt.reverse(),Z&&N<Ht&&(Jt.length=N),this&&this!==Ze&&this instanceof Ot&&(ki=Bt||xr(ki)),ki.apply(ei,Jt)}return Ot}function hf(o,c){return function(h,m){return Eb(h,o,c(m),{})}}function Ha(o,c){return function(h,m){var x;if(h===e&&m===e)return c;if(h!==e&&(x=h),m!==e){if(x===e)return m;typeof h=="string"||typeof m=="string"?(h=On(h),m=On(m)):(h=Qd(h),m=Qd(m)),x=o(h,m)}return x}}function Jl(o){return xi(function(c){return c=xe(c,kn(Ct())),Vt(function(h){var m=this;return o(c,function(x){return Cn(x,m,h)})})})}function Ya(o,c){c=c===e?" ":On(c);var h=c.length;if(h<2)return h?Wl(c,o):c;var m=Wl(c,Ta(o/Ns(c)));return Ls(c)?Ui($n(m),0,o).join(""):m.slice(0,o)}function ny(o,c,h,m){var x=c&S,C=xr(o);function E(){for(var I=-1,N=arguments.length,X=-1,Z=m.length,tt=U(Z+N),ft=this&&this!==Ze&&this instanceof E?C:o;++X<Z;)tt[X]=m[X];for(;N--;)tt[X++]=arguments[++I];return Cn(ft,x?h:this,tt)}return E}function gf(o){return function(c,h,m){return m&&typeof m!="number"&&cn(c,h,m)&&(h=m=e),c=Ci(c),h===e?(h=c,c=0):h=Ci(h),m=m===e?c<h?1:-1:Ci(m),zb(c,h,m,o)}}function Ka(o){return function(c,h){return typeof c=="string"&&typeof h=="string"||(c=Yn(c),h=Yn(h)),o(c,h)}}function pf(o,c,h,m,x,C,E,I,N,X){var Z=c&P,tt=Z?E:e,ft=Z?e:E,vt=Z?C:e,kt=Z?e:C;c|=Z?T:R,c&=~(Z?R:T),c&F||(c&=~(S|k));var Bt=[o,c,x,vt,tt,kt,ft,I,N,X],Ot=h.apply(e,Bt);return sc(o)&&Ff(Ot,Bt),Ot.placeholder=m,Df(Ot,o,c)}function Ql(o){var c=We[o];return function(h,m){if(h=Yn(h),m=m==null?0:qe(Nt(m),292),m&&Fd(h)){var x=(ie(h)+"e").split("e"),C=c(x[0]+"e"+(+x[1]+m));return x=(ie(C)+"e").split("e"),+(x[0]+"e"+(+x[1]-m))}return c(h)}}var iy=js&&1/xa(new js([,-0]))[1]==ot?function(o){return new js(o)}:yc;function mf(o){return function(c){var h=tn(c);return h==re?Fl(c):h==Ve?_v(c):fv(c,o(c))}}function _i(o,c,h,m,x,C,E,I){var N=c&k;if(!N&&typeof o!="function")throw new jn(a);var X=m?m.length:0;if(X||(c&=~(T|R),m=x=e),E=E===e?E:He(Nt(E),0),I=I===e?I:Nt(I),X-=x?x.length:0,c&R){var Z=m,tt=x;m=x=e}var ft=N?e:tc(o),vt=[o,c,h,m,x,Z,tt,C,E,I];if(ft&&by(vt,ft),o=vt[0],c=vt[1],h=vt[2],m=vt[3],x=vt[4],I=vt[9]=vt[9]===e?N?0:o.length:He(vt[9]-X,0),!I&&c&(P|A)&&(c&=~(P|A)),!c||c==S)var kt=ty(o,c,h);else c==P||c==A?kt=ey(o,c,I):(c==T||c==(S|T))&&!x.length?kt=ny(o,c,h,m):kt=Wa.apply(e,vt);var Bt=ft?Zd:Ff;return Df(Bt(kt,vt),o,c)}function vf(o,c,h,m){return o===e||ti(o,Vs[h])&&!ae.call(m,h)?c:o}function bf(o,c,h,m,x,C){return Oe(o)&&Oe(c)&&(C.set(c,o),Va(o,c,e,bf,C),C.delete(c)),o}function sy(o){return Cr(o)?e:o}function yf(o,c,h,m,x,C){var E=h&b,I=o.length,N=c.length;if(I!=N&&!(E&&N>I))return!1;var X=C.get(o),Z=C.get(c);if(X&&Z)return X==c&&Z==o;var tt=-1,ft=!0,vt=h&y?new cs:e;for(C.set(o,c),C.set(c,o);++tt<I;){var kt=o[tt],Bt=c[tt];if(m)var Ot=E?m(Bt,kt,tt,c,o,C):m(kt,Bt,tt,o,c,C);if(Ot!==e){if(Ot)continue;ft=!1;break}if(vt){if(!xl(c,function(Ht,Jt){if(!ur(vt,Jt)&&(kt===Ht||x(kt,Ht,h,m,C)))return vt.push(Jt)})){ft=!1;break}}else if(!(kt===Bt||x(kt,Bt,h,m,C))){ft=!1;break}}return C.delete(o),C.delete(c),ft}function ry(o,c,h,m,x,C,E){switch(h){case Nn:if(o.byteLength!=c.byteLength||o.byteOffset!=c.byteOffset)return!1;o=o.buffer,c=c.buffer;case Qn:return!(o.byteLength!=c.byteLength||!C(new Fa(o),new Fa(c)));case Ue:case Pe:case wn:return ti(+o,+c);case In:return o.name==c.name&&o.message==c.message;case Xe:case Ln:return o==c+"";case re:var I=Fl;case Ve:var N=m&b;if(I||(I=xa),o.size!=c.size&&!N)return!1;var X=E.get(o);if(X)return X==c;m|=y,E.set(o,c);var Z=yf(I(o),I(c),m,x,C,E);return E.delete(o),Z;case li:if(pr)return pr.call(o)==pr.call(c)}return!1}function ay(o,c,h,m,x,C){var E=h&b,I=$l(o),N=I.length,X=$l(c),Z=X.length;if(N!=Z&&!E)return!1;for(var tt=N;tt--;){var ft=I[tt];if(!(E?ft in c:ae.call(c,ft)))return!1}var vt=C.get(o),kt=C.get(c);if(vt&&kt)return vt==c&&kt==o;var Bt=!0;C.set(o,c),C.set(c,o);for(var Ot=E;++tt<N;){ft=I[tt];var Ht=o[ft],Jt=c[ft];if(m)var Dn=E?m(Jt,Ht,ft,c,o,C):m(Ht,Jt,ft,o,c,C);if(!(Dn===e?Ht===Jt||x(Ht,Jt,h,m,C):Dn)){Bt=!1;break}Ot||(Ot=ft=="constructor")}if(Bt&&!Ot){var un=o.constructor,En=c.constructor;un!=En&&"constructor"in o&&"constructor"in c&&!(typeof un=="function"&&un instanceof un&&typeof En=="function"&&En instanceof En)&&(Bt=!1)}return C.delete(o),C.delete(c),Bt}function xi(o){return ac(kf(o,e,If),o+"")}function $l(o){return Bd(o,Ke,nc)}function ql(o){return Bd(o,gn,_f)}var tc=Pa?function(o){return Pa.get(o)}:yc;function Ga(o){for(var c=o.name+"",h=zs[c],m=ae.call(zs,c)?h.length:0;m--;){var x=h[m],C=x.func;if(C==null||C==o)return x.name}return c}function Ys(o){var c=ae.call(w,"placeholder")?w:o;return c.placeholder}function Ct(){var o=w.iteratee||vc;return o=o===vc?zd:o,arguments.length?o(arguments[0],arguments[1]):o}function Xa(o,c){var h=o.__data__;return gy(c)?h[typeof c=="string"?"string":"hash"]:h.map}function ec(o){for(var c=Ke(o),h=c.length;h--;){var m=c[h],x=o[m];c[h]=[m,x,wf(x)]}return c}function fs(o,c){var h=vv(o,c);return jd(h)?h:e}function oy(o){var c=ae.call(o,os),h=o[os];try{o[os]=e;var m=!0}catch{}var x=ka.call(o);return m&&(c?o[os]=h:delete o[os]),x}var nc=El?function(o){return o==null?[]:(o=ue(o),Ri(El(o),function(c){return kd.call(o,c)}))}:_c,_f=El?function(o){for(var c=[];o;)Li(c,nc(o)),o=Da(o);return c}:_c,tn=ln;(Al&&tn(new Al(new ArrayBuffer(1)))!=Nn||fr&&tn(new fr)!=re||Tl&&tn(Tl.resolve())!=is||js&&tn(new js)!=Ve||hr&&tn(new hr)!=Jn)&&(tn=function(o){var c=ln(o),h=c==Be?o.constructor:e,m=h?hs(h):"";if(m)switch(m){case Wv:return Nn;case Hv:return re;case Yv:return is;case Kv:return Ve;case Gv:return Jn}return c});function ly(o,c,h){for(var m=-1,x=h.length;++m<x;){var C=h[m],E=C.size;switch(C.type){case"drop":o+=E;break;case"dropRight":c-=E;break;case"take":c=qe(c,o+E);break;case"takeRight":o=He(o,c-E);break}}return{start:o,end:c}}function cy(o){var c=o.match(pm);return c?c[1].split(mm):[]}function xf(o,c,h){c=zi(c,o);for(var m=-1,x=c.length,C=!1;++m<x;){var E=di(c[m]);if(!(C=o!=null&&h(o,E)))break;o=o[E]}return C||++m!=x?C:(x=o==null?0:o.length,!!x&&eo(x)&&Si(E,x)&&(It(o)||gs(o)))}function uy(o){var c=o.length,h=new o.constructor(c);return c&&typeof o[0]=="string"&&ae.call(o,"index")&&(h.index=o.index,h.input=o.input),h}function Sf(o){return typeof o.constructor=="function"&&!Sr(o)?Us(Da(o)):{}}function dy(o,c,h){var m=o.constructor;switch(c){case Qn:return Zl(o);case Ue:case Pe:return new m(+o);case Nn:return Xb(o,h);case j:case V:case Y:case it:case gt:case wt:case Et:case Zt:case me:return sf(o,h);case re:return new m;case wn:case Ln:return new m(o);case Xe:return Zb(o);case Ve:return new m;case li:return Jb(o)}}function fy(o,c){var h=c.length;if(!h)return o;var m=h-1;return c[m]=(h>1?"& ":"")+c[m],c=c.join(h>2?", ":" "),o.replace(gm,`{
/* [wrapped with `+c+`] */
`)}function hy(o){return It(o)||gs(o)||!!(Od&&o&&o[Od])}function Si(o,c){var h=typeof o;return c=c??_t,!!c&&(h=="number"||h!="symbol"&&km.test(o))&&o>-1&&o%1==0&&o<c}function cn(o,c,h){if(!Oe(h))return!1;var m=typeof c;return(m=="number"?hn(h)&&Si(c,h.length):m=="string"&&c in h)?ti(h[c],o):!1}function ic(o,c){if(It(o))return!1;var h=typeof o;return h=="number"||h=="symbol"||h=="boolean"||o==null||Fn(o)?!0:um.test(o)||!cm.test(o)||c!=null&&o in ue(c)}function gy(o){var c=typeof o;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?o!=="__proto__":o===null}function sc(o){var c=Ga(o),h=w[c];if(typeof h!="function"||!(c in Kt.prototype))return!1;if(o===h)return!0;var m=tc(h);return!!m&&o===m[0]}function py(o){return!!Sd&&Sd in o}var my=wa?wi:xc;function Sr(o){var c=o&&o.constructor,h=typeof c=="function"&&c.prototype||Vs;return o===h}function wf(o){return o===o&&!Oe(o)}function Cf(o,c){return function(h){return h==null?!1:h[o]===c&&(c!==e||o in ue(h))}}function vy(o){var c=qa(o,function(m){return h.size===d&&h.clear(),m}),h=c.cache;return c}function by(o,c){var h=o[1],m=c[1],x=h|m,C=x<(S|k|z),E=m==z&&h==P||m==z&&h==W&&o[7].length<=c[8]||m==(z|W)&&c[7].length<=c[8]&&h==P;if(!(C||E))return o;m&S&&(o[2]=c[2],x|=h&S?0:F);var I=c[3];if(I){var N=o[3];o[3]=N?af(N,I,c[4]):I,o[4]=N?Ni(o[3],f):c[4]}return I=c[5],I&&(N=o[5],o[5]=N?of(N,I,c[6]):I,o[6]=N?Ni(o[5],f):c[6]),I=c[7],I&&(o[7]=I),m&z&&(o[8]=o[8]==null?c[8]:qe(o[8],c[8])),o[9]==null&&(o[9]=c[9]),o[0]=c[0],o[1]=x,o}function yy(o){var c=[];if(o!=null)for(var h in ue(o))c.push(h);return c}function _y(o){return ka.call(o)}function kf(o,c,h){return c=He(c===e?o.length-1:c,0),function(){for(var m=arguments,x=-1,C=He(m.length-c,0),E=U(C);++x<C;)E[x]=m[c+x];x=-1;for(var I=U(c+1);++x<c;)I[x]=m[x];return I[c]=h(E),Cn(o,this,I)}}function Of(o,c){return c.length<2?o:ds(o,Wn(c,0,-1))}function xy(o,c){for(var h=o.length,m=qe(c.length,h),x=fn(o);m--;){var C=c[m];o[m]=Si(C,h)?x[C]:e}return o}function rc(o,c){if(!(c==="constructor"&&typeof o[c]=="function")&&c!="__proto__")return o[c]}var Ff=Ef(Zd),wr=Lv||function(o,c){return Ze.setTimeout(o,c)},ac=Ef(Hb);function Df(o,c,h){var m=c+"";return ac(o,fy(m,Sy(cy(m),h)))}function Ef(o){var c=0,h=0;return function(){var m=jv(),x=et-(m-h);if(h=m,x>0){if(++c>=lt)return arguments[0]}else c=0;return o.apply(e,arguments)}}function Za(o,c){var h=-1,m=o.length,x=m-1;for(c=c===e?m:c;++h<c;){var C=Ul(h,x),E=o[C];o[C]=o[h],o[h]=E}return o.length=c,o}var Af=vy(function(o){var c=[];return o.charCodeAt(0)===46&&c.push(""),o.replace(dm,function(h,m,x,C){c.push(x?C.replace(ym,"$1"):m||h)}),c});function di(o){if(typeof o=="string"||Fn(o))return o;var c=o+"";return c=="0"&&1/o==-ot?"-0":c}function hs(o){if(o!=null){try{return Ca.call(o)}catch{}try{return o+""}catch{}}return""}function Sy(o,c){return Vn(le,function(h){var m="_."+h[0];c&h[1]&&!ya(o,m)&&o.push(m)}),o.sort()}function Tf(o){if(o instanceof Kt)return o.clone();var c=new zn(o.__wrapped__,o.__chain__);return c.__actions__=fn(o.__actions__),c.__index__=o.__index__,c.__values__=o.__values__,c}function wy(o,c,h){(h?cn(o,c,h):c===e)?c=1:c=He(Nt(c),0);var m=o==null?0:o.length;if(!m||c<1)return[];for(var x=0,C=0,E=U(Ta(m/c));x<m;)E[C++]=Wn(o,x,x+=c);return E}function Cy(o){for(var c=-1,h=o==null?0:o.length,m=0,x=[];++c<h;){var C=o[c];C&&(x[m++]=C)}return x}function ky(){var o=arguments.length;if(!o)return[];for(var c=U(o-1),h=arguments[0],m=o;m--;)c[m-1]=arguments[m];return Li(It(h)?fn(h):[h],Je(c,1))}var Oy=Vt(function(o,c){return Ie(o)?vr(o,Je(c,1,Ie,!0)):[]}),Fy=Vt(function(o,c){var h=Hn(c);return Ie(h)&&(h=e),Ie(o)?vr(o,Je(c,1,Ie,!0),Ct(h,2)):[]}),Dy=Vt(function(o,c){var h=Hn(c);return Ie(h)&&(h=e),Ie(o)?vr(o,Je(c,1,Ie,!0),e,h):[]});function Ey(o,c,h){var m=o==null?0:o.length;return m?(c=h||c===e?1:Nt(c),Wn(o,c<0?0:c,m)):[]}function Ay(o,c,h){var m=o==null?0:o.length;return m?(c=h||c===e?1:Nt(c),c=m-c,Wn(o,0,c<0?0:c)):[]}function Ty(o,c){return o&&o.length?za(o,Ct(c,3),!0,!0):[]}function My(o,c){return o&&o.length?za(o,Ct(c,3),!0):[]}function Py(o,c,h,m){var x=o==null?0:o.length;return x?(h&&typeof h!="number"&&cn(o,c,h)&&(h=0,m=x),kb(o,c,h,m)):[]}function Mf(o,c,h){var m=o==null?0:o.length;if(!m)return-1;var x=h==null?0:Nt(h);return x<0&&(x=He(m+x,0)),_a(o,Ct(c,3),x)}function Pf(o,c,h){var m=o==null?0:o.length;if(!m)return-1;var x=m-1;return h!==e&&(x=Nt(h),x=h<0?He(m+x,0):qe(x,m-1)),_a(o,Ct(c,3),x,!0)}function If(o){var c=o==null?0:o.length;return c?Je(o,1):[]}function Iy(o){var c=o==null?0:o.length;return c?Je(o,ot):[]}function Ry(o,c){var h=o==null?0:o.length;return h?(c=c===e?1:Nt(c),Je(o,c)):[]}function Ly(o){for(var c=-1,h=o==null?0:o.length,m={};++c<h;){var x=o[c];m[x[0]]=x[1]}return m}function Rf(o){return o&&o.length?o[0]:e}function Ny(o,c,h){var m=o==null?0:o.length;if(!m)return-1;var x=h==null?0:Nt(h);return x<0&&(x=He(m+x,0)),Rs(o,c,x)}function By(o){var c=o==null?0:o.length;return c?Wn(o,0,-1):[]}var Vy=Vt(function(o){var c=xe(o,Gl);return c.length&&c[0]===o[0]?Nl(c):[]}),jy=Vt(function(o){var c=Hn(o),h=xe(o,Gl);return c===Hn(h)?c=e:h.pop(),h.length&&h[0]===o[0]?Nl(h,Ct(c,2)):[]}),zy=Vt(function(o){var c=Hn(o),h=xe(o,Gl);return c=typeof c=="function"?c:e,c&&h.pop(),h.length&&h[0]===o[0]?Nl(h,e,c):[]});function Uy(o,c){return o==null?"":Bv.call(o,c)}function Hn(o){var c=o==null?0:o.length;return c?o[c-1]:e}function Wy(o,c,h){var m=o==null?0:o.length;if(!m)return-1;var x=m;return h!==e&&(x=Nt(h),x=x<0?He(m+x,0):qe(x,m-1)),c===c?Sv(o,c,x):_a(o,gd,x,!0)}function Hy(o,c){return o&&o.length?Yd(o,Nt(c)):e}var Yy=Vt(Lf);function Lf(o,c){return o&&o.length&&c&&c.length?zl(o,c):o}function Ky(o,c,h){return o&&o.length&&c&&c.length?zl(o,c,Ct(h,2)):o}function Gy(o,c,h){return o&&o.length&&c&&c.length?zl(o,c,e,h):o}var Xy=xi(function(o,c){var h=o==null?0:o.length,m=Pl(o,c);return Xd(o,xe(c,function(x){return Si(x,h)?+x:x}).sort(rf)),m});function Zy(o,c){var h=[];if(!(o&&o.length))return h;var m=-1,x=[],C=o.length;for(c=Ct(c,3);++m<C;){var E=o[m];c(E,m,o)&&(h.push(E),x.push(m))}return Xd(o,x),h}function oc(o){return o==null?o:Uv.call(o)}function Jy(o,c,h){var m=o==null?0:o.length;return m?(h&&typeof h!="number"&&cn(o,c,h)?(c=0,h=m):(c=c==null?0:Nt(c),h=h===e?m:Nt(h)),Wn(o,c,h)):[]}function Qy(o,c){return ja(o,c)}function $y(o,c,h){return Hl(o,c,Ct(h,2))}function qy(o,c){var h=o==null?0:o.length;if(h){var m=ja(o,c);if(m<h&&ti(o[m],c))return m}return-1}function t0(o,c){return ja(o,c,!0)}function e0(o,c,h){return Hl(o,c,Ct(h,2),!0)}function n0(o,c){var h=o==null?0:o.length;if(h){var m=ja(o,c,!0)-1;if(ti(o[m],c))return m}return-1}function i0(o){return o&&o.length?Jd(o):[]}function s0(o,c){return o&&o.length?Jd(o,Ct(c,2)):[]}function r0(o){var c=o==null?0:o.length;return c?Wn(o,1,c):[]}function a0(o,c,h){return o&&o.length?(c=h||c===e?1:Nt(c),Wn(o,0,c<0?0:c)):[]}function o0(o,c,h){var m=o==null?0:o.length;return m?(c=h||c===e?1:Nt(c),c=m-c,Wn(o,c<0?0:c,m)):[]}function l0(o,c){return o&&o.length?za(o,Ct(c,3),!1,!0):[]}function c0(o,c){return o&&o.length?za(o,Ct(c,3)):[]}var u0=Vt(function(o){return ji(Je(o,1,Ie,!0))}),d0=Vt(function(o){var c=Hn(o);return Ie(c)&&(c=e),ji(Je(o,1,Ie,!0),Ct(c,2))}),f0=Vt(function(o){var c=Hn(o);return c=typeof c=="function"?c:e,ji(Je(o,1,Ie,!0),e,c)});function h0(o){return o&&o.length?ji(o):[]}function g0(o,c){return o&&o.length?ji(o,Ct(c,2)):[]}function p0(o,c){return c=typeof c=="function"?c:e,o&&o.length?ji(o,e,c):[]}function lc(o){if(!(o&&o.length))return[];var c=0;return o=Ri(o,function(h){if(Ie(h))return c=He(h.length,c),!0}),kl(c,function(h){return xe(o,Sl(h))})}function Nf(o,c){if(!(o&&o.length))return[];var h=lc(o);return c==null?h:xe(h,function(m){return Cn(c,e,m)})}var m0=Vt(function(o,c){return Ie(o)?vr(o,c):[]}),v0=Vt(function(o){return Kl(Ri(o,Ie))}),b0=Vt(function(o){var c=Hn(o);return Ie(c)&&(c=e),Kl(Ri(o,Ie),Ct(c,2))}),y0=Vt(function(o){var c=Hn(o);return c=typeof c=="function"?c:e,Kl(Ri(o,Ie),e,c)}),_0=Vt(lc);function x0(o,c){return tf(o||[],c||[],mr)}function S0(o,c){return tf(o||[],c||[],_r)}var w0=Vt(function(o){var c=o.length,h=c>1?o[c-1]:e;return h=typeof h=="function"?(o.pop(),h):e,Nf(o,h)});function Bf(o){var c=w(o);return c.__chain__=!0,c}function C0(o,c){return c(o),o}function Ja(o,c){return c(o)}var k0=xi(function(o){var c=o.length,h=c?o[0]:0,m=this.__wrapped__,x=function(C){return Pl(C,o)};return c>1||this.__actions__.length||!(m instanceof Kt)||!Si(h)?this.thru(x):(m=m.slice(h,+h+(c?1:0)),m.__actions__.push({func:Ja,args:[x],thisArg:e}),new zn(m,this.__chain__).thru(function(C){return c&&!C.length&&C.push(e),C}))});function O0(){return Bf(this)}function F0(){return new zn(this.value(),this.__chain__)}function D0(){this.__values__===e&&(this.__values__=$f(this.value()));var o=this.__index__>=this.__values__.length,c=o?e:this.__values__[this.__index__++];return{done:o,value:c}}function E0(){return this}function A0(o){for(var c,h=this;h instanceof Ra;){var m=Tf(h);m.__index__=0,m.__values__=e,c?x.__wrapped__=m:c=m;var x=m;h=h.__wrapped__}return x.__wrapped__=o,c}function T0(){var o=this.__wrapped__;if(o instanceof Kt){var c=o;return this.__actions__.length&&(c=new Kt(this)),c=c.reverse(),c.__actions__.push({func:Ja,args:[oc],thisArg:e}),new zn(c,this.__chain__)}return this.thru(oc)}function M0(){return qd(this.__wrapped__,this.__actions__)}var P0=Ua(function(o,c,h){ae.call(o,h)?++o[h]:yi(o,h,1)});function I0(o,c,h){var m=It(o)?fd:Cb;return h&&cn(o,c,h)&&(c=e),m(o,Ct(c,3))}function R0(o,c){var h=It(o)?Ri:Ld;return h(o,Ct(c,3))}var L0=df(Mf),N0=df(Pf);function B0(o,c){return Je(Qa(o,c),1)}function V0(o,c){return Je(Qa(o,c),ot)}function j0(o,c,h){return h=h===e?1:Nt(h),Je(Qa(o,c),h)}function Vf(o,c){var h=It(o)?Vn:Vi;return h(o,Ct(c,3))}function jf(o,c){var h=It(o)?rv:Rd;return h(o,Ct(c,3))}var z0=Ua(function(o,c,h){ae.call(o,h)?o[h].push(c):yi(o,h,[c])});function U0(o,c,h,m){o=hn(o)?o:Gs(o),h=h&&!m?Nt(h):0;var x=o.length;return h<0&&(h=He(x+h,0)),no(o)?h<=x&&o.indexOf(c,h)>-1:!!x&&Rs(o,c,h)>-1}var W0=Vt(function(o,c,h){var m=-1,x=typeof c=="function",C=hn(o)?U(o.length):[];return Vi(o,function(E){C[++m]=x?Cn(c,E,h):br(E,c,h)}),C}),H0=Ua(function(o,c,h){yi(o,h,c)});function Qa(o,c){var h=It(o)?xe:Ud;return h(o,Ct(c,3))}function Y0(o,c,h,m){return o==null?[]:(It(c)||(c=c==null?[]:[c]),h=m?e:h,It(h)||(h=h==null?[]:[h]),Kd(o,c,h))}var K0=Ua(function(o,c,h){o[h?0:1].push(c)},function(){return[[],[]]});function G0(o,c,h){var m=It(o)?_l:md,x=arguments.length<3;return m(o,Ct(c,4),h,x,Vi)}function X0(o,c,h){var m=It(o)?av:md,x=arguments.length<3;return m(o,Ct(c,4),h,x,Rd)}function Z0(o,c){var h=It(o)?Ri:Ld;return h(o,to(Ct(c,3)))}function J0(o){var c=It(o)?Td:Ub;return c(o)}function Q0(o,c,h){(h?cn(o,c,h):c===e)?c=1:c=Nt(c);var m=It(o)?yb:Wb;return m(o,c)}function $0(o){var c=It(o)?_b:Yb;return c(o)}function q0(o){if(o==null)return 0;if(hn(o))return no(o)?Ns(o):o.length;var c=tn(o);return c==re||c==Ve?o.size:Vl(o).length}function t_(o,c,h){var m=It(o)?xl:Kb;return h&&cn(o,c,h)&&(c=e),m(o,Ct(c,3))}var e_=Vt(function(o,c){if(o==null)return[];var h=c.length;return h>1&&cn(o,c[0],c[1])?c=[]:h>2&&cn(c[0],c[1],c[2])&&(c=[c[0]]),Kd(o,Je(c,1),[])}),$a=Rv||function(){return Ze.Date.now()};function n_(o,c){if(typeof c!="function")throw new jn(a);return o=Nt(o),function(){if(--o<1)return c.apply(this,arguments)}}function zf(o,c,h){return c=h?e:c,c=o&&c==null?o.length:c,_i(o,z,e,e,e,e,c)}function Uf(o,c){var h;if(typeof c!="function")throw new jn(a);return o=Nt(o),function(){return--o>0&&(h=c.apply(this,arguments)),o<=1&&(c=e),h}}var cc=Vt(function(o,c,h){var m=S;if(h.length){var x=Ni(h,Ys(cc));m|=T}return _i(o,m,c,h,x)}),Wf=Vt(function(o,c,h){var m=S|k;if(h.length){var x=Ni(h,Ys(Wf));m|=T}return _i(c,m,o,h,x)});function Hf(o,c,h){c=h?e:c;var m=_i(o,P,e,e,e,e,e,c);return m.placeholder=Hf.placeholder,m}function Yf(o,c,h){c=h?e:c;var m=_i(o,A,e,e,e,e,e,c);return m.placeholder=Yf.placeholder,m}function Kf(o,c,h){var m,x,C,E,I,N,X=0,Z=!1,tt=!1,ft=!0;if(typeof o!="function")throw new jn(a);c=Yn(c)||0,Oe(h)&&(Z=!!h.leading,tt="maxWait"in h,C=tt?He(Yn(h.maxWait)||0,c):C,ft="trailing"in h?!!h.trailing:ft);function vt(Re){var ei=m,ki=x;return m=x=e,X=Re,E=o.apply(ki,ei),E}function kt(Re){return X=Re,I=wr(Ht,c),Z?vt(Re):E}function Bt(Re){var ei=Re-N,ki=Re-X,dh=c-ei;return tt?qe(dh,C-ki):dh}function Ot(Re){var ei=Re-N,ki=Re-X;return N===e||ei>=c||ei<0||tt&&ki>=C}function Ht(){var Re=$a();if(Ot(Re))return Jt(Re);I=wr(Ht,Bt(Re))}function Jt(Re){return I=e,ft&&m?vt(Re):(m=x=e,E)}function Dn(){I!==e&&ef(I),X=0,m=N=x=I=e}function un(){return I===e?E:Jt($a())}function En(){var Re=$a(),ei=Ot(Re);if(m=arguments,x=this,N=Re,ei){if(I===e)return kt(N);if(tt)return ef(I),I=wr(Ht,c),vt(N)}return I===e&&(I=wr(Ht,c)),E}return En.cancel=Dn,En.flush=un,En}var i_=Vt(function(o,c){return Id(o,1,c)}),s_=Vt(function(o,c,h){return Id(o,Yn(c)||0,h)});function r_(o){return _i(o,B)}function qa(o,c){if(typeof o!="function"||c!=null&&typeof c!="function")throw new jn(a);var h=function(){var m=arguments,x=c?c.apply(this,m):m[0],C=h.cache;if(C.has(x))return C.get(x);var E=o.apply(this,m);return h.cache=C.set(x,E)||C,E};return h.cache=new(qa.Cache||bi),h}qa.Cache=bi;function to(o){if(typeof o!="function")throw new jn(a);return function(){var c=arguments;switch(c.length){case 0:return!o.call(this);case 1:return!o.call(this,c[0]);case 2:return!o.call(this,c[0],c[1]);case 3:return!o.call(this,c[0],c[1],c[2])}return!o.apply(this,c)}}function a_(o){return Uf(2,o)}var o_=Gb(function(o,c){c=c.length==1&&It(c[0])?xe(c[0],kn(Ct())):xe(Je(c,1),kn(Ct()));var h=c.length;return Vt(function(m){for(var x=-1,C=qe(m.length,h);++x<C;)m[x]=c[x].call(this,m[x]);return Cn(o,this,m)})}),uc=Vt(function(o,c){var h=Ni(c,Ys(uc));return _i(o,T,e,c,h)}),Gf=Vt(function(o,c){var h=Ni(c,Ys(Gf));return _i(o,R,e,c,h)}),l_=xi(function(o,c){return _i(o,W,e,e,e,c)});function c_(o,c){if(typeof o!="function")throw new jn(a);return c=c===e?c:Nt(c),Vt(o,c)}function u_(o,c){if(typeof o!="function")throw new jn(a);return c=c==null?0:He(Nt(c),0),Vt(function(h){var m=h[c],x=Ui(h,0,c);return m&&Li(x,m),Cn(o,this,x)})}function d_(o,c,h){var m=!0,x=!0;if(typeof o!="function")throw new jn(a);return Oe(h)&&(m="leading"in h?!!h.leading:m,x="trailing"in h?!!h.trailing:x),Kf(o,c,{leading:m,maxWait:c,trailing:x})}function f_(o){return zf(o,1)}function h_(o,c){return uc(Xl(c),o)}function g_(){if(!arguments.length)return[];var o=arguments[0];return It(o)?o:[o]}function p_(o){return Un(o,v)}function m_(o,c){return c=typeof c=="function"?c:e,Un(o,v,c)}function v_(o){return Un(o,g|v)}function b_(o,c){return c=typeof c=="function"?c:e,Un(o,g|v,c)}function y_(o,c){return c==null||Pd(o,c,Ke(c))}function ti(o,c){return o===c||o!==o&&c!==c}var __=Ka(Ll),x_=Ka(function(o,c){return o>=c}),gs=Vd(function(){return arguments}())?Vd:function(o){return De(o)&&ae.call(o,"callee")&&!kd.call(o,"callee")},It=U.isArray,S_=ad?kn(ad):Ab;function hn(o){return o!=null&&eo(o.length)&&!wi(o)}function Ie(o){return De(o)&&hn(o)}function w_(o){return o===!0||o===!1||De(o)&&ln(o)==Ue}var Wi=Nv||xc,C_=od?kn(od):Tb;function k_(o){return De(o)&&o.nodeType===1&&!Cr(o)}function O_(o){if(o==null)return!0;if(hn(o)&&(It(o)||typeof o=="string"||typeof o.splice=="function"||Wi(o)||Ks(o)||gs(o)))return!o.length;var c=tn(o);if(c==re||c==Ve)return!o.size;if(Sr(o))return!Vl(o).length;for(var h in o)if(ae.call(o,h))return!1;return!0}function F_(o,c){return yr(o,c)}function D_(o,c,h){h=typeof h=="function"?h:e;var m=h?h(o,c):e;return m===e?yr(o,c,e,h):!!m}function dc(o){if(!De(o))return!1;var c=ln(o);return c==In||c==Zn||typeof o.message=="string"&&typeof o.name=="string"&&!Cr(o)}function E_(o){return typeof o=="number"&&Fd(o)}function wi(o){if(!Oe(o))return!1;var c=ln(o);return c==Sn||c==Ne||c==pe||c==lr}function Xf(o){return typeof o=="number"&&o==Nt(o)}function eo(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=_t}function Oe(o){var c=typeof o;return o!=null&&(c=="object"||c=="function")}function De(o){return o!=null&&typeof o=="object"}var Zf=ld?kn(ld):Pb;function A_(o,c){return o===c||Bl(o,c,ec(c))}function T_(o,c,h){return h=typeof h=="function"?h:e,Bl(o,c,ec(c),h)}function M_(o){return Jf(o)&&o!=+o}function P_(o){if(my(o))throw new Tt(r);return jd(o)}function I_(o){return o===null}function R_(o){return o==null}function Jf(o){return typeof o=="number"||De(o)&&ln(o)==wn}function Cr(o){if(!De(o)||ln(o)!=Be)return!1;var c=Da(o);if(c===null)return!0;var h=ae.call(c,"constructor")&&c.constructor;return typeof h=="function"&&h instanceof h&&Ca.call(h)==Tv}var fc=cd?kn(cd):Ib;function L_(o){return Xf(o)&&o>=-_t&&o<=_t}var Qf=ud?kn(ud):Rb;function no(o){return typeof o=="string"||!It(o)&&De(o)&&ln(o)==Ln}function Fn(o){return typeof o=="symbol"||De(o)&&ln(o)==li}var Ks=dd?kn(dd):Lb;function N_(o){return o===e}function B_(o){return De(o)&&tn(o)==Jn}function V_(o){return De(o)&&ln(o)==rs}var j_=Ka(jl),z_=Ka(function(o,c){return o<=c});function $f(o){if(!o)return[];if(hn(o))return no(o)?$n(o):fn(o);if(dr&&o[dr])return yv(o[dr]());var c=tn(o),h=c==re?Fl:c==Ve?xa:Gs;return h(o)}function Ci(o){if(!o)return o===0?o:0;if(o=Yn(o),o===ot||o===-ot){var c=o<0?-1:1;return c*Pt}return o===o?o:0}function Nt(o){var c=Ci(o),h=c%1;return c===c?h?c-h:c:0}function qf(o){return o?us(Nt(o),0,jt):0}function Yn(o){if(typeof o=="number")return o;if(Fn(o))return se;if(Oe(o)){var c=typeof o.valueOf=="function"?o.valueOf():o;o=Oe(c)?c+"":c}if(typeof o!="string")return o===0?o:+o;o=vd(o);var h=Sm.test(o);return h||Cm.test(o)?nv(o.slice(2),h?2:8):xm.test(o)?se:+o}function th(o){return ui(o,gn(o))}function U_(o){return o?us(Nt(o),-_t,_t):o===0?o:0}function ie(o){return o==null?"":On(o)}var W_=Ws(function(o,c){if(Sr(c)||hn(c)){ui(c,Ke(c),o);return}for(var h in c)ae.call(c,h)&&mr(o,h,c[h])}),eh=Ws(function(o,c){ui(c,gn(c),o)}),io=Ws(function(o,c,h,m){ui(c,gn(c),o,m)}),H_=Ws(function(o,c,h,m){ui(c,Ke(c),o,m)}),Y_=xi(Pl);function K_(o,c){var h=Us(o);return c==null?h:Md(h,c)}var G_=Vt(function(o,c){o=ue(o);var h=-1,m=c.length,x=m>2?c[2]:e;for(x&&cn(c[0],c[1],x)&&(m=1);++h<m;)for(var C=c[h],E=gn(C),I=-1,N=E.length;++I<N;){var X=E[I],Z=o[X];(Z===e||ti(Z,Vs[X])&&!ae.call(o,X))&&(o[X]=C[X])}return o}),X_=Vt(function(o){return o.push(e,bf),Cn(nh,e,o)});function Z_(o,c){return hd(o,Ct(c,3),ci)}function J_(o,c){return hd(o,Ct(c,3),Rl)}function Q_(o,c){return o==null?o:Il(o,Ct(c,3),gn)}function $_(o,c){return o==null?o:Nd(o,Ct(c,3),gn)}function q_(o,c){return o&&ci(o,Ct(c,3))}function tx(o,c){return o&&Rl(o,Ct(c,3))}function ex(o){return o==null?[]:Ba(o,Ke(o))}function nx(o){return o==null?[]:Ba(o,gn(o))}function hc(o,c,h){var m=o==null?e:ds(o,c);return m===e?h:m}function ix(o,c){return o!=null&&xf(o,c,Ob)}function gc(o,c){return o!=null&&xf(o,c,Fb)}var sx=hf(function(o,c,h){c!=null&&typeof c.toString!="function"&&(c=ka.call(c)),o[c]=h},mc(pn)),rx=hf(function(o,c,h){c!=null&&typeof c.toString!="function"&&(c=ka.call(c)),ae.call(o,c)?o[c].push(h):o[c]=[h]},Ct),ax=Vt(br);function Ke(o){return hn(o)?Ad(o):Vl(o)}function gn(o){return hn(o)?Ad(o,!0):Nb(o)}function ox(o,c){var h={};return c=Ct(c,3),ci(o,function(m,x,C){yi(h,c(m,x,C),m)}),h}function lx(o,c){var h={};return c=Ct(c,3),ci(o,function(m,x,C){yi(h,x,c(m,x,C))}),h}var cx=Ws(function(o,c,h){Va(o,c,h)}),nh=Ws(function(o,c,h,m){Va(o,c,h,m)}),ux=xi(function(o,c){var h={};if(o==null)return h;var m=!1;c=xe(c,function(C){return C=zi(C,o),m||(m=C.length>1),C}),ui(o,ql(o),h),m&&(h=Un(h,g|p|v,sy));for(var x=c.length;x--;)Yl(h,c[x]);return h});function dx(o,c){return ih(o,to(Ct(c)))}var fx=xi(function(o,c){return o==null?{}:Vb(o,c)});function ih(o,c){if(o==null)return{};var h=xe(ql(o),function(m){return[m]});return c=Ct(c),Gd(o,h,function(m,x){return c(m,x[0])})}function hx(o,c,h){c=zi(c,o);var m=-1,x=c.length;for(x||(x=1,o=e);++m<x;){var C=o==null?e:o[di(c[m])];C===e&&(m=x,C=h),o=wi(C)?C.call(o):C}return o}function gx(o,c,h){return o==null?o:_r(o,c,h)}function px(o,c,h,m){return m=typeof m=="function"?m:e,o==null?o:_r(o,c,h,m)}var sh=mf(Ke),rh=mf(gn);function mx(o,c,h){var m=It(o),x=m||Wi(o)||Ks(o);if(c=Ct(c,4),h==null){var C=o&&o.constructor;x?h=m?new C:[]:Oe(o)?h=wi(C)?Us(Da(o)):{}:h={}}return(x?Vn:ci)(o,function(E,I,N){return c(h,E,I,N)}),h}function vx(o,c){return o==null?!0:Yl(o,c)}function bx(o,c,h){return o==null?o:$d(o,c,Xl(h))}function yx(o,c,h,m){return m=typeof m=="function"?m:e,o==null?o:$d(o,c,Xl(h),m)}function Gs(o){return o==null?[]:Ol(o,Ke(o))}function _x(o){return o==null?[]:Ol(o,gn(o))}function xx(o,c,h){return h===e&&(h=c,c=e),h!==e&&(h=Yn(h),h=h===h?h:0),c!==e&&(c=Yn(c),c=c===c?c:0),us(Yn(o),c,h)}function Sx(o,c,h){return c=Ci(c),h===e?(h=c,c=0):h=Ci(h),o=Yn(o),Db(o,c,h)}function wx(o,c,h){if(h&&typeof h!="boolean"&&cn(o,c,h)&&(c=h=e),h===e&&(typeof c=="boolean"?(h=c,c=e):typeof o=="boolean"&&(h=o,o=e)),o===e&&c===e?(o=0,c=1):(o=Ci(o),c===e?(c=o,o=0):c=Ci(c)),o>c){var m=o;o=c,c=m}if(h||o%1||c%1){var x=Dd();return qe(o+x*(c-o+ev("1e-"+((x+"").length-1))),c)}return Ul(o,c)}var Cx=Hs(function(o,c,h){return c=c.toLowerCase(),o+(h?ah(c):c)});function ah(o){return pc(ie(o).toLowerCase())}function oh(o){return o=ie(o),o&&o.replace(Om,gv).replace(Ym,"")}function kx(o,c,h){o=ie(o),c=On(c);var m=o.length;h=h===e?m:us(Nt(h),0,m);var x=h;return h-=c.length,h>=0&&o.slice(h,x)==c}function Ox(o){return o=ie(o),o&&cr.test(o)?o.replace(Yt,pv):o}function Fx(o){return o=ie(o),o&&fm.test(o)?o.replace(ul,"\\$&"):o}var Dx=Hs(function(o,c,h){return o+(h?"-":"")+c.toLowerCase()}),Ex=Hs(function(o,c,h){return o+(h?" ":"")+c.toLowerCase()}),Ax=uf("toLowerCase");function Tx(o,c,h){o=ie(o),c=Nt(c);var m=c?Ns(o):0;if(!c||m>=c)return o;var x=(c-m)/2;return Ya(Ma(x),h)+o+Ya(Ta(x),h)}function Mx(o,c,h){o=ie(o),c=Nt(c);var m=c?Ns(o):0;return c&&m<c?o+Ya(c-m,h):o}function Px(o,c,h){o=ie(o),c=Nt(c);var m=c?Ns(o):0;return c&&m<c?Ya(c-m,h)+o:o}function Ix(o,c,h){return h||c==null?c=0:c&&(c=+c),zv(ie(o).replace(dl,""),c||0)}function Rx(o,c,h){return(h?cn(o,c,h):c===e)?c=1:c=Nt(c),Wl(ie(o),c)}function Lx(){var o=arguments,c=ie(o[0]);return o.length<3?c:c.replace(o[1],o[2])}var Nx=Hs(function(o,c,h){return o+(h?"_":"")+c.toLowerCase()});function Bx(o,c,h){return h&&typeof h!="number"&&cn(o,c,h)&&(c=h=e),h=h===e?jt:h>>>0,h?(o=ie(o),o&&(typeof c=="string"||c!=null&&!fc(c))&&(c=On(c),!c&&Ls(o))?Ui($n(o),0,h):o.split(c,h)):[]}var Vx=Hs(function(o,c,h){return o+(h?" ":"")+pc(c)});function jx(o,c,h){return o=ie(o),h=h==null?0:us(Nt(h),0,o.length),c=On(c),o.slice(h,h+c.length)==c}function zx(o,c,h){var m=w.templateSettings;h&&cn(o,c,h)&&(c=e),o=ie(o),c=io({},c,m,vf);var x=io({},c.imports,m.imports,vf),C=Ke(x),E=Ol(x,C),I,N,X=0,Z=c.interpolate||ma,tt="__p += '",ft=Dl((c.escape||ma).source+"|"+Z.source+"|"+(Z===Bu?_m:ma).source+"|"+(c.evaluate||ma).source+"|$","g"),vt="//# sourceURL="+(ae.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Jm+"]")+`
`;o.replace(ft,function(Ot,Ht,Jt,Dn,un,En){return Jt||(Jt=Dn),tt+=o.slice(X,En).replace(Fm,mv),Ht&&(I=!0,tt+=`' +
__e(`+Ht+`) +
'`),un&&(N=!0,tt+=`';
`+un+`;
__p += '`),Jt&&(tt+=`' +
((__t = (`+Jt+`)) == null ? '' : __t) +
'`),X=En+Ot.length,Ot}),tt+=`';
`;var kt=ae.call(c,"variable")&&c.variable;if(!kt)tt=`with (obj) {
`+tt+`
}
`;else if(bm.test(kt))throw new Tt(l);tt=(N?tt.replace(Dt,""):tt).replace(pt,"$1").replace(xt,"$1;"),tt="function("+(kt||"obj")+`) {
`+(kt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+tt+`return __p
}`;var Bt=ch(function(){return ne(C,vt+"return "+tt).apply(e,E)});if(Bt.source=tt,dc(Bt))throw Bt;return Bt}function Ux(o){return ie(o).toLowerCase()}function Wx(o){return ie(o).toUpperCase()}function Hx(o,c,h){if(o=ie(o),o&&(h||c===e))return vd(o);if(!o||!(c=On(c)))return o;var m=$n(o),x=$n(c),C=bd(m,x),E=yd(m,x)+1;return Ui(m,C,E).join("")}function Yx(o,c,h){if(o=ie(o),o&&(h||c===e))return o.slice(0,xd(o)+1);if(!o||!(c=On(c)))return o;var m=$n(o),x=yd(m,$n(c))+1;return Ui(m,0,x).join("")}function Kx(o,c,h){if(o=ie(o),o&&(h||c===e))return o.replace(dl,"");if(!o||!(c=On(c)))return o;var m=$n(o),x=bd(m,$n(c));return Ui(m,x).join("")}function Gx(o,c){var h=J,m=q;if(Oe(c)){var x="separator"in c?c.separator:x;h="length"in c?Nt(c.length):h,m="omission"in c?On(c.omission):m}o=ie(o);var C=o.length;if(Ls(o)){var E=$n(o);C=E.length}if(h>=C)return o;var I=h-Ns(m);if(I<1)return m;var N=E?Ui(E,0,I).join(""):o.slice(0,I);if(x===e)return N+m;if(E&&(I+=N.length-I),fc(x)){if(o.slice(I).search(x)){var X,Z=N;for(x.global||(x=Dl(x.source,ie(Vu.exec(x))+"g")),x.lastIndex=0;X=x.exec(Z);)var tt=X.index;N=N.slice(0,tt===e?I:tt)}}else if(o.indexOf(On(x),I)!=I){var ft=N.lastIndexOf(x);ft>-1&&(N=N.slice(0,ft))}return N+m}function Xx(o){return o=ie(o),o&&$e.test(o)?o.replace(zt,wv):o}var Zx=Hs(function(o,c,h){return o+(h?" ":"")+c.toUpperCase()}),pc=uf("toUpperCase");function lh(o,c,h){return o=ie(o),c=h?e:c,c===e?bv(o)?Ov(o):cv(o):o.match(c)||[]}var ch=Vt(function(o,c){try{return Cn(o,e,c)}catch(h){return dc(h)?h:new Tt(h)}}),Jx=xi(function(o,c){return Vn(c,function(h){h=di(h),yi(o,h,cc(o[h],o))}),o});function Qx(o){var c=o==null?0:o.length,h=Ct();return o=c?xe(o,function(m){if(typeof m[1]!="function")throw new jn(a);return[h(m[0]),m[1]]}):[],Vt(function(m){for(var x=-1;++x<c;){var C=o[x];if(Cn(C[0],this,m))return Cn(C[1],this,m)}})}function $x(o){return wb(Un(o,g))}function mc(o){return function(){return o}}function qx(o,c){return o==null||o!==o?c:o}var t1=ff(),e1=ff(!0);function pn(o){return o}function vc(o){return zd(typeof o=="function"?o:Un(o,g))}function n1(o){return Wd(Un(o,g))}function i1(o,c){return Hd(o,Un(c,g))}var s1=Vt(function(o,c){return function(h){return br(h,o,c)}}),r1=Vt(function(o,c){return function(h){return br(o,h,c)}});function bc(o,c,h){var m=Ke(c),x=Ba(c,m);h==null&&!(Oe(c)&&(x.length||!m.length))&&(h=c,c=o,o=this,x=Ba(c,Ke(c)));var C=!(Oe(h)&&"chain"in h)||!!h.chain,E=wi(o);return Vn(x,function(I){var N=c[I];o[I]=N,E&&(o.prototype[I]=function(){var X=this.__chain__;if(C||X){var Z=o(this.__wrapped__),tt=Z.__actions__=fn(this.__actions__);return tt.push({func:N,args:arguments,thisArg:o}),Z.__chain__=X,Z}return N.apply(o,Li([this.value()],arguments))})}),o}function a1(){return Ze._===this&&(Ze._=Mv),this}function yc(){}function o1(o){return o=Nt(o),Vt(function(c){return Yd(c,o)})}var l1=Jl(xe),c1=Jl(fd),u1=Jl(xl);function uh(o){return ic(o)?Sl(di(o)):jb(o)}function d1(o){return function(c){return o==null?e:ds(o,c)}}var f1=gf(),h1=gf(!0);function _c(){return[]}function xc(){return!1}function g1(){return{}}function p1(){return""}function m1(){return!0}function v1(o,c){if(o=Nt(o),o<1||o>_t)return[];var h=jt,m=qe(o,jt);c=Ct(c),o-=jt;for(var x=kl(m,c);++h<o;)c(h);return x}function b1(o){return It(o)?xe(o,di):Fn(o)?[o]:fn(Af(ie(o)))}function y1(o){var c=++Av;return ie(o)+c}var _1=Ha(function(o,c){return o+c},0),x1=Ql("ceil"),S1=Ha(function(o,c){return o/c},1),w1=Ql("floor");function C1(o){return o&&o.length?Na(o,pn,Ll):e}function k1(o,c){return o&&o.length?Na(o,Ct(c,2),Ll):e}function O1(o){return pd(o,pn)}function F1(o,c){return pd(o,Ct(c,2))}function D1(o){return o&&o.length?Na(o,pn,jl):e}function E1(o,c){return o&&o.length?Na(o,Ct(c,2),jl):e}var A1=Ha(function(o,c){return o*c},1),T1=Ql("round"),M1=Ha(function(o,c){return o-c},0);function P1(o){return o&&o.length?Cl(o,pn):0}function I1(o,c){return o&&o.length?Cl(o,Ct(c,2)):0}return w.after=n_,w.ary=zf,w.assign=W_,w.assignIn=eh,w.assignInWith=io,w.assignWith=H_,w.at=Y_,w.before=Uf,w.bind=cc,w.bindAll=Jx,w.bindKey=Wf,w.castArray=g_,w.chain=Bf,w.chunk=wy,w.compact=Cy,w.concat=ky,w.cond=Qx,w.conforms=$x,w.constant=mc,w.countBy=P0,w.create=K_,w.curry=Hf,w.curryRight=Yf,w.debounce=Kf,w.defaults=G_,w.defaultsDeep=X_,w.defer=i_,w.delay=s_,w.difference=Oy,w.differenceBy=Fy,w.differenceWith=Dy,w.drop=Ey,w.dropRight=Ay,w.dropRightWhile=Ty,w.dropWhile=My,w.fill=Py,w.filter=R0,w.flatMap=B0,w.flatMapDeep=V0,w.flatMapDepth=j0,w.flatten=If,w.flattenDeep=Iy,w.flattenDepth=Ry,w.flip=r_,w.flow=t1,w.flowRight=e1,w.fromPairs=Ly,w.functions=ex,w.functionsIn=nx,w.groupBy=z0,w.initial=By,w.intersection=Vy,w.intersectionBy=jy,w.intersectionWith=zy,w.invert=sx,w.invertBy=rx,w.invokeMap=W0,w.iteratee=vc,w.keyBy=H0,w.keys=Ke,w.keysIn=gn,w.map=Qa,w.mapKeys=ox,w.mapValues=lx,w.matches=n1,w.matchesProperty=i1,w.memoize=qa,w.merge=cx,w.mergeWith=nh,w.method=s1,w.methodOf=r1,w.mixin=bc,w.negate=to,w.nthArg=o1,w.omit=ux,w.omitBy=dx,w.once=a_,w.orderBy=Y0,w.over=l1,w.overArgs=o_,w.overEvery=c1,w.overSome=u1,w.partial=uc,w.partialRight=Gf,w.partition=K0,w.pick=fx,w.pickBy=ih,w.property=uh,w.propertyOf=d1,w.pull=Yy,w.pullAll=Lf,w.pullAllBy=Ky,w.pullAllWith=Gy,w.pullAt=Xy,w.range=f1,w.rangeRight=h1,w.rearg=l_,w.reject=Z0,w.remove=Zy,w.rest=c_,w.reverse=oc,w.sampleSize=Q0,w.set=gx,w.setWith=px,w.shuffle=$0,w.slice=Jy,w.sortBy=e_,w.sortedUniq=i0,w.sortedUniqBy=s0,w.split=Bx,w.spread=u_,w.tail=r0,w.take=a0,w.takeRight=o0,w.takeRightWhile=l0,w.takeWhile=c0,w.tap=C0,w.throttle=d_,w.thru=Ja,w.toArray=$f,w.toPairs=sh,w.toPairsIn=rh,w.toPath=b1,w.toPlainObject=th,w.transform=mx,w.unary=f_,w.union=u0,w.unionBy=d0,w.unionWith=f0,w.uniq=h0,w.uniqBy=g0,w.uniqWith=p0,w.unset=vx,w.unzip=lc,w.unzipWith=Nf,w.update=bx,w.updateWith=yx,w.values=Gs,w.valuesIn=_x,w.without=m0,w.words=lh,w.wrap=h_,w.xor=v0,w.xorBy=b0,w.xorWith=y0,w.zip=_0,w.zipObject=x0,w.zipObjectDeep=S0,w.zipWith=w0,w.entries=sh,w.entriesIn=rh,w.extend=eh,w.extendWith=io,bc(w,w),w.add=_1,w.attempt=ch,w.camelCase=Cx,w.capitalize=ah,w.ceil=x1,w.clamp=xx,w.clone=p_,w.cloneDeep=v_,w.cloneDeepWith=b_,w.cloneWith=m_,w.conformsTo=y_,w.deburr=oh,w.defaultTo=qx,w.divide=S1,w.endsWith=kx,w.eq=ti,w.escape=Ox,w.escapeRegExp=Fx,w.every=I0,w.find=L0,w.findIndex=Mf,w.findKey=Z_,w.findLast=N0,w.findLastIndex=Pf,w.findLastKey=J_,w.floor=w1,w.forEach=Vf,w.forEachRight=jf,w.forIn=Q_,w.forInRight=$_,w.forOwn=q_,w.forOwnRight=tx,w.get=hc,w.gt=__,w.gte=x_,w.has=ix,w.hasIn=gc,w.head=Rf,w.identity=pn,w.includes=U0,w.indexOf=Ny,w.inRange=Sx,w.invoke=ax,w.isArguments=gs,w.isArray=It,w.isArrayBuffer=S_,w.isArrayLike=hn,w.isArrayLikeObject=Ie,w.isBoolean=w_,w.isBuffer=Wi,w.isDate=C_,w.isElement=k_,w.isEmpty=O_,w.isEqual=F_,w.isEqualWith=D_,w.isError=dc,w.isFinite=E_,w.isFunction=wi,w.isInteger=Xf,w.isLength=eo,w.isMap=Zf,w.isMatch=A_,w.isMatchWith=T_,w.isNaN=M_,w.isNative=P_,w.isNil=R_,w.isNull=I_,w.isNumber=Jf,w.isObject=Oe,w.isObjectLike=De,w.isPlainObject=Cr,w.isRegExp=fc,w.isSafeInteger=L_,w.isSet=Qf,w.isString=no,w.isSymbol=Fn,w.isTypedArray=Ks,w.isUndefined=N_,w.isWeakMap=B_,w.isWeakSet=V_,w.join=Uy,w.kebabCase=Dx,w.last=Hn,w.lastIndexOf=Wy,w.lowerCase=Ex,w.lowerFirst=Ax,w.lt=j_,w.lte=z_,w.max=C1,w.maxBy=k1,w.mean=O1,w.meanBy=F1,w.min=D1,w.minBy=E1,w.stubArray=_c,w.stubFalse=xc,w.stubObject=g1,w.stubString=p1,w.stubTrue=m1,w.multiply=A1,w.nth=Hy,w.noConflict=a1,w.noop=yc,w.now=$a,w.pad=Tx,w.padEnd=Mx,w.padStart=Px,w.parseInt=Ix,w.random=wx,w.reduce=G0,w.reduceRight=X0,w.repeat=Rx,w.replace=Lx,w.result=hx,w.round=T1,w.runInContext=L,w.sample=J0,w.size=q0,w.snakeCase=Nx,w.some=t_,w.sortedIndex=Qy,w.sortedIndexBy=$y,w.sortedIndexOf=qy,w.sortedLastIndex=t0,w.sortedLastIndexBy=e0,w.sortedLastIndexOf=n0,w.startCase=Vx,w.startsWith=jx,w.subtract=M1,w.sum=P1,w.sumBy=I1,w.template=zx,w.times=v1,w.toFinite=Ci,w.toInteger=Nt,w.toLength=qf,w.toLower=Ux,w.toNumber=Yn,w.toSafeInteger=U_,w.toString=ie,w.toUpper=Wx,w.trim=Hx,w.trimEnd=Yx,w.trimStart=Kx,w.truncate=Gx,w.unescape=Xx,w.uniqueId=y1,w.upperCase=Zx,w.upperFirst=pc,w.each=Vf,w.eachRight=jf,w.first=Rf,bc(w,function(){var o={};return ci(w,function(c,h){ae.call(w.prototype,h)||(o[h]=c)}),o}(),{chain:!1}),w.VERSION=s,Vn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){w[o].placeholder=w}),Vn(["drop","take"],function(o,c){Kt.prototype[o]=function(h){h=h===e?1:He(Nt(h),0);var m=this.__filtered__&&!c?new Kt(this):this.clone();return m.__filtered__?m.__takeCount__=qe(h,m.__takeCount__):m.__views__.push({size:qe(h,jt),type:o+(m.__dir__<0?"Right":"")}),m},Kt.prototype[o+"Right"]=function(h){return this.reverse()[o](h).reverse()}}),Vn(["filter","map","takeWhile"],function(o,c){var h=c+1,m=h==rt||h==nt;Kt.prototype[o]=function(x){var C=this.clone();return C.__iteratees__.push({iteratee:Ct(x,3),type:h}),C.__filtered__=C.__filtered__||m,C}}),Vn(["head","last"],function(o,c){var h="take"+(c?"Right":"");Kt.prototype[o]=function(){return this[h](1).value()[0]}}),Vn(["initial","tail"],function(o,c){var h="drop"+(c?"":"Right");Kt.prototype[o]=function(){return this.__filtered__?new Kt(this):this[h](1)}}),Kt.prototype.compact=function(){return this.filter(pn)},Kt.prototype.find=function(o){return this.filter(o).head()},Kt.prototype.findLast=function(o){return this.reverse().find(o)},Kt.prototype.invokeMap=Vt(function(o,c){return typeof o=="function"?new Kt(this):this.map(function(h){return br(h,o,c)})}),Kt.prototype.reject=function(o){return this.filter(to(Ct(o)))},Kt.prototype.slice=function(o,c){o=Nt(o);var h=this;return h.__filtered__&&(o>0||c<0)?new Kt(h):(o<0?h=h.takeRight(-o):o&&(h=h.drop(o)),c!==e&&(c=Nt(c),h=c<0?h.dropRight(-c):h.take(c-o)),h)},Kt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Kt.prototype.toArray=function(){return this.take(jt)},ci(Kt.prototype,function(o,c){var h=/^(?:filter|find|map|reject)|While$/.test(c),m=/^(?:head|last)$/.test(c),x=w[m?"take"+(c=="last"?"Right":""):c],C=m||/^find/.test(c);x&&(w.prototype[c]=function(){var E=this.__wrapped__,I=m?[1]:arguments,N=E instanceof Kt,X=I[0],Z=N||It(E),tt=function(Ht){var Jt=x.apply(w,Li([Ht],I));return m&&ft?Jt[0]:Jt};Z&&h&&typeof X=="function"&&X.length!=1&&(N=Z=!1);var ft=this.__chain__,vt=!!this.__actions__.length,kt=C&&!ft,Bt=N&&!vt;if(!C&&Z){E=Bt?E:new Kt(this);var Ot=o.apply(E,I);return Ot.__actions__.push({func:Ja,args:[tt],thisArg:e}),new zn(Ot,ft)}return kt&&Bt?o.apply(this,I):(Ot=this.thru(tt),kt?m?Ot.value()[0]:Ot.value():Ot)})}),Vn(["pop","push","shift","sort","splice","unshift"],function(o){var c=Sa[o],h=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",m=/^(?:pop|shift)$/.test(o);w.prototype[o]=function(){var x=arguments;if(m&&!this.__chain__){var C=this.value();return c.apply(It(C)?C:[],x)}return this[h](function(E){return c.apply(It(E)?E:[],x)})}}),ci(Kt.prototype,function(o,c){var h=w[c];if(h){var m=h.name+"";ae.call(zs,m)||(zs[m]=[]),zs[m].push({name:c,func:h})}}),zs[Wa(e,k).name]=[{name:"wrapper",func:e}],Kt.prototype.clone=Xv,Kt.prototype.reverse=Zv,Kt.prototype.value=Jv,w.prototype.at=k0,w.prototype.chain=O0,w.prototype.commit=F0,w.prototype.next=D0,w.prototype.plant=A0,w.prototype.reverse=T0,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=M0,w.prototype.first=w.prototype.head,dr&&(w.prototype[dr]=E0),w},Bs=Fv();as?((as.exports=Bs)._=Bs,vl._=Bs):Ze._=Bs}).call(qs)})(Ho,Ho.exports);var fp=Ho.exports;const Ek=Xg(fp);const Ak={props:{label:{type:String,required:!0},api:{type:String,required:!0},keyname:{type:String},base:{type:String},meta:{type:Boolean},value:{type:Array},updateFilter:{type:Function},reset:{type:Boolean}},data(){return{filter_options:[],filter_selected:[],filter_obj:{},isLoading:!1,page:0,observer:null,next_page_url:"",searchQuery:"",showField:!1}},components:{"v-select":Zg},mounted(){this.filter_selected=this.value,setTimeout(()=>{this.showField=!0},1),this.observer=new IntersectionObserver(this.infiniteScroll)},watch:{value(n,t){this.filter_selected=n,this.tagsChanged(this.keyname,n)},reset(n){n&&(this.filter_selected=[],this.filter_obj={})}},computed:{hasNextPage(){return this.next_page_url!==null}},methods:{onValueChange(n){this.tagsChanged(this.keyname,n)},subString(n){return ca(n,35)},onSearch(n){this.page=1,this.searchQuery=n,this.search(this)},search:Ek.debounce(n=>{n.getDataFromServer(!0)},350),getDataFromServer(n,t){this.isLoading=!0,axios.get("api/"+this.base+"/"+this.api,{params:this.getApiParams()}).then(e=>{this.postApiResponseOperations(e.data.data,n,t)}).catch(e=>{console.log(e)}).finally(()=>{this.isLoading=!1})},async postApiResponseOperations(n,t,e){if(this.next_page_url=n.next_page_url,t)this.filter_options=n.data;else{const s=e.offsetParent,i=e.offsetParent.scrollTop;this.filter_options.push(...n.data),await this.$nextTick(),s.scrollTop=i}},getApiParams(){return{...H1(),"search-query":this.searchQuery||void 0,page:this.page||void 0,meta:this.meta||void 0,paginate:1}},clearSearchQuery(){this.$refs.faveoDynamicSelect.onEscape()},tagsChanged(n,t){if(t&&t.length!=0){var e=[];for(var s in t)e.push(t[s].id);this.filter_obj[n]=e}else this.filter_obj[n]=[];this.$emit("selected",this.filter_obj);let i={};i[this.keyname]=this.filter_selected,this.updateFilter(i)},async infiniteScroll([{isIntersecting:n,target:t}]){n&&(this.page+=1,this.getDataFromServer(!1,t))},async onOpen(n){this.hasNextPage&&(await this.$nextTick(),this.observer.observe(this.$refs.load))},onClose(){this.observer.disconnect(),this.isLoading=!1},loadLabel(n){return Jg(n)}}},Tk={key:0,class:"col-sm-4 margin-bottom-15"},Mk={key:0},Pk=["title"],Ik=["innerHTML"],Rk=["title"],Lk=["innerHTML"],Nk={ref:"load"};function Bk(n,t,e,s,i,r){const a=st("loader"),l=st("faveo-image-element"),u=st("v-select");return i.showField?(D(),M("div",Tk,[O("label",null,H(e.label),1),Q(u,{multiple:"",class:"faveo-dynamic-select",ref:"faveoDynamicSelect",id:e.api+e.keyname,modelValue:i.filter_selected,"onUpdate:modelValue":[t[0]||(t[0]=d=>i.filter_selected=d),r.onValueChange],label:"name",options:i.filter_options,placeholder:n.lang("search_or_select"),filterable:!1,onSearch:r.onSearch,onOpen:r.onOpen,onClose:r.onClose,"onSearch:blur":r.clearSearchQuery},Y1({spinner:bt(({loader:d})=>[i.isLoading?(D(),yt(a,{key:0,class:"loader-area",duration:4e3,size:20})):K("",!0)]),"no-options":bt(({search:d,searching:f})=>[t[2]||(t[2]=O("span",null,null,-1)),f?(D(),M(St,{key:0},[at(H(n.lang("no_results_found_for"))+" ",1),O("em",null,H(d),1),t[1]||(t[1]=at(". "))],64)):(D(),M(St,{key:1},[!i.isLoading&&!r.hasNextPage?(D(),M("span",Mk,H(n.lang("no_options_found")),1)):K("",!0)],64))]),option:bt(d=>[O("div",{class:"d-center",title:e.keyname==="label-ids"?r.loadLabel(d.name):d.name},[d.profile_pic?(D(),yt(l,{key:0,id:"faveo-dynamic-select-img","source-url":d.profile_pic,"img-height":"20","img-width":"20","alternative-text":"User"},null,8,["source-url"])):K("",!0),O("i",{style:Ds({color:d.icon_color}),class:te(d.icon_class||d.icon),"aria-hidden":"true"},null,6),e.keyname==="label-ids"?(D(),M("span",{key:1,innerHTML:r.loadLabel(r.subString(d.name))},null,8,Ik)):(D(),M(St,{key:2},[at(H(r.subString(d.name)),1)],64))],8,Pk)]),"selected-option":bt(d=>[O("div",{class:"selected d-center",title:e.keyname==="label-ids"?r.loadLabel(d.name):d.name},[d.profile_pic?(D(),yt(l,{key:0,id:"faveo-dynamic-select-img","source-url":d.profile_pic,"img-height":"20","img-width":"20"},null,8,["source-url"])):K("",!0),O("i",{style:Ds({color:d.icon_color}),class:te(d.icon_class||d.icon),"aria-hidden":"true"},null,6),e.keyname==="label-ids"?(D(),M("span",{key:1,innerHTML:r.loadLabel(r.subString(d.name))},null,8,Lk)):(D(),M(St,{key:2},[at(H(r.subString(d.name)),1)],64))],8,Rk)]),_:2},[r.hasNextPage?{name:"list-footer",fn:bt(()=>[O("li",Nk,null,512)]),key:"0"}:void 0]),1032,["id","modelValue","options","placeholder","onUpdate:modelValue","onSearch","onOpen","onClose","onSearch:blur"])])):K("",!0)}const Vk=qt(Ak,[["render",Bk],["__scopeId","data-v-fcc3fe61"]]);const jk={props:["filterArray","label","keyname","dateRange","value","updateFilter","reset"],data(){return{filter_options:this.filterArray,filter_selected:null,filter_obj:{},customRange:!1,timeRange:"",showField:!1}},mounted(){const n=this;$(document).ready(function(){$("#custom-created-range").length&&(n.keyname=="last-modified-start"?$("#custom-update-range").daterangepicker({timePicker:!0,timePickerIncrement:15,startDate:he().startOf("hour"),endDate:he().startOf("hour").add(32,"hour"),locale:{format:"YYYY-MM-DD HH:mm:SS"},maxDate:he()}).on("apply.daterangepicker",(t,e)=>{n.filter_obj["last-modified-start"]=he(e.startDate._d).format("YYYY-MM-DD HH:mm:ss"),n.filter_obj["last-modified-end"]=he(e.endDate._d).format("YYYY-MM-DD HH:mm:ss"),n.$emit("selected",this.filter_obj)}):$("#custom-created-range").daterangepicker({timePicker:!0,timePickerIncrement:15,startDate:he().startOf("hour"),endDate:he().startOf("hour").add(32,"hour"),locale:{format:"YYYY-MM-DD HH:mm:SS"},maxDate:he()}).on("apply.daterangepicker",(t,e)=>{n.filter_obj["created-start"]=he(e.startDate._d).format("YYYY-MM-DD HH:mm:ss"),n.filter_obj["created-end"]=he(e.endDate._d).format("YYYY-MM-DD HH:mm:ss"),n.$emit("selected",this.filter_obj)}))}),this.filter_selected=this.value,setTimeout(()=>{this.showField=!0},1)},watch:{value(n,t){this.filter_selected=n,this.tagsChanged(this.keyname,n)},reset(n){n&&(this.filter_selected=null,this.filter_obj={})}},methods:{onValueChange(n){this.tagsChanged(this.keyname,n)},tagsChanged(n,t){if(this.filter_selected=t,t!=null){if(n!="due-on"&&n!="created-start"&&n!="last-modified-start"){for(var e in t)e=="id"&&(this.filter_obj[n]=t[e]);this.$emit("selected",this.filter_obj)}else if(n=="due-on")for(var e in t)e=="id"&&(t[e]!="today"?this.getTime(n,t[e]):this.getEoD(n,new Date));else if(n=="created-start"||n=="last-modified-start"){for(var e in t)if(e=="id")if(t[e]=="custom"){this.customRange=!0;var s=this.$store.getters.timezone;this.keyname=="created-start"?(this.filter_obj["created-start"]=he.tz(s).startOf("day").format("YYYY-MM-DD HH:mm:ss"),this.filter_obj["created-end"]=he().format("YYYY-MM-DD HH:mm:ss"),this.$emit("selected",this.filter_obj)):(this.filter_obj["last-modified-start"]=he.tz(s).startOf("day").format("YYYY-MM-DD HH:mm:ss"),this.filter_obj["last-modified-end"]=he().format("YYYY-MM-DD HH:mm:ss"),this.$emit("selected",this.filter_obj))}else t[e]=="today"?(this.customRange=!1,this.getEoD(n,new Date)):t[e]=="5"||t[e]=="10"||t[e]=="15"||t[e]=="30"?(this.customRange=!1,this.getMint(n,t[e])):(this.customRange=!1,this.getTime(n,t[e]))}}else this.customRange=!1,this.keyname=="created-start"?(this.filter_obj["created-start"]="",this.filter_obj["created-end"]=""):this.keyname=="last-modified-start"?(this.filter_obj["last-modified-start"]="",this.filter_obj["last-modified-end"]=""):this.filter_obj[n]="",this.$emit("selected",this.filter_obj);let i={};i[this.keyname]=this.filter_selected,this.updateFilter(i)},getMint(n,t){var e=new Date,s=this.$store.getters.timezone,i=he(e.setMinutes(e.getMinutes()-t)).tz(s).format("YYYY-MM-DD HH:mm:ss");this.keyname=="created-start"?(this.filter_obj["created-start"]=String(i),this.filter_obj["created-end"]=he().tz(s).format("YYYY-MM-DD HH:mm:ss")):this.keyname=="last-modified-start"?(this.filter_obj["last-modified-start"]=String(i),this.filter_obj["last-modified-end"]=he().tz(s).format("YYYY-MM-DD HH:mm:ss")):this.filter_obj[n]=String(i),this.$emit("selected",this.filter_obj)},getTime(n,t){var e=new Date,s=this.$store.getters.timezone,i=he(e.setHours(e.getHours()-t)).tz(s).format("YYYY-MM-DD HH:mm:ss");this.keyname=="created-start"?(this.filter_obj["created-start"]=String(i),this.filter_obj["created-end"]=he().tz(s).format("YYYY-MM-DD HH:mm:ss")):this.keyname=="last-modified-start"?(this.filter_obj["last-modified-start"]=String(i),this.filter_obj["last-modified-end"]=he().tz(s).format("YYYY-MM-DD HH:mm:ss")):this.filter_obj[n]=String(i),this.$emit("selected",this.filter_obj)},getEoD(n,t){var e=this.$store.getters.timezone,s=he.tz(t,e).startOf("day").format("YYYY-MM-DD HH:mm:ss"),i=he.tz(t,e).endOf("day").format("YYYY-MM-DD HH:mm:ss");this.keyname=="created-start"?(this.filter_obj["created-start"]=String(s),this.filter_obj["created-end"]=he().tz(e).format("YYYY-MM-DD HH:mm:ss")):this.keyname=="last-modified-start"?(this.filter_obj["last-modified-start"]=String(s),this.filter_obj["last-modified-end"]=he().tz(e).format("YYYY-MM-DD HH:mm:ss")):this.filter_obj[n]=String(i),this.$emit("selected",this.filter_obj)},showPlaceholder(){return"Search or select "+this.label.toLowerCase()}},components:{"v-select":Zg}},zk={key:0,class:"col-sm-4 margin-bottom-15"},Uk={class:"col-sm-3"},Wk=["id"];function Hk(n,t,e,s,i,r){const a=st("v-select");return i.showField?(D(),M("div",zk,[O("div",null,[O("label",null,H(e.label),1),Q(a,{ref:"faveoDynamicSelect",class:"faveo-dynamic-select",label:"text",options:i.filter_options,placeholder:n.lang("search_or_select"),"onUpdate:modelValue":[r.onValueChange,t[0]||(t[0]=l=>i.filter_selected=l)],modelValue:i.filter_selected},null,8,["options","placeholder","onUpdate:modelValue","modelValue"])]),At(O("div",Uk,[O("label",null,"Time period for "+H(e.label),1),At(O("input",{type:"text",id:e.dateRange,class:"form-control","onUpdate:modelValue":t[1]||(t[1]=l=>i.timeRange=l)},null,8,Wk),[[qo,i.timeRange]])],512),[[tl,i.customRange]])])):K("",!0)}const Yk=qt(jk,[["render",Hk],["__scopeId","data-v-a1b4fbaa"]]);const Kk={data(){return{allCustomFields:[],selectedCustomFields:this.selectedFilters,searchedCustomFields:[],search:"",loading:!0,updatedFilterValues:this.customFilters,valuesInEdit:[],filterOpen:!1,hasMoreData:!0,page:1}},props:{selectedFilters:{type:Array,required:!0},customFilters:{type:Object,default:()=>{}},updatedFieldValues:{type:Function},showLoader:{type:Function,default:()=>{}},filterId:{type:[String,Number],default:""},defaultFiltersObj:{type:Object,default:()=>{}}},beforeMount(){setTimeout(()=>{this.getCustomFields()},1e3)},methods:{clearAndCallCustomFields(){this.allCustomFields=[],this.loading=!0,this.search="",this.searchedCustomFields=[],this.hasMoreData=!0,this.page=1,this.getCustomFields()},handleFilterScroll:fp.debounce(function(){const n=document.getElementById("filter-container"),t=n.scrollHeight,e=n.scrollTop,s=n.clientHeight;e+s>=t-100&&!this.loading&&this.hasMoreData&&this.getCustomFields()},200),async getCustomFields(){try{this.toggleOptions(),this.loading=!0;let e=location.search.substring(1),s,i;e&&(s=JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/%2F/g,"/")+'"}')),s&&(i=Object.keys(s).find(u=>u.includes("custom_")));let r={category:"ticket",page:this.page,time:Date.now(),module:"filter",filter_id:this.filterId,filter_key:i||""};["dept-ids","department_ids","dept_ids","helptopic-ids"].forEach(u=>{this.defaultFiltersObj.hasOwnProperty(u)&&this.defaultFiltersObj[u]&&(r[`${u}[]`]=this.defaultFiltersObj[u].map(d=>d.id))});const l=await Ce.get("/custom-field-flattened",{params:r});if(l.data.data.data.length>0){for(var n in l.data.data.data){l.data.data.data[n].selected===void 0&&(l.data.data.data[n].selected=0);for(var t in this.selectedCustomFields)this.selectedCustomFields[t].id===l.data.data.data[n].id&&(l.data.data.data[n].selected=1,l.data.data.data[n].value=this.selectedCustomFields[t].value)}this.allCustomFields=[...this.allCustomFields,...l.data.data.data],this.setUpdatedField(this.allCustomFields),this.page++,this.filterOpen=!0,this.showLoader(!1),this.hasMoreData=!0}else this.hasMoreData=!1,this.checkPresentFields()}catch(e){rn(e)}finally{this.loading=!1,this.showLoader(!1)}},setSelectedField(n){if(n.length>0){for(var t in n){n[t].selected==null&&(n[t].selected=0);for(var e in this.selectedCustomFields)this.selectedCustomFields[e].id==n[t].id&&(n[t].selected=1,n[t].value=this.selectedCustomFields[e].value)}this.allCustomFields=n,this.setUpdatedField(this.allCustomFields)}},setUpdatedField(n){if(n.length>0){for(var t in n){if(this.valuesInEdit.length)for(var e in this.valuesInEdit)this.valuesInEdit[e].key==n[t].key&&(n[t].selected=1,n[t].value||(n[t].data_type=="checkbox"?n[t].value=this.valuesInEdit[e].value.split(","):n[t].value=this.valuesInEdit[e].value,this.selectedCustomFields.push(n[t]),this.selectedCustomFields.length===this.valuesInEdit.length&&this.$emit("custom",this.selectedCustomFields)));n[t].selected==null&&(n[t].selected=0);for(var s in this.selectedCustomFields)this.selectedCustomFields[s].id==n[t].id&&(n[t].selected=1,n[t].value=this.selectedCustomFields[s].value)}this.allCustomFields=n,this.checkPresentFields()}},checkPresentFields(){let n=this.allCustomFields.map(t=>t.key);this.selectedCustomFields.forEach(t=>{n.includes(t.key)||(t.selected=0,this.selectedCustomFields=this.selectedCustomFields.filter(function(e){return e.id!==t.id}))}),this.$emit("custom",this.selectedCustomFields)},unbindClickInContainer(n){$(n.target).attr("@click",null).unbind("click")},toggleOptions(){$(".custom-menu").dropdown("toggle")},toggleFormFieldVisibility(n){let t=this.allCustomFields.findIndex(e=>e.key==n.key);n.selected?(n.selected=0,delete this.updatedFilterValues[n.key],this.updatedFieldValues(this.updatedFilterValues),this.allCustomFields.splice(t,1,n),this.selectedCustomFields=this.selectedCustomFields.filter(function(e){return e.id!=n.id})):(n.selected=1,n.value="",this.selectedCustomFields.push(n),this.allCustomFields.splice(t,1,n)),this.$emit("custom",this.selectedCustomFields)},searchFilter(n){return this.allCustomFields.filter(t=>(n=n.toLowerCase(),t.label.toLowerCase().indexOf(n)!==-1))}},watch:{search(n){this.searchedCustomFields=this.searchFilter(n)}},computed:{visibileCustomFields(){return this.search==""?this.allCustomFields:this.searchedCustomFields}}},Gk={class:"card-tools"},Xk={class:"dropdown-header"},Zk={class:"px-2"},Jk=["placeholder"],Qk=["id","onClick"],$k={key:0},qk={key:1,class:"ms-2"},tO=["title"],eO={key:1,class:"dropdown-item"},nO={key:2,style:{padding:"35px"}};function iO(n,t,e,s,i,r){const a=st("loader"),l=xn("tooltip");return D(),M("div",Gk,[At((D(),M("a",{href:"javascript:;",class:"btn-tool dropdown-toggle","data-bs-toggle":"dropdown",onClick:t[0]||(t[0]=(...u)=>r.clearAndCallCustomFields&&r.clearAndCallCustomFields(...u))},t[4]||(t[4]=[O("i",{class:"glyphicon glyphicon-plus"},null,-1)]))),[[l,n.trans("add_custom_field")]]),O("div",{class:"dropdown-menu dropdown-menu-right dropdown-menu-lg custom_filter_menu",role:"menu",onClick:t[2]||(t[2]=u=>u.stopPropagation()),id:"filter-container",onScroll:t[3]||(t[3]=u=>r.handleFilterScroll())},[O("span",Xk,H(n.trans("filter_custom_field")),1),O("div",Zk,[At(O("input",{type:"text",class:"form-control",placeholder:n.lang("filter_here"),"onUpdate:modelValue":t[1]||(t[1]=u=>i.search=u)},null,8,Jk),[[qo,i.search]])]),r.visibileCustomFields.length?(D(!0),M(St,{key:0},ze(r.visibileCustomFields,(u,d)=>(D(),M("a",{id:"form-field-"+d,role:"menuitem",tabindex:"-1",href:"javascript:;",class:te(["dropdown-item",{"selected-field":u.selected}]),onClick:f=>r.toggleFormFieldVisibility(u)},[u.selected==1?(D(),M("span",$k,t[5]||(t[5]=[O("span",{"aria-hidden":"true",class:"fas fa-check"},null,-1)]))):K("",!0),t[7]||(t[7]=at("  ")),u.isChild?(D(),M("span",qk,t[6]||(t[6]=[O("span",{"aria-hidden":"true",class:"fas fa-arrow-right"},null,-1)]))):K("",!0),t[8]||(t[8]=at("  ")),O("span",{style:{position:"absolute","margin-top":"-1px"},title:u.hover?u.hover:u.label},H(n.getSubString(u.label,30)),9,tO)],10,Qk))),256)):K("",!0),!r.visibileCustomFields.length&&!i.loading?(D(),M("a",eO,H(n.trans("no_results_found")),1)):K("",!0),i.loading?(D(),M("div",nO,[Q(a,{size:30,duration:4e3,color:"#1d78ff"})])):K("",!0)],32)])}const sO=qt(Kk,[["render",iO],["__scopeId","data-v-7cea1e3f"]]);function rO(n){const{display_order:t}=n;let e={display_order:[t,"isRequired",{"minValue(1)":qr("display_order_tickets")}]};const s=new el(qr),{errors:i,isValid:r}=s.validate(e);return nl.dispatch("setValidationError",i),{errors:i,isValid:r}}const aO={name:"save-filter",description:"Save filter pop-up in ticket filters",setup(){const n=la();return{formattedTime:ir(()=>n.getters.formattedTime)}},props:{filterName:{type:String,default:""},filterObjects:{type:Object,required:!0},filterValues:{type:Object,required:!0},filterId:{type:Number,default:0},toggleFilterPopUp:{type:Function,required:!0},mode:{type:String,default:""},initialAgents:{type:Array,default:()=>[]},intitialDepartments:{type:Array,default:()=>[]},initialTeams:{type:Array,default:()=>[]},postFilterSaveAction:{type:Function,required:!0},from:{type:String,default:""},totalFilters:{type:Number,default:0},dashboardConfig:{type:Object,default:function(){return{displayOnDashboard:!1,isDisplayUnderDefault:!1,iconColor:"#00C0EF",iconClass:{icon_class:"fas fa-ticket"},created_at:"",created_by:[],canViewCreatorProfile:!0,display_order:""}}},source:{type:String,default:""}},data(){return{name:"",agents:[],departments:[],shallFilterBeVisible:!0,loading:!1,isDisplayOnDashboard:!1,iconColor:"",iconClass:"",iconList:[],isDisplayUnderDefault:!1,created_by:[],created_at:"",canViewCreatorProfile:!0,display_order:"",teams:[]}},beforeMount(){const n=this.source==="open_tickets"&&this.mode==="save";this.isDisplayOnDashboard=n?!1:this.dashboardConfig.displayOnDashboard,this.isDisplayUnderDefault=n?!1:this.dashboardConfig.isDisplayUnderDefault,this.iconColor=n?"#00C0EF":this.dashboardConfig.iconColor,this.iconClass=n?{icon_class:"fas fa-ticket"}:this.dashboardConfig.iconClass,this.created_at=n?"":this.dashboardConfig.created_at,this.created_by=n?[]:this.dashboardConfig.created_by,this.canViewCreatorProfile=n?!0:this.dashboardConfig.canViewCreatorProfile,this.departments=n?[]:this.intitialDepartments,this.agents=n?[]:this.initialAgents,this.teams=n?[]:this.initialTeams,this.name=n?"":this.filterName,this.display_order=n?"":this.dashboardConfig.display_order,this.mode!=="delete"&&this.getIconList()},methods:{checkFromWhere(){return this.from!=="clientFilter"},isValid(){if(this.from!=="clientFilter"){const{errors:n,isValid:t}=rO(this.$data);return t}return!0},saveFilter(n){this.isValid()&&(this.$store.dispatch("unsetValidationError"),this.loading=!0,Ce.post("/api/agent/ticket-filter",this.getApiParams(n)).then(t=>{this.loading=!1,Es(t,this.$options.name),this.postFilterSaveAction(),setTimeout(()=>{this.toggleFilterPopUp(!1,!1),window.emitter.emit("ticketFilterSaved"),window.emitter.emit("updateFilterApi")},2e3),window.emitter.emit("updateNavActive"),window.emitter.emit("updateSideNav"),window.emitter.emit("updateAgentSidebar")}).catch(t=>{this.loading=!1,rn(t,this.$options.name)}))},getApiParams(n){let e={id:n=="create"?0:this.filterId,name:this.name,fields:this.getFormattedFilterData(),agents:this.isDisplayUnderDefault?[]:Sc(this.agents),departments:this.isDisplayUnderDefault?[]:Sc(this.departments),teams:this.isDisplayUnderDefault?[]:Sc(this.teams),display_on_dashboard:this.isDisplayOnDashboard,display_on_navigation_bar:this.isDisplayUnderDefault,icon_class:this.iconClass.icon_class&&this.iconClass.icon_class==="fa fa-minus-circle"?"fas fa-minus-circle":this.iconClass.icon_class,icon_color:this.iconColor,display_order:this.display_order,clientFilter:this.from==="clientFilter"};return e.is_Edited=!(this.source==="open_tickets"&&n!=="create"),e.type=this.from==="clientFilter"?"admin":"agent",e},getIconList(){Ce.get("/json/icon-list.json").then(n=>{this.iconList=n.data.data}).catch(n=>{this.iconList=[]})},getFormattedFilterData(){return Object.keys(this.filterObjects).filter(n=>_n(this.filterObjects[n])).map(n=>{let t=this.filterValues[n]!==void 0?this.filterValues[n]:this.filterObjects[n];return{key:n,value:t}})},deleteFilter(){this.$store.dispatch("unsetValidationError"),this.loading=!0,Ce.delete("/api/agent/ticket-filter/"+this.filterId).then(n=>{this.loading=!1,Es(n,this.$options.name),setTimeout(()=>{this.toggleFilterPopUp(!1,!1),this.$router.push("/tickets/filter/"+n.data.data.filter_id)},2e3)}).catch(n=>{this.loading=!1,rn(n,this.$options.name)})},onChange(n,t){this[t]=n},onClose(){this.$store.dispatch("unsetValidationError"),this.$store.dispatch("unsetAlert"),this.toggleFilterPopUp(!1,!0)},showSaveAsNew(){return this.mode!=="delete"},showSaveNew(){return this.mode!=="delete"&&this.totalFilters!=5},showSave(){return this.mode!=="delete"&&this.filterId!=0},showDelete(){return this.mode==="delete"},subString(n,t=25){return ca(n,t)}},computed:{isDisabled(){return this.source==="open_tickets"&&this.mode!=="save"},isShared(){return this.departments.length>0||this.agents.length>0}},watch:{isDisplayOnDashboard:function(){this.isDisplayOnDashboard&&this.iconList.length===0&&this.getIconList()}},components:{"text-field":ua,"dynamic-select":es,"tool-tip":K1,checkbox:mu,"color-picker":dS,"number-field":G1}},oO={key:0,class:"modal-title"},lO={key:1,class:"modal-title"},cO={key:0,class:"save-filter-modal-body"},uO={class:"row"},dO={key:0,class:"col-sm-6 ps-0 filter-info"},fO={key:0,class:"col-sm-12"},hO=["href"],gO={key:1,class:"permission-update"},pO={class:"col-sm-12"},mO={key:0,class:"row"},vO={class:"col-sm-6"},bO={key:0,class:"col-sm-6"},yO={class:"row"},_O={class:"col-sm-6"},xO={for:"dashboard-widget-bg-color"},SO={key:0,class:"is-danger"},wO={key:1},CO={class:"row"},kO={class:"col-sm-4",style:{"line-height":"2"}},OO={class:"row"},FO={class:"row"},DO={key:1};function EO(n,t,e,s,i,r){const a=st("alert"),l=st("custom-loader"),u=st("text-field"),d=st("checkbox"),f=st("tool-tip"),g=st("color-picker"),p=st("dynamic-select"),v=st("number-field"),b=st("modal"),y=xn("tooltip"),S=xn("focus-first-input");return D(),yt(b,{showModal:!0,onClose:r.onClose},{title:bt(()=>[e.mode!=="delete"?(D(),M("h4",oO,H(n.lang(e.source==="open_tickets"&&e.mode!=="save"?"update_filter":"save_filter")),1)):(D(),M("h4",lO,H(n.lang("are_you_sure_you_want_to_delete")),1))]),alert:bt(()=>[Q(a,{componentName:this.$options.name},null,8,["componentName"])]),fields:bt(()=>[e.mode!=="delete"?(D(),M("div",cO,[i.loading?(D(),yt(l,{key:0})):K("",!0),At((D(),M("div",uO,[Q(u,{name:"name",label:n.lang("name"),value:i.name,onChange:r.onChange,required:!0,classname:"col-md-6"},null,8,["label","value","onChange"]),e.filterId!==0&&this.mode!=="save"?(D(),M("div",dO,[i.created_by?(D(),M("div",fO,[O("b",null,H(n.lang("created_by"))+":",1),t[5]||(t[5]=at("  ")),O("span",null,[i.canViewCreatorProfile?At((D(),M("a",{key:0,target:"_blank",class:"creater-info",href:n.basePath()+"/panel/user/"+i.created_by.id},[at(H(r.subString(i.created_by.full_name)),1)],8,hO)),[[y,n.trans(i.created_by.full_name)]]):At((D(),M("span",gO,[at(H(r.subString(i.created_by.full_name)),1)])),[[y,n.trans("access_denied_now")]])])])):K("",!0),O("div",pO,[O("b",null,H(n.trans("created_at"))+":",1),t[6]||(t[6]=at(" ")),At((D(),M("span",null,[at(H(s.formattedTime(i.created_at)),1)])),[[y,s.formattedTime(i.created_at)]])])])):K("",!0)])),[[S]]),O("section",null,[r.checkFromWhere()?(D(),M("div",mO,[O("div",vO,[Q(d,{id:"isDisplayOnDashboard",name:"isDisplayOnDashboard",value:i.isDisplayOnDashboard,disabled:r.isDisabled,class:te(r.isDisabled?"cursor-none":""),label:n.trans("display_this_filter_on_dashboard"),onChange:r.onChange,classname:"col-sm-12"},null,8,["value","disabled","class","label","onChange"])]),r.isShared?K("",!0):(D(),M("div",bO,[Q(d,{id:"isDisplayUnderDefault",name:"isDisplayUnderDefault",value:i.isDisplayUnderDefault,disabled:r.isDisabled,class:te(r.isDisabled?"cursor-none":""),label:n.trans("display_filter_in_sidebar"),onChange:r.onChange,classname:"col-sm-12"},null,8,["value","disabled","class","label","onChange"])]))])):K("",!0),O("div",yO,[O("div",_O,[O("label",xO,H(n.lang("icon_color")),1),i.isDisplayOnDashboard?(D(),M("label",SO,"*")):K("",!0),Q(f,{message:n.lang("dashboard_icon_background_color_hint"),size:"small"},null,8,["message"]),Q(g,{id:"dashboard-widget-bg-color",name:"iconColor",color:i.iconColor,disabled:!i.isDisplayOnDashboard&&e.from!=="clientFilter",onColor:r.onChange},null,8,["color","disabled","onColor"])]),Q(p,{name:"iconClass",label:n.lang("icon_class"),value:i.iconClass,onChange:r.onChange,classname:"col-md-6",elements:i.iconList,disabled:!i.isDisplayOnDashboard&&e.from!=="clientFilter",multiple:!1,"option-label":"icon_class",required:i.isDisplayOnDashboard,clearable:!1,hint:n.lang("dashboard_icon_class_hint")},null,8,["label","value","onChange","elements","disabled","required","hint"])])]),r.checkFromWhere()&&!i.isDisplayUnderDefault?(D(),M("section",wO,[O("div",CO,[O("div",kO,[O("span",null,[O("strong",null,H(n.lang("share_with")+":"),1)]),Q(f,{message:n.lang("share_filter_tooltip_message"),size:"small"},null,8,["message"])])]),O("div",OO,[Q(p,{name:"agents",label:n.lang("agents"),value:i.agents,onChange:r.onChange,classname:"col-md-6",apiEndpoint:"/api/dependency/agents",multiple:!0},null,8,["label","value","onChange"]),Q(p,{name:"departments",label:n.lang("departments"),value:i.departments,onChange:r.onChange,classname:"col-md-6",apiEndpoint:"/api/dependency/departments",multiple:!0},null,8,["label","value","onChange"])])])):K("",!0),O("section",null,[O("div",FO,[r.checkFromWhere()&&!i.isDisplayUnderDefault?(D(),yt(p,{key:0,name:"teams",label:n.lang("teams"),value:i.teams,onChange:r.onChange,classname:"col-md-6",apiEndpoint:"/api/dependency/teams",multiple:!0},null,8,["label","value","onChange"])):K("",!0),r.checkFromWhere()?(D(),yt(v,{key:1,label:n.lang("display_order"),value:i.display_order,name:"display_order",classname:"col-sm-6",onChange:r.onChange,placeholder:"n",type:"number",required:!0},null,8,["label","value","onChange"])):K("",!0)])])])):(D(),M("div",DO,[O("span",null,[t[7]||(t[7]=at("You are about to delete a filter with name ")),O("strong",null,H(e.filterName),1),t[8]||(t[8]=at(" created by you. Please confirm"))])]))]),controls:bt(()=>[O("div",null,[r.showSave()&&e.mode!=="save"?(D(),M("button",{key:0,type:"button",onClick:t[0]||(t[0]=k=>r.saveFilter("update")),class:"btn btn-primary"},[t[9]||(t[9]=O("i",{class:"fas fa-sync","aria-hidden":"true"},null,-1)),at(" "+H(n.lang("update")),1)])):K("",!0),e.from==="clientFilter"?(D(),M(St,{key:1},[r.showSaveNew()?(D(),M("button",{key:0,type:"button",onClick:t[1]||(t[1]=k=>r.saveFilter("create")),class:"btn btn-primary"},[t[10]||(t[10]=O("i",{class:"fas fa-save","aria-hidden":"true"},null,-1)),at(" "+H(n.lang("save_as_new")),1)])):K("",!0)],64)):(D(),M(St,{key:2},[e.source==="open_tickets"&&e.mode==="save"?(D(),M("button",{key:0,type:"button",onClick:t[2]||(t[2]=k=>r.saveFilter("create")),class:"btn btn-primary"},[t[11]||(t[11]=O("i",{class:"fas fa-save","aria-hidden":"true"},null,-1)),at(" "+H(n.lang("save")),1)])):K("",!0),r.showSaveAsNew()&&e.source!=="open_tickets"&&e.mode!=="save"?(D(),M("button",{key:1,type:"button",onClick:t[3]||(t[3]=k=>r.saveFilter("create")),class:"btn btn-primary"},[t[12]||(t[12]=O("i",{class:"fas fa-save","aria-hidden":"true"},null,-1)),at(" "+H(n.lang("save_as_new")),1)])):K("",!0)],64)),r.showDelete()?(D(),M("button",{key:3,type:"button",onClick:t[4]||(t[4]=k=>r.deleteFilter()),class:"btn btn-secondary"},[t[13]||(t[13]=O("i",{class:"fas fa-trash","aria-hidden":"true"},null,-1)),at(" "+H(n.lang("delete")),1)])):K("",!0)])]),_:1},8,["onClose"])}const AO=qt(aO,[["render",EO],["__scopeId","data-v-df51d1f8"]]);const TO={name:"time-range-filter",components:{DatePicker:X1,"date-time-field":Qg,"dynamic-select":es},props:{labels:{type:[Array,String],required:!0},identifier:{type:String,required:!0},options:{type:Array,required:!0},value:{required:!0},reset:{type:Boolean,required:!0},isLastNextSelector:{type:Boolean,default:()=>!1}},beforeMount(){this.value&&this.setInitialValue()},mounted(){["created-at","updated-at"].includes(this.identifier)?this.notAfter=this.presentTime:this.identifier==="due-on"&&(this.notBefore=this.presentTime)},data(){return{measure:null,isDatePicker:!1,timeUnit:null,timeRange:null,nextOrLast:"last",unitListArr:this.options,notBefore:this.presentTime,notAfter:this.presentTime,dateTimeFormat:"YYYY-MM-DD HH:mm:ss",presentTime:he().format(this.dateTimeFormat)}},methods:{onValueChange(){Number(this.measure)>0&&this.timeUnit?this.saveUserInput():this.emitEmptyValue()},onDatePickerConfirm(){if(!this.timeRange)return;let n={};const t="date::"+this.timeRange.map(e=>he(e).format(this.dateTimeFormat)).join("~");n[this.identifier]=t,this.eventEmitter("selected",{data:n,isTimeRangeFilter:!0})},eventEmitter(n,t){this.$emit(n,t)},saveUserInput(){let n={};n[this.identifier]=this.getPrefixText()+this.measure+"~"+this.timeUnit,this.eventEmitter("selected",{data:n,isTimeRangeFilter:!0})},getPrefixText(){let n=this.identifier==="due-on"?"next::":"last::";return this.isLastNextSelector&&(n=this.nextOrLast+"::"),n},setInitialValue(){let n={};n[this.identifier]=this.value,this.eventEmitter("selected",{data:n,isTimeRangeFilter:!0});const t=this.value.split("::");if(t[0]==="date")this.isDatePicker=!0,this.timeRange=t[1].split("~").map(e=>new Date(e));else{this.isDatePicker=!1;const e=t[1].split("~");this.measure=e[0],this.timeUnit=e[1]}},onClearField(){this.isDatePicker?this.timeRange=null:(this.measure=null,this.timeUnit=null),this.emitEmptyValue()},emitEmptyValue(){let n={};n[this.identifier]=void 0,this.eventEmitter("selected",{data:n,isTimeRangeFilter:!0})},allowPositiveNumberOnly(n){const t=n.which||n.keyCode;if(t>31&&(t<48||t>57))n.preventDefault();else return!0}},computed:{fieldCanBeCleared:function(){return this.isDatePicker&&this.timeRange}},watch:{reset(n){n&&(this.measure=null,this.isDatePicker=!1,this.timeUnit=null,this.timeRange=null)}}},MO={class:"col-sm-4 main-container"},PO={key:0},IO={class:"input-group"},RO={value:"last",selected:""},LO={value:"next"},NO=["value"],BO={key:0,class:"fas fa-pencil-alt",title:"Enter by hand","aria-hidden":"true"},VO={key:1,class:"far fa-calendar",title:"Use datepicker","aria-hidden":"true"};function jO(n,t,e,s,i,r){const a=st("date-picker");return D(),M("div",MO,[e.labels?(D(),M("label",PO,[at(H(i.isDatePicker?n.lang(e.labels[1]):n.lang(e.labels[0]))+" ",1),r.fieldCanBeCleared?(D(),M("i",{key:0,onClick:t[0]||(t[0]=(...l)=>r.onClearField&&r.onClearField(...l)),class:"fa fa-times clear-btn",title:"Clear","aria-hidden":"true"})):K("",!0)])):K("",!0),O("div",IO,[!i.isDatePicker&&e.isLastNextSelector?At((D(),M("select",{key:0,class:"form-control last-next-width","onUpdate:modelValue":t[1]||(t[1]=l=>i.nextOrLast=l),onChange:t[2]||(t[2]=l=>r.onValueChange())},[O("option",RO,H(n.lang("last")),1),O("option",LO,H(n.lang("next")),1)],544)),[[fh,i.nextOrLast]]):K("",!0),i.isDatePicker?K("",!0):At((D(),M("input",{key:1,onInput:t[3]||(t[3]=l=>r.onValueChange()),placeholder:"n",type:"number",onKeypress:t[4]||(t[4]=(...l)=>r.allowPositiveNumberOnly&&r.allowPositiveNumberOnly(...l)),class:"form-control measure-input hide-number-spinner","onUpdate:modelValue":t[5]||(t[5]=l=>i.measure=l),"aria-label":"..."},null,544)),[[qo,i.measure]]),i.isDatePicker?K("",!0):At((D(),M("select",{key:2,class:"form-control","onUpdate:modelValue":t[6]||(t[6]=l=>i.timeUnit=l),onChange:t[7]||(t[7]=l=>r.onValueChange())},[(D(!0),M(St,null,ze(i.unitListArr,l=>(D(),M("option",{key:l.id,value:l.id},H(n.lang(l.value)),9,NO))),128))],544)),[[fh,i.timeUnit]]),At(Q(a,{value:i.timeRange,"onUpdate:value":t[8]||(t[8]=l=>i.timeRange=l),"time-picker-options":{start:"00:00",step:"00:30",end:"23:30"},"not-before":i.notBefore,"not-after":i.notAfter,onConfirm:t[9]||(t[9]=l=>r.onDatePickerConfirm()),"input-class":"form-control cust-datepicker",format:i.dateTimeFormat,lang:"en",type:"datetime",placeholder:n.lang("enter_time_range"),clearable:!1,confirm:"",range:"","range-separator":"~"},null,8,["value","not-before","not-after","format","placeholder"]),[[tl,i.isDatePicker]]),O("button",{class:"btn btn-light range_btn",type:"button",onClick:t[10]||(t[10]=l=>i.isDatePicker=!i.isDatePicker)},[i.isDatePicker?(D(),M("i",BO)):(D(),M("i",VO))])])])}const zO=qt(TO,[["render",jO],["__scopeId","data-v-b95bfd46"]]);const UO={name:"radio-field",props:{name:{type:String,required:!0},label:{type:String,required:!0},hint:{type:String,default:""},options:{type:Array,required:!0},required:{type:Boolean,default:!1},onChange:{type:Function,Required:!0},value:{type:[String,Object],default:""},labelStyle:{type:Object,default:()=>{}},isInlineForm:{type:Boolean,default:!1},rules:{type:String,default:""},from:{type:String,default:""},tipRule:{type:[Number,Boolean],default:!1}},data:()=>({selectedValue:""}),mounted(){this.selectedValue=_n(this.value)?this.value:""},watch:{value(n){this.selectedValue=_n(n)?n:""}},methods:{getUniqueName(n=""){return n+"__"+Math.floor(Math.random()*1e5)},onInput(n){this.from?this.onChange(n,this.name):this.onChange(n,this.label)}},components:{"form-field-template":gu}},WO={class:"row"},HO={class:"control-label"},YO=["value","name"];function KO(n,t,e,s,i,r){const a=st("ValidationProvider"),l=st("form-field-template");return D(),yt(l,{name:e.name,label:e.label,hint:e.hint,required:e.required,labelStyle:e.labelStyle,isInlineForm:e.isInlineForm,tipRule:e.tipRule},{default:bt(()=>[O("div",WO,[Q(a,{name:e.name,rules:e.rules,class:"row",tag:"div",modelValue:n.selectedValue,"onUpdate:modelValue":t[2]||(t[2]=u=>n.selectedValue=u)},{default:bt(({field:u,errorMessage:d,meta:f,classes:g})=>[(D(!0),M(St,null,ze(e.options,p=>(D(),M("div",{class:"col-md-4 form-radio",key:p.id},[O("label",HO,[At(O("input",{type:"radio",class:te(["form-check-input",d?"field-danger":""]),"onUpdate:modelValue":t[0]||(t[0]=v=>n.selectedValue=v),value:p,name:r.getUniqueName(p.form_identifier),onChange:t[1]||(t[1]=v=>r.onInput(n.selectedValue))},null,42,YO),[[Z1,n.selectedValue]]),at(" "+H(p.label),1)])]))),128)),At(O("div",{class:"error-block is-danger col-md-12"},H(d),513),[[tl,d]])]),_:1},8,["name","rules","modelValue"])])]),_:1},8,["name","label","hint","required","labelStyle","isInlineForm","tipRule"])}const GO=qt(UO,[["render",KO],["__scopeId","data-v-b38be859"]]);const XO={name:"checkbox-field",props:{name:{type:String,required:!0},label:{type:String,required:!0},hint:{type:String,default:""},options:{type:Array,required:!0},required:{type:Boolean,default:!1},onChange:{type:Function,Required:!0},value:{type:[Array,String],default:""},labelStyle:{type:Object,default:()=>{}},isInlineForm:{type:Boolean,default:!1},rules:{type:String,default:""},from:{type:String,default:""},tipRule:{type:[Number,Boolean],default:!1}},data:()=>({selectedValue:[]}),mounted(){this.selectedValue=_n(this.value)?this.value:[]},watch:{value(n){this.selectedValue=_n(n)?n:[]}},methods:{getUniqueName(n=""){return n+"__"+Math.floor(Math.random()*1e5)},onInput(n){this.from?this.onChange(n,this.name):this.onChange(n,this.label)}},components:{"form-field-template":gu}},ZO={class:"row"},JO={class:"control-label"},QO=["id","value","name"];function $O(n,t,e,s,i,r){const a=st("ValidationProvider"),l=st("form-field-template");return D(),yt(l,{name:e.name,label:e.label,hint:e.hint,required:e.required,labelStyle:e.labelStyle,isInlineForm:e.isInlineForm,tipRule:e.tipRule},{default:bt(()=>[O("div",ZO,[Q(a,{name:e.name,rules:e.rules,class:"row",tag:"div",modelValue:n.selectedValue,"onUpdate:modelValue":t[2]||(t[2]=u=>n.selectedValue=u)},{default:bt(({field:u,errorMessage:d,meta:f,classes:g})=>[(D(!0),M(St,null,ze(e.options,p=>(D(),M("div",{class:"col-md-4 form-checkbox",key:p.id},[O("label",JO,[At(O("input",{type:"checkbox",class:te(["form-check-input",d?"field-danger":""]),id:p.form_identifier,"onUpdate:modelValue":t[0]||(t[0]=v=>n.selectedValue=v),value:p,name:r.getUniqueName(p.form_identifier),onChange:t[1]||(t[1]=v=>r.onInput(n.selectedValue))},null,42,QO),[[$g,n.selectedValue]]),at(" "+H(p.label),1)])]))),128)),At(O("div",{class:"error-block is-danger col-md-12"},H(d),513),[[tl,d]])]),_:1},8,["name","rules","modelValue"])])]),_:1},8,["name","label","hint","required","labelStyle","isInlineForm","tipRule"])}const qO=qt(XO,[["render",$O],["__scopeId","data-v-be3c9ef5"]]),tF={name:"custom-form-fields",props:{formField:{type:Object,required:!0},allFields:{type:Array,default:()=>[]}},data(){return{selectedVal:this.formField.value,uniqueId:this.formField.key,updatedFields:this.allFields,dropdownOptions:[],dropdownLabel:"label",country_code:null,showMobileField:!1}},watch:{allFields(n,t){this.updatedFields=n},formField(n,t){if(this.uniqueId=n.key,this.selectedVal=n.value,n.data_type==="checkbox"&&(this.selectedVal=this.selectedVal.split(",")),n.data_type==="mobile"&&this.selectedVal&&this.selectedVal.includes(" ")){const e=this.selectedVal.split(" ");e.length>1&&(e.shift(),this.selectedVal=e.join(" "))}}},beforeMount(){(this.formField.data_type==="select"||this.formField.data_type==="select"&&this.formField.title==="Api")&&this.getSelectFieldOptions(),this.formField.data_type==="mobile"&&this.formField.value&&this.formField.value.includes(" ")?(this.country_code=this.formField.value.split(" ")[0],this.showMobileField=!0):this.showMobileField=!0},computed:{apiInfoUrl(){let n=hh.convertStringOfPropertiesToObject(this.formField.api_info).url;return!n&&this.formField.api_info&&(n=this.formField.api_info),n},dropdownKey(){return hh.convertStringOfPropertiesToObject(this.formField.api_info).key||"label"},selectedValue(){let n=this.updatedFields.findIndex(t=>t.key==this.uniqueId);if(n!=-1){if(this.formField.data_type==="mobile"&&this.selectedVal&&this.selectedVal.includes(" ")){const t=this.selectedVal.split(" ");if(t.length>1)return t.shift(),t.join(" ")}if(Array.isArray(this.selectedVal)&&this.selectedVal!=null){let t=[];return this.selectedVal.forEach(e=>{typeof e=="object"?t.push(e.label):t.push(e)}),this.updatedFields[n].value=t.map(e=>e).toString(),this.updatedFields[n].options.filter(e=>t.includes(e.label))}else if(_n(this.updatedFields[n].options)){let t="";return typeof this.selectedVal=="object"?t=this.selectedVal.label:t=this.selectedVal,this.updatedFields[n].options.find(e=>e.label===t)}else return this.selectedVal?this.selectedVal:""}else return this.selectedVal}},methods:{keypressEvent(n,t,e){if(e==="number"||e==="mobile"){n=n||window.event;var s=n.which?n.which:n.keyCode;if(s>31&&(s<48||s>57))n.preventDefault();else return!0}else if(e==="float"||e==="decimal"){n=n||window.event;var s=n.which?n.which:n.keyCode,i=n.target.value;if(s==46&&i.indexOf(".")!==-1||s==46&&i.length===0)n.preventDefault();else{if(s>=48&&s<=57||s==46)return!0;n.preventDefault()}}},pasteEvent(n,t,e){if(e==="number"||e==="mobile")n=n||window.event,n.clipboardData.getData("Text").match(/[^\d]/)&&n.preventDefault();else if(e==="float"||e==="decimal"){n=n||window.event;var s=n.clipboardData||window.clipboardData,i=s.getData("Text");/^[-]?\d*\.?\d*$/.test(i)||n.preventDefault()}},onCountryCodeUpdate(n,t){this[t]=n},getSelectFieldOptions(){_n(this.apiInfoUrl)?this.formField.title==="Api"?(this.dropdownLabel=this.dropdownKey,Ce.get(this.apiInfoUrl).then(n=>{this.dropdownOptions=n.data}).catch(n=>{console.error(n)})):this.fetchOptionListForApiField():(this.dropdownOptions=this.formField.options,this.dropdownLabel="label")},fetchOptionListForApiField(){Ce.get(this.apiInfoUrl).then(n=>{this.dropdownLabel=this.dropdownKey;let t=n.data;for(let e in t)t[e][this.dropdownLabel]=t[e][this.dropdownLabel].toString();this.dropdownOptions=t}).catch(n=>{this.dropdownOptions=[]})},onChange(n,t){this.formField.data_type==="number"&&n===0&&(n="0");let e=this.updatedFields.findIndex(s=>s.key===t);Array.isArray(n)&&n!=null?(this.updatedFields[e].value=n.map(s=>s.label).toString(),this.selectedVal=n):typeof n=="object"&&n!=null?(this.updatedFields[e].value=n[this.dropdownLabel],this.selectedVal=n):this.formField.data_type==="mobile"?(this.updatedFields[e].value=n?this.country_code+" "+n:"",this.selectedVal=n?this.country_code+" "+n:""):(this.updatedFields[e].value=n||"",this.selectedVal=n||""),this.$emit("updated",this.updatedFields)}},components:{"dynamic-select":es,"text-field":ua,"radio-field":GO,"checkbox-field":qO,"date-time-field":Qg,MobileField:J1}};function eF(n,t,e,s,i,r){const a=st("date-time-field"),l=st("dynamic-select"),u=st("text-field"),d=st("radio-field"),f=st("checkbox-field"),g=st("MobileField");return D(),M("div",null,[e.formField.data_type==="date"?(D(),yt(a,{key:0,type:e.formField.request_time_information?"datetime":"date",label:e.formField.label,value:r.selectedValue,id:e.formField.key,required:!1,name:e.formField.key,onChange:r.onChange,format:e.formField.request_time_information?"MMMM DD YYYY HH:mm:ss":"MMMM DD YYYY",clearable:!0,outputFormat:"YYYY-MM-DD HH:mm:ss"},null,8,["type","label","value","id","name","onChange","format"])):K("",!0),e.formField.data_type==="select"&&e.formField.title!=="Api"?(D(),yt(l,{key:1,id:e.formField.key,label:e.formField.label,multiple:!1,name:e.formField.key,apiEndpoint:r.apiInfoUrl,value:r.selectedValue,onChange:r.onChange,optionLabel:i.dropdownLabel},null,8,["id","label","name","apiEndpoint","value","onChange","optionLabel"])):K("",!0),e.formField.data_type==="select"&&e.formField.title==="Api"?(D(),yt(l,{key:2,id:e.formField.key,label:e.formField.label,multiple:!1,name:e.formField.key,elements:i.dropdownOptions,value:r.selectedValue,onChange:r.onChange,optionLabel:i.dropdownLabel,strlength:75,fieldUniqueName:e.formField.key,labelLength:25},null,8,["id","label","name","elements","value","onChange","optionLabel","fieldUniqueName"])):K("",!0),e.formField.data_type==="text"||e.formField.data_type==="textarea"||e.formField.data_type==="number"||e.formField.data_type==="decimal"||e.formField.data_type==="email"?(D(),yt(u,{key:3,id:e.formField.key,label:e.formField.label,type:e.formField.data_type,name:e.formField.key,value:r.selectedValue,onChange:r.onChange,from:"filter",keypressEvt:r.keypressEvent,pasteEvt:r.pasteEvent},null,8,["id","label","type","name","value","onChange","keypressEvt","pasteEvt"])):K("",!0),e.formField.data_type==="radio"?(D(),yt(d,{key:4,name:e.formField.key,label:e.formField.label,options:e.formField.options,value:r.selectedValue,onChange:r.onChange,from:"filter"},null,8,["name","label","options","value","onChange"])):K("",!0),e.formField.data_type==="checkbox"?(D(),yt(f,{key:5,name:e.formField.key,label:e.formField.label,options:e.formField.options,value:r.selectedValue,onChange:r.onChange,from:"filter"},null,8,["name","label","options","value","onChange"])):K("",!0),i.showMobileField&&e.formField.data_type==="mobile"?(D(),yt(g,{key:6,fieldFor:"automator",id:e.formField.key,label:e.formField.label,type:e.formField.data_type,name:e.formField.key,value:r.selectedValue,onChange:r.onChange,isInlineForm:!1,countryCode:i.country_code,onCountryCode:t[0]||(t[0]=p=>r.onCountryCodeUpdate(p,"country_code")),keypressEvt:r.keypressEvent,pasteEvt:r.pasteEvent,extensionEnabled:0,ext:[]},null,8,["id","label","type","name","value","onChange","countryCode","keypressEvt","pasteEvt"])):K("",!0)])}const nF=qt(tF,[["render",eF]]);const iF={props:{isApplyOnlyMode:{type:Boolean,default:!1},prefilledFilterObject:{type:Object,default:()=>{}},filterDependenciesApiEndpoint:{type:String,default:""},iconClass:{type:String,default:"fas fa-filter"},showFilter:{type:Boolean,default:!0},closeFilterView:{type:Function,default:()=>{}},from:{type:String,default:""},isEditMode:{type:Boolean,default:!1},selectedId:{type:[String,Number],default:0},divId:{type:String,default:""},totalFilters:{type:Number,default:0},filterNumber:{type:[String,Number],default:""}},data(){return{booleanFilters:[{id:1,text:"Yes"},{id:0,text:"No"}],ratingImpactFilters:[{id:"positive",text:"Positive"},{id:"negative",text:"Negative"},{id:"neutral",text:"Neutral"}],slaMetFilters:[{id:"met",text:"Met"},{id:"notmet",text:"Not met"},{id:"pending",text:"Pending"}],categoryFilterValue:[{id:"all",text:this.trans("all")},{id:"inbox",text:this.trans("inbox")},{id:"mytickets",text:this.trans("mytickets")},{id:"unassigned",text:this.trans("unassigned")},{id:"overdue",text:this.trans("overdue")},{id:"unapproved",text:this.trans("unapproved")},{id:"waiting-for-approval",text:this.trans("waiting-for-approval")},{id:"closed",text:this.trans("closed")},{id:"deleted",text:this.trans("deleted")},{id:"spam",text:this.trans("spam")}],categoryClientFilterValue:[{id:"all",text:this.trans("all")},{id:"inbox",text:this.trans("open")},{id:"closed",text:this.trans("closed")},{id:"deleted",text:this.trans("deleted")},{id:"waiting-for-approval",text:this.trans("waiting-for-approval")}],filter:{},customFieldFilters:[],isRtl:!0,loading:!1,filterObjects:{},selectedFilter:this.selectedId,showFilterPopUp:!1,filterName:"",filterMode:"",departments:[],teams:[],agents:[],reset:!1,filterId:"",timeFilterOptions:[{id:"minute",value:"unit_minute"},{id:"hour",value:"unit_hour"},{id:"day",value:"unit_day"},{id:"month",value:"unit_month"}],dashboardConfig:{displayOnDashboard:!1,isDisplayUnderDefault:!1,iconColor:"#00C0EF",iconClass:{icon_class:"fas fa-ticket"},created_by:[],created_at:"",canViewCreatorProfile:!0,display_order:""},appendLoad:!1,isDefaultFilter:!1,isDeleteable:!1,source:"",refreshFilter:!1,selectedFilterId:""}},computed:{showUpdateBtn(){var n,t;return((t=(n=this.$route)==null?void 0:n.query)==null?void 0:t.category)!=="archived"},showRatingFilter(){let t=window.location.pathname.split("/");return t[t.length-3]!="reports"}},beforeMount(){this.openFilter()},mounted(){this.handleTooltip()},created(){window.emitter.on("performApplyAction",this.applyFilter),window.emitter.on("updateFilterApi",this.closeFilter)},methods:{updatedCustomFields(n){this.customFieldFilters=n},closeFilter(){this.closeFilterView()},handleTooltip(){setTimeout(()=>{$(".ticket-filter").tooltip(),this.$store.state.auth.user.user_language=="ar"&&(this.isRtl=!1)},2e3)},toggleFilterPopUp(n,t){this.filterMode=="delete"&&!t&&(this.filterObjects={},this.filter={},this.filterName="",this.selectedFilter=0,this.resetDashboardConfig(),this.resetFilter()),this.showFilterPopUp=n},getTicketFilterById(n){this.loading=!0,this.resetFilter();let t=_n(n)?"/api/agent/ticket-filter/"+n:"/api/agent/filter-dependencies";this.filterDependenciesApiEndpoint&&(t=this.filterDependenciesApiEndpoint);let e={};!_n(n)&&(e=this.getParamsFromUrl(),!e)||(typeof this.prefilledFilterObject<"u"&&(e=this.prefilledFilterObject),Ce.get(t,{params:e}).then(s=>{let i={};typeof this.prefilledFilterObject<"u"&&(this.customFieldFilters=[]);let r=[];s.data.data.fields.map(a=>{a.key.indexOf("custom_")!==-1?r.push(a):(this.from==="clientFilter"&&a.key==="category"&&a.value==="inbox"&&(a.value_meta={id:"inbox",text:"Open"}),i[a.key]=a.value_meta)}),r.length?this.appendCustomFieldFilter(r):this.loading=!1,this.filterObjects=i,_n(n)&&!this.filterDependenciesApiEndpoint&&(this.selectedFilter=s.data.data.id,this.filterName=s.data.data.name,this.departments=s.data.data.departments,this.teams=s.data.data.teams,this.agents=s.data.data.agents,this.dashboardConfig.displayOnDashboard=s.data.data.display_on_dashboard,this.dashboardConfig.isDisplayUnderDefault=s.data.data.display_on_navigation_bar,this.dashboardConfig.created_by=s.data.data.created_by[0],this.dashboardConfig.created_at=s.data.data.created_at,this.dashboardConfig.canViewCreatorProfile=s.data.data.canViewCreatorProfile,this.dashboardConfig.display_order=s.data.data.display_order,s.data.data.icon_class?(this.dashboardConfig.iconClass.icon_class=s.data.data.icon_class,this.dashboardConfig.iconColor=s.data.data.icon_color):this.resetDashboardConfig(),this.isDefaultFilter=!!s.data.data.is_default,this.isDeleteable=!!s.data.data.is_deletable,this.source=s.data.data.source)}).catch(s=>{this.loading=!1,rn(s)}))},getParamsFromUrl(){try{let n=location.search.substring(1);return JSON.parse('{"'+decodeURI(n).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/%2F/g,"/")+'"}')}catch{return{}}},appendCustomFieldFilter(n){this.$refs.custom_filter.valuesInEdit=n,setTimeout(()=>{this.loading=!1},1e3)},saveFilter(n){this.filterMode=n,this.customFieldFilters.map(t=>{t.value&&(this.filterObjects["custom_"+t.id]=t.value)}),this.showFilterPopUp=!0},updateFilter(n){this.filterObjects[Object.keys(n)[0]]=n[Object.keys(n)[0]],window.emitter.emit("onFilterSelected",this.filterObjects)},onChange(n,t){this[t]=n},openFilter(){let n=pu(this.currentPath());this.selectedFilterId=this.filterNumber?this.filterNumber:n,this.isEditMode&&(n=this.selectedFilter),this.getTicketFilterById(n)},resetDashboardConfig(){this.dashboardConfig.displayOnDashboard=!1,this.dashboardConfig.isDisplayUnderDefault=!1,this.dashboardConfig.iconClass={icon_class:"fas fa-ticket"},this.dashboardConfig.iconColor="#00C0EF",this.dashboardConfig.created_by=[],this.dashboardConfig.created_at="",this.dashboardConfig.display_order=""},visibleLoader(n){this.appendLoad=n},resetFilter(){this.reset=!0,this.filter={},this.filterObjects={},this.agents=[],this.departments=[],this.customFieldFilters.map(n=>{n.value=""}),setTimeout(()=>{this.reset=!1},2e3)},filtervalue(n){if(n.isTimeRangeFilter){const e=n.data;for(const s in e)e.hasOwnProperty(s)&&(this.filter[s]=e[s],this.filterObjects[s]=e[s])}else for(var t in n)this.filter[t]=n[t]},applyFilter(n=!1){this.customFieldFilters.length>0?(this.customFieldFilters.map(t=>{let e=typeof t.value=="string"?t.value.trim():t.value;this.filter["custom_"+t.id]=e}),this.$emit("filter",this.filter,n)):(this.filter.category==""&&this.filter.category==[],this.$emit("filter",this.filter,n,!0))},getUpdatedFilter(n){this.filter=n},getCustomFields(n){this.customFieldFilters=n}},watch:{refreshFilter(n,t){n===!0&&this.openFilter(),this.refreshFilter=!1}},components:{"common-api-filter":Vk,"common-filter":Yk,"custom-field-filter":sO,"save-filter":AO,"time-range-filter":zO,"custom-form-fields":nF}},sF={class:"inbox-tic-filter"},rF={class:"card card-light"},aF={class:"card-header"},oF={class:"card-title"},lF=["id"],cF={key:0,class:"row"},uF={class:"row"},dF={class:"row"},fF={class:"row"},hF={class:"row"},gF={class:"row"},pF={class:"row"},mF={class:"row"},vF={class:"row"},bF={class:"row"},yF={class:"row"},_F={class:"row"},xF={key:1,class:"hr"},SF={key:2,class:"row"},wF={class:"col-sm-4"},CF={key:3,class:"row"},kF={class:"card-footer"},OF={key:0},FF={key:1},DF={key:0},EF={key:1};function AF(n,t,e,s,i,r){const a=st("custom-loader"),l=st("custom-field-filter"),u=st("save-filter"),d=st("common-api-filter"),f=st("common-filter"),g=st("time-range-filter"),p=st("custom-form-fields");return D(),M("div",sF,[i.loading?(D(),yt(a,{key:0})):K("",!0),O("div",rF,[O("div",aF,[O("h3",oF,H(n.lang("apply_filter")),1),Q(l,{selectedFilters:i.customFieldFilters,onCustom:r.getCustomFields,customFilters:i.filter,defaultFiltersObj:i.filterObjects,updatedFieldValues:r.getUpdatedFilter,ref:"custom_filter",showLoader:r.visibleLoader,filterId:i.selectedFilterId},null,8,["selectedFilters","onCustom","customFilters","defaultFiltersObj","updatedFieldValues","showLoader","filterId"]),i.showFilterPopUp?(D(),yt(u,{key:0,filterName:i.filterName,filterValues:i.filter,filterObjects:i.filterObjects,filterId:i.selectedFilter,toggleFilterPopUp:r.toggleFilterPopUp,mode:i.filterMode,intitialDepartments:i.departments,initialAgents:i.agents,"initial-teams":i.teams,postFilterSaveAction:r.applyFilter,"dashboard-config":i.dashboardConfig,from:e.from,totalFilters:e.totalFilters,source:i.source},null,8,["filterName","filterValues","filterObjects","filterId","toggleFilterPopUp","mode","intitialDepartments","initialAgents","initial-teams","postFilterSaveAction","dashboard-config","from","totalFilters","source"])):K("",!0)]),O("div",{class:"card-body",id:e.divId},[e.showFilter?(D(),M(St,{key:0},[e.from==="clientFilter"?(D(),M("div",cF,[Q(d,{label:n.lang("ticket_id-subject"),api:"tickets",base:"dependency",reset:i.reset,keyname:"ticket-ids",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["ticket-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),Q(d,{label:n.lang("requester"),api:"users",meta:!0,keyname:"owner-ids",reset:i.reset,base:"dependency",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["owner-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),Q(f,{label:n.lang("category"),filterArray:i.categoryClientFilterValue,keyname:"category",reset:i.reset,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects.category},null,8,["label","filterArray","reset","onSelected","updateFilter","value"]),Q(d,{label:n.lang("status"),api:"statuses?client_visibility=1&client_filter=1",keyname:"status-ids",base:"dependency",reset:i.reset,meta:!0,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["status-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),i.loading?K("",!0):(D(),yt(g,{key:0,labels:["created_within_last","created_in"],options:i.timeFilterOptions,onSelected:r.filtervalue,identifier:"created-at",value:i.filterObjects["created-at"],reset:i.reset},null,8,["options","onSelected","value","reset"]))])):(D(),M(St,{key:1},[O("div",uF,[Q(d,{label:n.lang("ticket_id-subject"),api:"tickets",base:"dependency",reset:i.reset,keyname:"ticket-ids",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["ticket-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),Q(d,{label:n.lang("requester"),api:"users",meta:!0,keyname:"owner-ids",reset:i.reset,base:"dependency",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["owner-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),Q(f,{label:n.lang("category"),filterArray:i.categoryFilterValue,keyname:"category",reset:i.reset,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects.category},null,8,["label","filterArray","reset","onSelected","updateFilter","value"])]),O("div",dF,[Q(d,{label:n.lang("organization"),api:"organizations",base:"dependency",reset:i.reset,keyname:"organization-ids",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["organization-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),Q(d,{label:n.lang("department"),api:"departments",base:"dependency",reset:i.reset,keyname:"dept-ids",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["dept-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),Q(d,{label:n.lang("help_topic"),api:"help-topics",base:"dependency",reset:i.reset,keyname:"helptopic-ids",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["helptopic-ids"]},null,8,["label","reset","onSelected","updateFilter","value"])]),O("div",fF,[Q(d,{label:n.lang("type"),api:"types",base:"dependency",keyname:"type-ids",reset:i.reset,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["type-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),Q(d,{label:n.lang("source"),api:"sources",base:"dependency",keyname:"source-ids",reset:i.reset,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["source-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),Q(d,{label:n.lang("priority"),api:"priorities",base:"dependency",reset:i.reset,keyname:"priority-ids",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["priority-ids"]},null,8,["label","reset","onSelected","updateFilter","value"])]),O("div",hF,[Q(d,{label:n.lang("status"),api:"statuses",keyname:"status-ids",base:"dependency",reset:i.reset,meta:!0,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["status-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),Q(d,{label:n.lang("labels"),api:"labels?limit-by-status=false",keyname:"label-ids",base:"dependency",reset:i.reset,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["label-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),Q(d,{label:n.lang("tags"),api:"tags",base:"dependency",keyname:"tag-ids",reset:i.reset,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["tag-ids"]},null,8,["label","reset","onSelected","updateFilter","value"])]),O("div",gF,[Q(f,{label:n.lang("is_resolved"),filterArray:i.booleanFilters,keyname:"is-resolved",reset:i.reset,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["is-resolved"]},null,8,["label","filterArray","reset","onSelected","updateFilter","value"]),Q(f,{label:n.lang("has-resolution-sla-met"),filterArray:i.slaMetFilters,keyname:"has-resolution-sla-met",reset:i.reset,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["has-resolution-sla-met"],ref:"has_resolution_sla_met_filter"},null,8,["label","filterArray","reset","onSelected","updateFilter","value"]),Q(f,{label:n.lang("has-response-sla-met"),filterArray:i.slaMetFilters,keyname:"has-response-sla-met",reset:i.reset,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["has-response-sla-met"],ref:"has_response_sla_met_filter"},null,8,["label","filterArray","reset","onSelected","updateFilter","value"])]),O("div",pF,[Q(f,{label:n.lang("is_assigned_agent"),filterArray:i.booleanFilters,keyname:"assigned_agent",reset:i.reset,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects.assigned_agent},null,8,["label","filterArray","reset","onSelected","updateFilter","value"]),Q(f,{label:n.lang("is_assigned_team"),filterArray:i.booleanFilters,keyname:"assigned_team",reset:i.reset,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects.assigned_team},null,8,["label","filterArray","reset","onSelected","updateFilter","value"]),Q(f,{label:n.lang("is_answered"),filterArray:i.booleanFilters,keyname:"answered",reset:i.reset,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects.answered},null,8,["label","filterArray","reset","onSelected","updateFilter","value"])]),O("div",mF,[Q(f,{label:n.lang("is_reopened"),filterArray:i.booleanFilters,keyname:"reopened",reset:i.reset,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects.reopened},null,8,["label","filterArray","reset","onSelected","updateFilter","value"]),Q(d,{label:n.lang("creator"),api:"users",meta:!0,base:"dependency",reset:i.reset,keyname:"creator-ids",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["creator-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),Q(d,{label:n.lang("assigned_to_agent"),meta:!0,api:"agents",base:"dependency",reset:i.reset,keyname:"assignee-ids",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["assignee-ids"]},null,8,["label","reset","onSelected","updateFilter","value"])]),O("div",vF,[Q(d,{label:n.lang("assigned_to_team"),api:"teams",base:"dependency",reset:i.reset,keyname:"team-ids",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["team-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),Q(d,{label:n.lang("location"),api:"locations",base:"dependency",reset:i.reset,keyname:"location-ids",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["location-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),Q(d,{label:n.lang("sla_plan"),api:"sla-plans",base:"dependency",reset:i.reset,keyname:"sla-plan-ids",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["sla-plan-ids"]},null,8,["label","reset","onSelected","updateFilter","value"])]),O("div",bF,[Q(d,{label:n.lang("collaborator"),api:"users",meta:!0,base:"dependency",reset:i.reset,keyname:"collaborator-ids",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects["collaborator-ids"]},null,8,["label","reset","onSelected","updateFilter","value"]),i.loading?K("",!0):(D(),yt(g,{key:0,labels:["created_within_last","created_in"],options:i.timeFilterOptions,onSelected:r.filtervalue,identifier:"created-at",value:i.filterObjects["created-at"],reset:i.reset},null,8,["options","onSelected","value","reset"])),i.loading?K("",!0):(D(),yt(g,{key:1,labels:["modified_within_last","modified_in"],options:i.timeFilterOptions,onSelected:r.filtervalue,identifier:"updated-at",value:i.filterObjects["updated-at"],reset:i.reset},null,8,["options","onSelected","value","reset"]))]),O("div",yF,[i.loading?K("",!0):(D(),yt(g,{key:0,labels:["due_within_next","due_in"],options:i.timeFilterOptions,onSelected:r.filtervalue,identifier:"due-on",value:i.filterObjects["due-on"],reset:i.reset},null,8,["options","onSelected","value","reset"])),r.showRatingFilter?(D(),M(St,{key:1},[Q(d,{label:n.trans("ticket_filter_rating"),api:"rating-types",base:"dependency",keyname:"rating_ids",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects.rating_ids,reset:i.reset},null,8,["label","onSelected","updateFilter","value","reset"]),Q(f,{label:n.trans("ticket_filter_rating_impact"),filterArray:i.ratingImpactFilters,keyname:"rating_impact",reset:i.reset,onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects.rating_impact},null,8,["label","filterArray","reset","onSelected","updateFilter","value"])],64)):K("",!0)]),O("div",_F,[Q(d,{label:n.lang("forms"),api:"forms",base:"ticket",reset:i.reset,keyname:"form_category_ids",onSelected:r.filtervalue,updateFilter:r.updateFilter,value:i.filterObjects.form_category_ids},null,8,["label","reset","onSelected","updateFilter","value"])])],64))],64)):K("",!0),i.customFieldFilters.length>0?(D(),M("hr",xF)):K("",!0),i.reset?K("",!0):(D(),M("div",SF,[(D(!0),M(St,null,ze(i.customFieldFilters,(v,b)=>(D(),M("div",wF,[Q(p,{formField:v,allFields:i.customFieldFilters,onUpdated:r.updatedCustomFields,key:"index"},null,8,["formField","allFields","onUpdated"])]))),256))])),i.reset?(D(),M("div",CF,[Q(a)])):K("",!0)],8,lF),O("div",kF,[e.from==="clientFilter"?(D(),M("button",{key:0,id:"edit-filter",type:"button",onClick:t[0]||(t[0]=v=>r.saveFilter()),class:"btn btn-primary"},[e.isEditMode?(D(),M("span",FF,[t[8]||(t[8]=O("i",{class:"fas fa-sync","aria-hidden":"true"},null,-1)),at(" "+H(n.lang("update")),1)])):(D(),M("span",OF,[t[7]||(t[7]=O("i",{class:"fas fa-save","aria-hidden":"true"},null,-1)),at(" "+H(n.lang("save")),1)]))])):(D(),M(St,{key:1},[O("button",{id:"apply-filter",type:"button",onClick:t[1]||(t[1]=v=>r.applyFilter(!0)),class:"btn btn-primary"},[t[9]||(t[9]=O("i",{class:"fas fa-check","aria-hidden":"true"},null,-1)),at(" "+H(n.lang("apply")),1)]),!e.isApplyOnlyMode&&i.source==="open_tickets"?(D(),M("button",{key:0,id:"edit-filter",type:"button",onClick:t[2]||(t[2]=v=>r.saveFilter("save")),class:"btn btn-primary"},[O("span",null,[t[10]||(t[10]=O("i",{class:"fas fa-save","aria-hidden":"true"},null,-1)),at(" "+H(n.lang("save")),1)])])):K("",!0),!e.isApplyOnlyMode&&r.showUpdateBtn?(D(),M("button",{key:1,id:"edit-filter",type:"button",onClick:t[3]||(t[3]=v=>r.saveFilter()),class:"btn btn-primary"},[i.selectedFilter===0&&!e.isApplyOnlyMode?(D(),M("span",DF,[t[11]||(t[11]=O("i",{class:"fas fa-save","aria-hidden":"true"},null,-1)),at(" "+H(n.lang("save")),1)])):(D(),M("span",EF,[t[12]||(t[12]=O("span",{class:"fas fa-sync"},null,-1)),at("  "+H(n.lang("update")),1)]))])):K("",!0),Q1(n.$slots,"filter-operation-btn-group",{},void 0,!0),i.selectedFilter!==0&&!i.isDefaultFilter&&i.source!=="open_tickets"||i.isDefaultFilter&&i.isDeleteable?(D(),M("button",{key:2,id:"delete-filter",type:"button",onClick:t[4]||(t[4]=v=>r.saveFilter("delete")),class:"btn btn-secondary"},[t[13]||(t[13]=O("i",{class:"fas fa-trash","aria-hidden":"true"},null,-1)),at(" "+H(n.lang("delete")),1)])):K("",!0)],64)),O("button",{id:"reset-filter",type:"button",onClick:t[5]||(t[5]=v=>r.resetFilter()),class:"btn btn-primary"},[t[14]||(t[14]=O("i",{class:"fas fa-undo","aria-hidden":"true"},null,-1)),at(" "+H(n.lang("reset")),1)]),O("button",{id:"close-filter",type:"button",onClick:t[6]||(t[6]=v=>r.closeFilter()),class:"btn btn-secondary"},[t[15]||(t[15]=O("i",{class:"fas fa-times","aria-hidden":"true"},null,-1)),at(" "+H(n.lang("cancel")),1)])])]),i.appendLoad?(D(),yt(a,{key:1})):K("",!0)])}const $2=qt(iF,[["render",AF],["__scopeId","data-v-64f2a8f2"]]),TF={props:["data","keyName","colName","reportType"],data(){return{href:"href",text:"innerText",tag:"tag",keyVal:this.keyName,keySplits:[]}},beforeMount(){this.keySplits=this.keyName.split(".")},methods:{getAssets(n){return typeof n=="string"?this.$route.name==="User Directory"&&this.keyVal==="labels"?[n]:n.split(","):[]},getRoute(n,t,e){let s=location.pathname.split("/")[location.pathname.split("/").length-2],r=new DOMParser().parseFromString(n,"text/html"),a=r.getElementsByTagName("a"),l=a[a.length-1];return l==null||e=="name"&&(s=="department-performance"||s=="team-performance")||t=="href"&&l[t].includes("department")||t=="href"&&l[t].includes("team")?t=="href"?"":t=="tag"?"span":r.getElementsByTagName("body")[0].innerHTML:t=="href"?l[t].replace(this.basePath(),""):t=="tag"?"a":l[t]},loadLabel(n){return Jg(n)}}},MF={class:"dynamic-hyper-link"},PF={key:0},IF={key:0},RF={key:0},LF=["innerHTML"],NF={key:0},BF=["innerHTML"],VF={key:2},jF={key:0},zF={key:0},UF=["innerHTML"],WF={key:0},HF={key:1},YF=["innerHTML"],KF={key:3},GF={key:1},XF={key:1};function ZF(n,t,e,s,i,r){const a=st("router-link");return D(),M("span",MF,[e.data[e.colName]?(D(),M("span",PF,[i.keySplits[1]?(D(),M(St,{key:0},[e.data[i.keySplits[0]][i.keySplits[1]]?(D(),M("span",IF,[r.getRoute(e.data[i.keySplits[0]][i.keySplits[1]],i.href,i.keyVal)?(D(),M("span",RF,[(D(!0),M(St,null,ze(r.getAssets(e.data[i.keySplits[0]][i.keySplits[1]]),(l,u)=>(D(),yt(a,{key:u,tag:r.getRoute(l,i.tag,i.keyVal),to:r.getRoute(l,i.href,i.keyVal)},{default:bt(()=>[O("span",{innerHTML:n.$route.name==="User Directory"&&i.keyVal==="labels"?r.loadLabel(r.getRoute(l,i.text,i.keyVal)):r.getRoute(l,i.text,i.keyVal)},null,8,LF),u<r.getAssets(e.data[i.keySplits[0]][i.keySplits[1]]).length-1?(D(),M("span",NF,", ")):K("",!0)]),_:2},1032,["tag","to"]))),128))])):e.data[i.keySplits[0]][i.keySplits[1]]?(D(),M("span",{key:1,innerHTML:e.data[i.keySplits[0]][i.keySplits[1]]},null,8,BF)):(D(),M("span",VF,"--"))])):K("",!0)],64)):(D(),M(St,{key:1},[e.data[i.keySplits[0]]?(D(),M("span",jF,[r.getRoute(e.data[e.keyName],i.href,i.keyVal)?(D(),M("span",zF,[(D(!0),M(St,null,ze(r.getAssets(e.data[e.keyName]),(l,u)=>(D(),yt(a,{key:u,tag:r.getRoute(l,i.tag,i.keyVal),to:r.getRoute(l,i.href,i.keyVal)},{default:bt(()=>[O("span",{innerHTML:n.$route.name==="User Directory"&&i.keyVal==="labels"?r.loadLabel(r.getRoute(l,i.text,i.keyVal)):r.getRoute(l,i.text,i.keyVal)},null,8,UF),u<r.getAssets(e.data[e.keyName]).length-1?(D(),M("span",WF,", ")):K("",!0)]),_:2},1032,["tag","to"]))),128))])):Array.isArray(e.data[e.keyName])&&!e.data[e.keyName].length?(D(),M("span",HF,"--")):e.data[e.keyName]?(D(),M("span",{key:2,innerHTML:(n.$route.name==="Reports Entry"||e.reportType==="tickets")&&i.keyVal==="labels"?r.loadLabel(e.data[e.keyName]):e.data[e.keyName]},null,8,YF)):(D(),M("span",KF,"--"))])):(D(),M("span",GF,"--"))],64))])):(D(),M("span",XF,"--"))])}const q2=qt(TF,[["render",ZF]]);const JF={props:{tableHeader:{type:String,default:""},perpage:{type:[Number,String],default:""}},data(){return{buttonStyle:{"background-color":this.tableHeader+" !important",color:"#fff"},ticketCounts:[10,25,50,100]}},methods:{changeCount(n){this.$emit("ticketCount",n)}}},QF={class:"btn-group",id:"ticket-count"},$F={type:"button",class:"btn btn-md btn-light dropdown-toggle","data-bs-toggle":"dropdown"},qF={class:"dropdown-menu dropdown-menu-left"},tD=["onClick"];function eD(n,t,e,s,i,r){return D(),M("div",QF,[O("button",$F,H(e.perpage),1),O("div",qF,[(D(!0),M(St,null,ze(i.ticketCounts,a=>(D(),M("a",{class:"dropdown-item",onClick:l=>r.changeCount(a),href:"javascript:;"},H(a),9,tD))),256))])])}const tI=qt(JF,[["render",eD],["__scopeId","data-v-ad92658a"]]),nD={name:"data-table-status",description:"Contains active and inactive status",props:{data:{type:Object,required:!0}}},iD={class:"btn-group"},sD={key:0,id:"status"},rD={key:1,id:"status"};function aD(n,t,e,s,i,r){return D(),M("div",iD,[e.data.hasOwnProperty("status")?(D(),M("a",sD,[O("span",{title:"Status",class:te({"btn btn-success btn-sm pointer_normal":e.data.status,"btn btn-danger btn-sm pointer_normal":!e.data.status}),id:"edit_btn"},H(e.data.status?n.lang("active"):n.lang("inactive")),3)])):(D(),M("a",rD,[O("span",{title:"Status",class:te({"btn btn-success btn-sm pointer_normal":e.data.response,"btn btn-danger btn-sm pointer_normal":!e.data.response}),id:"edit_btn"},H(e.data.response?n.lang("sent"):n.lang("failed")),3)]))])}const eI=qt(nD,[["render",aD]]),oD={name:"user-table-actions",description:"User table edit componnet",props:{data:{type:Object,required:!0}}},lD={class:"user-table-actions"},cD={type:"button",class:"btn btn-light table_btn dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},uD={class:"dropdown-menu dropdown-menu-end"},dD=["href"],fD=["href"],hD=["href"],gD={key:1,class:"btn-group"},pD={type:"button",class:"btn btn-light table_btn dropdown-toggle","data-bs-toggle":"dropdown"},mD={class:"dropdown-menu dropdown-menu-right"};function vD(n,t,e,s,i,r){const a=st("router-link"),l=xn("tooltip");return D(),M("div",lD,[e.data.from=="admin"?(D(),M(St,{key:0},[e.data.edit_url?At((D(),yt(a,{key:0,class:"btn btn-light table_btn",to:e.data.edit_url},{default:bt(()=>t[0]||(t[0]=[O("i",{class:"fas fa-edit"},null,-1)])),_:1},8,["to"])),[[l,n.lang("edit")]]):K("",!0),e.data.role!="user"?(D(),M(St,{key:1},[At((D(),M("button",cD,t[1]||(t[1]=[O("i",{class:"fas fa-eye"},null,-1)]))),[[l,n.lang("view")]]),O("div",uD,[O("a",{class:"dropdown-item",href:e.data.view_url},H(n.trans("view_user")),9,dD),O("a",{class:"dropdown-item",href:e.data.agent_view_url},H(n.trans("view_agent")),9,fD)])],64)):K("",!0),e.data.role==="user"?At((D(),M("a",{key:2,class:"btn btn-light table_btn",href:e.data.view_url},t[2]||(t[2]=[O("i",{class:"fas fa-eye"},null,-1)]),8,hD)),[[l,n.lang("view")]]):K("",!0)],64)):(D(),M(St,{key:1},[e.data.edit_url?At((D(),yt(a,{key:0,class:"btn btn-light table_btn",to:e.data.edit_url},{default:bt(()=>t[3]||(t[3]=[O("i",{class:"fas fa-edit"},null,-1)])),_:1},8,["to"])),[[l,n.lang("edit")]]):K("",!0),e.data.role!="user"?(D(),M("div",gD,[At((D(),M("button",pD,t[4]||(t[4]=[O("i",{class:"fas fa-eye"},null,-1)]))),[[l,n.lang("view")]]),O("div",mD,[Q(a,{class:"dropdown-item",to:e.data.view_url},{default:bt(()=>[at(H(n.trans("view_user")),1)]),_:1},8,["to"]),Q(a,{class:"dropdown-item",to:e.data.agent_view_url},{default:bt(()=>[at(H(n.trans("view_agent")),1)]),_:1},8,["to"])])])):K("",!0),e.data.role==="user"?At((D(),yt(a,{key:2,class:"btn btn-light table_btn",to:e.data.view_url},{default:bt(()=>t[5]||(t[5]=[O("i",{class:"fas fa-eye"},null,-1)])),_:1},8,["to"])),[[l,n.lang("view")]]):K("",!0)],64))])}const nI=qt(oD,[["render",vD]]);const bD={name:"data-table-statuses",description:"Contains active,ban,email,mobile verify and inactive status",props:{data:{type:Object,required:!0}},methods:{}},yD={class:"btn-group"},_D=["id"];function xD(n,t,e,s,i,r){const a=xn("tooltip");return D(),M("div",yD,[At((D(),M("i",{class:te([["agent","admin"].includes(e.data.role)?"agent":"user",["agent","user"].includes(e.data.role)?"fa-solid fa-user-tie":"fa-solid fa-user-gear"]),id:"email",key:e.data.id},null,2)),[[a,n.lang(e.data.role)]]),t[0]||(t[0]=at("   ")),At(O("i",{class:te(["fas fa-envelope",{success:e.data.email_verified==1,danger:e.data.email_verified!=1}]),id:"email"},null,2),[[a,e.data.email_verified==1?n.lang("user_email_is_verified"):n.lang("user_email_not_verified")]]),t[1]||(t[1]=at("   ")),At(O("i",{class:te([{success:e.data.mobile_verified==1,danger:e.data.mobile_verified!=1},"fas fa-mobile-alt"]),id:"mobile"},null,2),[[a,e.data.mobile_verified==1?n.lang("user_mobile_is_verified"):n.lang("user_mobile_not_verified")]]),t[2]||(t[2]=at("   ")),At(O("i",{class:te([{success:e.data.is_2fa_enabled==1,danger:e.data.is_2fa_enabled!=1},"fas fa-shield-alt"]),id:"2fa_status_user__"+e.data.id},null,10,_D),[[a,e.data.is_2fa_enabled==1?n.lang("user_enabled_2fa"):n.lang("user_not_enabled_2fa")]]),t[3]||(t[3]=at("   "))])}const iI=qt(bD,[["render",xD]]),SD={name:"advance-filter",description:"",components:{DateTimeField:fS,"dynamic-select":es},props:{metaData:{type:Array,required:!0}},methods:{onChange(n,t){this.selectedFilters[t]=n},onCancel(){this.$emit("selectedFilters","closeEvent")},onApply(){this.$emit("selectedFilters",this.selectedFilters)},onReset(){this.selectedFilters={},this.$emit("selectedFilters","resetEvent")}},data(){return{selectedFilters:{},close_on_select:!this.multiple,isShowFilter:!1,componentMetaData:this.metaData}}},wD={class:"main-div"},CD={class:"row"},kD={class:"col-md-4"},OD={class:"card-footer"};function FD(n,t,e,s,i,r){const a=st("date-time-field"),l=st("dynamic-select"),u=st("faveo-box");return D(),M("div",wD,[Q(u,{"box-class":"card card-light",title:n.lang("filter")},{actions:bt(()=>[O("div",OD,[O("button",{id:"apply-btn",class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...d)=>r.onApply&&r.onApply(...d))},[t[3]||(t[3]=O("span",{class:"fas fa-check"},null,-1)),at("  "+H(n.lang("apply")),1)]),O("button",{id:"apply-btn",class:"btn btn-primary single-btn",type:"button",onClick:t[1]||(t[1]=(...d)=>r.onReset&&r.onReset(...d))},[t[4]||(t[4]=O("span",{class:"fas fa-undo"},null,-1)),at("  "+H(n.lang("reset")),1)]),O("button",{id:"apply-btn",class:"btn btn-secondary single-btn",type:"button",onClick:t[2]||(t[2]=(...d)=>r.onCancel&&r.onCancel(...d))},[t[5]||(t[5]=O("span",{class:"fas fa-times"},null,-1)),at("  "+H(n.lang("cancel")),1)])])]),default:bt(()=>[(D(!0),M(St,null,ze(i.componentMetaData,d=>(D(),M("div",CD,[(D(!0),M(St,null,ze(d.section,f=>(D(),M("div",kD,[f.hasOwnProperty("type")&&f.type==="date"?(D(),yt(a,{label:f.label,value:f.value,type:"datetime",key:f.name,id:f.name,name:f.name,onChange:r.onChange,range:f.range,required:!1,format:"MMMM DD YYYY, h:mm a",clearable:!1,disabled:!1,editable:!0,currentYearDate:!1,"time-picker-options":f.timeOptions,isDateSelector:!1,confirm:!0},null,8,["label","value","id","name","onChange","range","time-picker-options"])):(D(),yt(l,{key:f.name,id:f.name,name:f.name,apiEndpoint:f.url,elements:f.elements,multiple:f.isMultiple,label:n.lang(f.label),value:f.value,onChange:r.onChange,strlength:f.strlength,clearable:!!f.value},null,8,["id","name","apiEndpoint","elements","multiple","label","value","onChange","strlength","clearable"]))]))),256))]))),256))]),_:1},8,["title"])])}const sI=qt(SD,[["render",FD]]);function DD(n){const{first_name:t,email:e,user_name:s,departments:i,agent_tzone:r,last_name:a,ext:l}=n;let u={email:[e,"isRequired","isEmail"],first_name:[t,"isRequired",{"max(250)":"The name must be less than 250 characters long."}],user_name:[s,"isRequired"],departments:[i,"isRequired"],agent_tzone:[r,"isRequired"],last_name:[a,{"max(250)":"The name must be less than 250 characters long."}]};const d=new el(qr),{errors:f,isValid:g}=d.validate(u);return f.hasOwnProperty("user_name")&&f.user_name!=="This field is required"&&(f.user_name="Please type a valid user name"),nl.dispatch("setValidationError",f),{errors:f,isValid:g}}const ED={name:"create-update-agent",description:"Agent create and update page",props:{isCalledFromUserDirectoryPage:{type:Boolean,default:!1}},components:{"text-field":ua,"radio-button":qg,"dynamic-select":es,phoneWithCountryCode:$1,checkbox:mu},data:()=>({loading:!0,hasDataPopulated:!1,title:"create_an_agent",iconClass:"fas fa-save",submitButton:"save",agentId:0,first_name:"",last_name:"",user_name:"",email:"",ext:"",phone_number:"",country_code:null,mobile:"",phone_country_code:null,phone_iso:"",role:"admin",roleRadioOptions:[{name:"admin",value:"admin"},{name:"agent",value:"agent"}],teams:[],permissions:"",agent_sign:"",departments:[],type:[],location:"",agent_tzone:"",permissionsList:[],selectedPermissionList:[],selectedPermissionIdsSD:"",iso:"",sdAgentPermissions:[],phoneValidityStatus:{phone_number:!0,mobile:!0},showCcoId:!1,cco_id:""}),beforeMount(){this.getInitialValue()},created(){Ce.get("/api/plugin-status-check/SmartBonding").then(n=>{this.showCcoId=n.data.data.status}).catch(n=>{rn(n)}),window.emitter.on("selected-permission-list",n=>{this.selectedPermissionIdsSD=n})},computed:{getApiParameters(){return{department_ids:this.departments.map(n=>n.id)}},getDeptParameters(){return{team_ids:this.teams.map(n=>n.id)}},isPhoneValid(){return this.phoneValidityStatus.phone_number&&this.phoneValidityStatus.mobile}},methods:{onChange(n,t){this[t]=n,t==="role"&&n==="agent"&&(this.updatePermissions(),this.showSdPermissionListBox(this.sdAgentPermissions))},getCountCode(n){this.country_code=n},getCountIso(n){this.iso=n},getPCountCode(n){this.phone_country_code=n},getPCountIso(n){this.phone_iso=n},getInitialValue(){Ce.get("api/dependency/permissions?limit=all",{}).then(n=>{this.permissionsList=q1(n.data.data),this.updatePermissions(),this.isEditAgent(window.location.pathname)?this.agentEditMode():(this.showSdPermissionListBox(),this.hasDataPopulated=!0,this.loading=!1)}).catch(n=>{rn(n)})},updatePermissions(){this.permissionsList.forEach(function(n){n.checked=!1,n.disabled=!1,n.title="",n.key==="global_access"?n.title="Restricted access will be disabled if global access is checked.":n.key==="restricted_access"?n.title="Global access will be disabled if restricted access is checked.":n.key==="edit_articles_created_by_others"&&(n.disabled=!0)})},agentEditMode(){this.title="edit_an_agent",this.iconClass="fas fa-sync",this.submitButton="update",this.getAgentInfo(this.agentId)},getAgentInfo(n){this.loading=!0,Ce.get("/api/admin/agent/"+n).then(t=>{this.showCcoId=t.data.data.isCcoIdVisible,this.fillAgentInfo(t.data.data.agent)}).catch(t=>{rn(t),this.loading=!1,this.hasDataPopulated=!0})},fillAgentInfo(n){try{this.email=n.email?n.email:"",this.first_name=n.first_name?n.first_name:"",this.last_name=n.last_name?n.last_name:"",this.user_name=n.user_name?n.user_name:"",this.agent_sign=n.agent_sign?n.agent_sign:"",this.location=_n(n.location)?n.location:"",this.role=n.role?n.role:"",this.ext=n.ext?n.ext:"",this.country_code=n.country_code?n.country_code.id:null,this.phone_country_code=n.phone_country_code?n.phone_country_code.id:null,this.iso=n.iso?n.iso:this.iso,this.phone_iso=n.phone_iso?n.phone_iso:this.phone_iso,this.mobile=n.mobile&&n.mobile!=="Not available"?n.mobile:"",this.cco_id=this.showCcoId?n.cco_id:"",this.phone_number=n.phone_number&&n.phone_number!=="Not available"?n.phone_number:"",this.agent_sign=n.agent_sign?n.agent_sign:"",this.agent_tzone=n.agent_tzone?n.agent_tzone:"",this.type=n.type?n.type:"",this.departments=n.departments?n.departments:"",this.teams=n.teams?n.teams:"";var t=this,e=0,s=void 0;n.permissions.forEach(function(i,r,a){e++,(i.key==="global_access"||i.key==="restricted_access")&&(s=i.key),t.checkBoxOperations(!0,i.key,!0),e===a.length&&s&&t.handleGlobalResMode(!0,s)}),this.sdAgentPermissions=n.sd_permissions,this.showSdPermissionListBox(n.sd_permissions),this.loading=!1,this.hasDataPopulated=!0}catch(i){console.error("error in fillAgentInfo method ",i)}},checkBoxOperations(n,t,e){let s=this;this.permissionsList.forEach(function(i){if(i.key==t){i.checked=n;return}s.handleGlobalResMode(n,t)})},handleGlobalResMode(n,t){this.role==="agent"&&setTimeout(()=>{if(t=="global_access"||t=="restricted_access"){let e=t=="global_access"?"restricted_access":"global_access";this.permissionsList.find(s=>s.key==t).checked&&this.permissionsList.find(s=>s.key==e).checked&&(this.permissionsList.find(s=>s.key==e).checked=!1,this.permissionsList.find(s=>s.key==e).disabled=!0),document.getElementById(e).checked=!1,document.getElementById(e).disabled=n,document.getElementById("view_all_tickets").checked=!1,document.getElementById("view_all_tickets").disabled=n}else t=="access_kb"&&(this.permissionsList.find(e=>e.key=="access_kb").checked?document.getElementById("edit_articles_created_by_others").disabled=!1:(document.getElementById("edit_articles_created_by_others").disabled=!0,document.getElementById("edit_articles_created_by_others").checked=!1))},500)},isEditAgent(n){return n.indexOf("edit")>=0?(this.agentId=pu(n),!0):!1},checkValidity(n,t){this.phoneValidityStatus[n]=t},onSubmit(){if(this.agent_sign=this.getAgentSign(),this.isValidInputs()&&this.isPhoneValid){this.loading=!0;let n=this.getSubmitParams();Ce.post("api/admin/agent/",n).then(t=>{this.loading=!1,Es(t,"createUpdateAgent"),this.isCalledFromUserDirectoryPage||this.redirectToAgentListPage()}).catch(t=>{this.loading=!1,rn(t,"createUpdateAgent")})}},getSubmitParams(){let n={email:this.email,user_name:this.user_name,first_name:this.first_name,agent_tzone_id:this.agent_tzone?this.agent_tzone.id:"",role:this.role,department_ids:this.departments.map(t=>t.id),id:this.agentId,last_name:this.last_name,type_ids:this.type?this.type.map(t=>t.id):"",location_id:this.location?this.location.name:"",permission_ids:this.role==="agent"?this.permissionsList.filter(t=>t.checked).map(t=>t.id):[],team_ids:this.teams?this.teams.map(t=>t.id):"",agent_sign:this.agent_sign,ext:this.ext};return this.showCcoId&&(n.cco_id=this.cco_id||""),this.phone_country_code!==null&&(n.phone_number=this.phone_number,n.phone_country_code=this.phone_country_code,n.phone_iso=this.phone_iso),this.country_code!==null&&(n.mobile=this.mobile,n.country_code=this.country_code,n.iso=this.iso),this.selectedPermissionIdsSD&&(n.sd_permission_ids=this.role==="agent"?this.selectedPermissionIdsSD:[]),n},redirectToAgentListPage(){window.location.href.indexOf("user")>-1?window.location.href=window.axios.defaults.baseURL+"/panel/user":!this.agentId&&!window.location.href.includes("edit")&&setTimeout(()=>{this.$router.push({name:"Agents Index"})},3e3)},getAgentSign(){return this.agent_sign},isValidInputs(){const{errors:n,isValid:t}=DD(this.$data);return t},showSdPermissionListBox(n){window.emitter.emit("permission-list-box-mounted",n)},validateExtension(){this.ext=this.ext.replace(/[^0-9]/g,"")}}},AD={class:"col-sm-12"},TD={key:0,class:"row"},MD={class:"row"},PD={class:"row"},ID={class:"row"},RD={class:"row"},LD={class:"row"},ND={class:"row"},BD={class:"card-footer"};function VD(n,t,e,s,i,r){const a=st("custom-loader"),l=st("alert"),u=st("text-field"),d=st("dynamic-select"),f=st("phoneWithCountryCode"),g=st("faveo-box"),p=st("radio-button"),v=st("checkbox"),b=st("tiny-editor"),y=xn("focus-first-input");return D(),M("div",AD,[n.loading?(D(),M("div",TD,[Q(a,{duration:4e3})])):K("",!0),Q(l,{componentName:"createUpdateAgent"}),n.hasDataPopulated?(D(),yt(g,{key:1,title:n.lang(n.title),id:"form-main-box",boxClass:"card-light"},{actions:bt(()=>[O("div",BD,[O("button",{id:"agent-submit",class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...S)=>r.onSubmit&&r.onSubmit(...S))},[O("span",{class:te(n.iconClass),id:"submit-btn"},null,2),at("  "+H(n.lang(n.submitButton)),1)])])]),default:bt(()=>[Q(g,{title:n.lang("agent_info"),boxClass:"card-light"},{default:bt(()=>[At((D(),M("div",MD,[Q(u,{id:"email",label:n.lang("email"),type:"text",name:"email",classname:"col-sm-6",value:n.email,onChange:r.onChange,placehold:n.lang("enter_a_value"),required:!0,defaultKey:"email"},null,8,["label","value","onChange","placehold"]),Q(u,{id:"user_name",label:n.lang("user_name"),type:"text",name:"user_name",classname:"col-sm-6",value:n.user_name,onChange:r.onChange,placehold:n.lang("enter_a_value"),defaultKey:"user_name",required:!0},null,8,["label","value","onChange","placehold"])])),[[y]]),O("div",PD,[Q(u,{id:"first_name",label:n.lang("firstname"),type:"text",name:"first_name",classname:"col-sm-4",value:n.first_name,onChange:r.onChange,placehold:n.lang("enter_a_value"),required:!0},null,8,["label","value","onChange","placehold"]),Q(u,{id:"last_name",label:n.lang("lastname"),type:"text",name:"last_name",classname:"col-sm-4",onChange:r.onChange,placehold:n.lang("enter_a_value"),value:n.last_name,required:!1},null,8,["label","onChange","placehold","value"]),Q(d,{id:"location",name:"location",classname:"col-sm-4",apiEndpoint:"/api/dependency/locations",multiple:!1,label:n.lang("location"),value:n.location,required:!1,onChange:r.onChange},null,8,["label","value","onChange"])]),O("div",ID,[Q(f,{id:"phone_number",classname:"col-sm-4",name:"phone_number",onChange:r.onChange,value:n.phone_number,countryCode:n.phone_country_code,countryIso:n.phone_iso,onCountCode:r.getPCountCode,onCountIso:r.getPCountIso,labelName:"phone_number",apiUrl:"/api/dependency/country-codes?time="+Date.now(),onValidPhoneNumber:r.checkValidity,fieldType:"FIXED_LINE_OR_MOBILE"},null,8,["onChange","value","countryCode","countryIso","onCountCode","onCountIso","apiUrl","onValidPhoneNumber"]),Q(u,{id:"ext",label:n.lang("ext"),type:"number",name:"ext",class:"col-sm-2",value:n.ext,onChange:r.onChange,placehold:n.lang("enter_a_value"),onInput:r.validateExtension},null,8,["label","value","onChange","placehold","onInput"]),Q(f,{id:"mobile",classname:"col-sm-4",name:"mobile",onChange:r.onChange,value:n.mobile,countryCode:n.country_code,countryIso:n.iso,onCountCode:r.getCountCode,onCountIso:r.getCountIso,onValidPhoneNumber:r.checkValidity,fieldType:"FIXED_LINE_OR_MOBILE"},null,8,["onChange","value","countryCode","countryIso","onCountCode","onCountIso","onValidPhoneNumber"]),Q(d,{id:"time-zone",name:"agent_tzone",classname:"col-sm-4",apiEndpoint:"/api/dependency/time-zones",label:n.lang("agent_time_zone"),value:n.agent_tzone,required:!0,multiple:!1,onChange:r.onChange},null,8,["label","value","onChange"]),n.showCcoId?(D(),yt(u,{key:0,id:"cco_id",classname:"col-sm-4",label:n.lang("cco_id"),type:"text",name:"cco_id",value:n.cco_id,onChange:r.onChange,placehold:n.lang("enter_a_value")},null,8,["label","value","onChange","placehold"])):K("",!0)])]),_:1},8,["title"]),Q(g,{title:n.lang("account_status_setting"),boxClass:"card-light"},{default:bt(()=>[O("div",RD,[Q(d,{id:"departments",name:"departments",classname:"col-sm-6",removeVal:!1,apiEndpoint:"/api/dependency/departments",label:n.lang("department"),hint:n.lang("primary_department"),value:n.departments,required:!0,multiple:!0,onChange:r.onChange,"api-parameters":r.getDeptParameters},null,8,["label","hint","value","onChange","api-parameters"]),Q(p,{id:"role",name:"role",classname:"form-group col-sm-6",options:n.lang(n.roleRadioOptions),label:n.lang("role"),value:n.role,onChange:r.onChange},null,8,["options","label","value","onChange"])]),O("div",LD,[Q(d,{id:"teams",name:"teams",classname:"col-sm-6",apiEndpoint:"/api/dependency/teams",label:n.lang("team"),hint:n.lang("assigned_team"),value:n.teams,required:!1,multiple:!0,onChange:r.onChange,"api-parameters":r.getApiParameters,removeVal:!1},null,8,["label","hint","value","onChange","api-parameters"]),Q(d,{id:"type",name:"type",classname:"col-sm-6",apiEndpoint:"/api/dependency/types",label:n.lang("type"),hint:n.lang("ticket_type"),value:n.type,onChange:r.onChange,required:!1,multiple:!0},null,8,["label","hint","value","onChange"])])]),_:1},8,["title"]),n.role==="agent"?(D(),M(St,{key:0},[Q(g,{title:n.lang("access-permissions"),boxClass:"card-light"},{default:bt(()=>[O("div",ND,[(D(!0),M(St,null,ze(n.permissionsList,S=>(D(),M("div",{class:"col-sm-4",id:"assign_groups",key:S.id},[Q(v,{name:S.key,value:S.checked,disabled:S.disabled,label:S.key,title:S.name,onChange:r.checkBoxOperations,id:S.key},null,8,["name","value","disabled","label","title","onChange","id"])]))),128))])]),_:1},8,["title"]),t[1]||(t[1]=O("div",{id:"permission-list-box"},null,-1))],64)):K("",!0),Q(g,{title:n.lang("agent_sign"),boxClass:"card-light"},{default:bt(()=>[O("div",null,[Q(b,{value:n.agent_sign,type:"text",onChange:r.onChange,name:"agent_sign",label:"",lang:"en",width:"100%",id:"agent-update-editor"},null,8,["value","onChange"])])]),_:1},8,["title"])]),_:1},8,["title"])):K("",!0)])}const rI=qt(ED,[["render",VD]]);const jD={name:"agent-tickets-table",description:"Agent panel tickets page",setup(){const n=la();return{formattedTime:ir(()=>n.getters.formattedTime)}},props:{id:{type:[Number,String],default:""},category:{type:String,default:"inbox"},tickets:{type:Function,default:()=>[]},allTickets:{type:Function,default:()=>[]},apiUrl:{type:String,default:""},componentTitle:{type:String,default:""},scroll_to:{type:String,default:""},isCalledFromAdmin:{type:Boolean,default:!1},disableLoader:{type:Boolean,default:!1}},data(){return{selectedTickets:this.tickets,options:{},tableData:[]}},beforeMount(){const n=this;this.options={sortIcon:{base:"glyphicon",up:"glyphicon-chevron-down",down:"glyphicon-chevron-up"},headings:{id:this.trans("id"),title:this.trans("subject"),ticket_number:this.trans("ticket_id"),user:this.trans("requester"),assign_to:this.trans("assign_to"),updated_at:this.trans("last_activity")},columnsClasses:{id:"ticket-id",title:"ticket-title",ticket_number:"ticket-number",user:"ticket-user",assign_to:"ticket-assign",updated_at:"ticket-updated"},texts:{filter:"",limit:""},templates:{title:function(t,e){return n.isCalledFromAdmin?n.h("a",{target:"_blank",href:n.basePath()+"/panel/thread/"+e.id},(e.title?e.title:" ")+"("+e.thread_count+")"):n.h(wc,{to:"/thread/"+e.id},(e.title?e.title:" ")+"("+e.thread_count+")")},updated_at(t,e){return n.formattedTime(e.updated_at)},user:function(t,e){return n.isCalledFromAdmin?n.h("a",{target:"_blank",href:n.basePath()+"/panel/user/"+e.from.id},e.from.full_name?e.from.full_name:e.from.user_name):n.h(wc,{to:"/user/"+e.from.id},e.from.full_name?e.from.full_name:e.from.user_name)},assign_to:function(t,e){return n.h("p",e.assigned?e.assigned.full_name:Array.isArray(e.assigned_team)?"---":e.assigned_team.name)},ticket_number:function(t,e){return n.isCalledFromAdmin?n.h("a",{target:"_blank",href:n.basePath()+"/panel/thread/"+e.id},[n.h("span",{innerHTML:"#"+e.ticket_number})]):n.h(wc,{to:"/thread/"+e.id},[n.h("span",{innerHTML:"#"+e.ticket_number})])}},sortable:["ticket_number","updated_at"],filterable:["ticket_number","updated_at"],pagination:{chunk:5,nav:"fixed",edge:!0},requestAdapter(t){return{"sort-field":t.orderBy?t.orderBy:"updated_at","sort-order":t.ascending?"desc":"asc","search-query":t.query.trim(),page:t.page,limit:t.limit}},responseAdapter({data:t}){return n.tableData=t.data,n.allTickets(t.data.tickets),{data:t.data.tickets.map(e=>e),count:t.data.total}},orderBy:{column:"updated_at",ascending:!0}}},computed:{columns(){return this.tableData.length===0?["ticket_number","title","user","assign_to","updated_at"]:["id","ticket_number","title","user","assign_to","updated_at"]}},methods:{handelLoader(n){this.$emit("loaderValue",n)}}};function zD(n,t,e,s,i,r){const a=st("data-table");return D(),yt(a,{url:e.apiUrl,dataColumns:r.columns,onLoaderState:r.handelLoader,option:i.options,tickets:e.tickets,scroll_to:e.scroll_to,disableLoader:e.disableLoader,componentTitle:e.componentTitle},null,8,["url","dataColumns","onLoaderState","option","tickets","scroll_to","disableLoader","componentTitle"])}const aI=qt(jD,[["render",zD]]);function UD(n){const{commnetValue:t}=n;let e={commnetValue:[t,"isRequired"]};const s=new el(qr),{errors:i,isValid:r}=s.validate(e);return nl.dispatch("setValidationError",i),{errors:i,isValid:r}}const WD={name:"change-status-modal",description:"Change status Modal component",props:{showModal:{type:Boolean,default:!1},ticketIds:{type:Array,default:()=>[]},status:{type:Object,default:()=>{}},onClose:{type:Function,default:()=>{}},componentTitle:{type:String,default:"UserTickets"},reloadTickets:{type:Function,default:()=>{}},label:{type:Boolean,default:!1}},data:()=>({isDisabled:!1,containerStyle:{width:"800px"},loading:!1,commnetValue:"",checked:!1}),methods:{isValid(){const{errors:n,isValid:t}=UD(this.$data);return!!t},validate(){this.status.comment?this.isValid()&&this.onSubmit():this.onSubmit()},onSubmit(){this.loading=!0,this.isDisabled=!0;const n=Date.now().toString();Ce.post("/ticket/change-status/"+this.ticketIds+"/"+this.status.id,{comment:this.commnetValue,"as-reply":this.checked,uniqueKey:n}).then(t=>{this.loading=!1,this.isDisabled=!0,this.reloadTickets("status"),Es(t,this.componentTitle),window.emitter.emit(this.componentTitle+"refreshData"),window.emitter.emit(this.componentTitle+"uncheckCheckbox"),window.emitter.emit("refreshUserReport"),window.emitter.emit("refreshOrgReport"),this.onClose()}).catch(t=>{this.loading=!1,this.isDisabled=!1,(this.componentTitle==="inbox"||this.componentTitle==="timeline")&&t.response.status===302?(this.onClose(),window.emitter.emit("showEditTicketModal"+this.componentTitle,"status"),this.$store.dispatch("setAlert",{type:"danger",message:t.response.data.message,component_name:"faveo-form"})):(rn(t,this.componentTitle),this.onClose())})},onChange(n,t){this[t]=n}},components:{"text-field":ua}},HD={class:"modal-title"},YD={class:"row"},KD={key:0,class:"ms-1 p-1"},GD={key:0,class:"is-danger"},XD={class:"col-sm-12"},ZD=["disabled"];function JD(n,t,e,s,i,r){const a=st("alert"),l=st("tiny-editor-with-validation"),u=st("custom-loader"),d=st("modal"),f=xn("focus-first-input");return e.showModal?(D(),yt(d,{key:0,showModal:e.showModal,onClose:e.onClose,containerStyle:n.containerStyle},{title:bt(()=>[O("h4",HD,H(n.lang("change_status_confirmation")+" "+e.status.name+"?"),1)]),alert:bt(()=>[Q(a,{componentName:"ticket-change-status-modal"})]),fields:bt(()=>[At((D(),M("div",YD,[e.label?(D(),M("strong",KD,[at(H(n.lang(e.status.comment?"leave_comment_status_change_required":"leave_comment_status_change_optional")),1),e.status.comment?(D(),M("span",GD,"*")):K("",!0)])):K("",!0),Q(l,{id:"commnetValue",name:"commnetValue",value:n.commnetValue,label:n.lang(e.status.comment?"leave_comment_status_change_required":"leave_comment_status_change_optional"),onChange:r.onChange,required:!!e.status.comment,mediaOption:!1,classname:"col-sm-12"},null,8,["value","label","onChange","required"])])),[[f]]),O("div",XD,[At(O("input",{class:"checkbox_align",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=g=>n.checked=g)},null,512),[[$g,n.checked]]),at(" "+H(n.lang("post_comment_as_reply")),1)]),n.loading?(D(),yt(u,{key:0,duration:4e3})):K("",!0)]),controls:bt(()=>[O("button",{id:"submit_btn",type:"button",onClick:t[1]||(t[1]=g=>r.validate()),class:"btn btn-primary",disabled:n.isDisabled},[t[2]||(t[2]=O("i",{class:"fa fa-check","aria-hidden":"true"},null,-1)),at(" "+H(n.lang("proceed")),1)],8,ZD)]),_:1},8,["showModal","onClose","containerStyle"])):K("",!0)}const oI=qt(WD,[["render",JD],["__scopeId","data-v-5733a52c"]]);function QD(n){const{title:t,parentTicket:e}=n;let s={parentTicket:[e,"isRequired"],title:[t,"isRequired"]};const i=new el(qr),{errors:r,isValid:a}=i.validate(s);return nl.dispatch("setValidationError",r),{errors:r,isValid:a}}const $D={name:"merge-ticket-modal",description:"Merge Ticket Modal component",props:{showModal:{type:Boolean,default:!1},parent_tickets:{type:Array,default:()=>[]},ticketIds:{type:Array,default:()=>[]},onClose:{type:Function,default:()=>{}},componentTitle:{type:String,default:"UserTickets"},reloadTickets:{type:Function,default:()=>{}}},data:()=>({isDisabled:!1,containerStyle:{width:"840px"},loading:!1,size:60,lang_locale:"",merge_reason:"",title:"",parentTicket:"",mergerTickets_CC:!1}),created(){this.lang_locale=localStorage.getItem("LANGUAGE")},computed:{getApiParameters(){return{"ticket-ids":this.ticketIds}}},methods:{isValid(){const{errors:n,isValid:t}=QD(this.$data);return!!t},onChange(n,t){t==="parentTicket"?(this.title=n.name,this.parentTicket=n):this[t]=n},onSubmit(){if(this.isValid()){this.loading=!0,this.isDisabled=!0;const n=this.parentTicket?this.parentTicket.ticket_id:null;Ce.post("/merge-tickets/"+this.ticketIds,{p_id:n,title:this.title,reason:this.merge_reason,mergerTickets_CC:this.mergerTickets_CC,_method:"PATCH"}).then(t=>{this.loading=!1,this.isDisabled=!0,this.reloadTickets(),Es(t,this.componentTitle),window.emitter.emit(this.componentTitle+"refreshData"),window.emitter.emit(this.componentTitle+"uncheckCheckbox"),window.emitter.emit("refreshUserReport"),window.emitter.emit("refreshOrgReport"),window.emitter.emit("closeTimelineView"),this.onClose()}).catch(t=>{this.loading=!1,this.isDisabled=!1,rn(t,this.componentTitle),this.onClose()})}}},components:{DynamicSelect:es,"text-field":ua,"static-select":tS,checkbox:mu}},qD={class:"modal-title"},tE={key:0},eE={class:"row"},nE={class:"row"},iE={class:"row"},sE={class:"col-sm-6"},rE={key:1,class:"row"},aE=["disabled"];function oE(n,t,e,s,i,r){const a=st("dynamic-select"),l=st("text-field"),u=st("checkbox"),d=st("reuse-loader"),f=st("modal");return e.showModal?(D(),yt(f,{key:0,showModal:e.showModal,onClose:e.onClose,containerStyle:n.containerStyle},{title:bt(()=>[O("h4",qD,H(n.lang("merge-ticket")),1)]),fields:bt(()=>[n.loading?K("",!0):(D(),M("div",tE,[O("div",eE,[Q(a,{"api-parameters":r.getApiParameters,optionLabel:"title",label:n.lang("select-pparent-ticket"),hint:n.trans("parent_ticket_tooltip_merge"),required:!0,name:"parentTicket",classname:"col-sm-6","api-endpoint":"/api/agent/tickets/get-merge-tickets",value:n.parentTicket,onChange:r.onChange,strlength:"25"},null,8,["api-parameters","label","hint","value","onChange"]),Q(l,{label:n.lang("subject"),value:n.title,type:"text",name:"title",onChange:r.onChange,placehold:n.lang("enter_a_value"),classname:"col-sm-6",required:!0},null,8,["label","value","onChange","placehold"])]),O("div",nE,[Q(l,{label:n.lang("merge-reason"),value:n.merge_reason,type:"textarea",name:"merge_reason",onChange:r.onChange,placehold:n.lang("enter_a_value"),classname:"col-sm-12"},null,8,["label","value","onChange","placehold"])]),O("div",iE,[O("div",sE,[Q(u,{id:"mergerTickets_CC",name:"mergerTickets_CC",value:n.mergerTickets_CC,label:n.trans("tickets_recipients_to_cc"),onChange:r.onChange,classname:"col-sm-12"},null,8,["value","label","onChange"])])])])),n.loading?(D(),M("div",rE,[Q(d,{"animation-duration":4e3,color:"#1d78ff",size:n.size,class:te({spin:n.lang_locale=="ar"})},null,8,["size","class"])])):K("",!0)]),controls:bt(()=>[O("button",{type:"button",id:"submit_btn",onClick:t[0]||(t[0]=(...g)=>r.onSubmit&&r.onSubmit(...g)),class:"btn btn-primary",disabled:n.isDisabled},[t[1]||(t[1]=O("i",{class:"fa fa-check"},null,-1)),at(" "+H(n.lang("proceed")),1)],8,aE)]),_:1},8,["showModal","onClose","containerStyle"])):K("",!0)}const lI=qt($D,[["render",oE],["__scopeId","data-v-eb97d97f"]]);const lE={name:"assign-ticket-modal",description:"Assign ticket Modal component",props:{showModal:{type:Boolean,default:!1},ticketIds:{type:Array,default:()=>[]},tickets:{type:Array,default:()=>[]},onClose:{type:Function,default:()=>{}},componentTitle:{type:String,default:"UserTickets"},reloadTickets:{type:Function,default:()=>{}},deptId:{type:[String,Number],default:""},teamId:{type:[String,Number],default:""}},data:()=>({isDisabled:!0,containerStyle:{width:"800px"},loading:!1,size:60,assign_to:"",assign:"agents",radioOptions:[{name:"agent",value:"agents"},{name:"team",value:"teams"},{name:"assign_to_me",value:"assign_to_me"}],assignChange:!1}),computed:{getApiParameters(){let n={};if(n["supplements[ticket_id]"]=this.ticketIds,n["supplements[no_email]"]=1,this.deptId&&(n["department_ids[]"]=this.deptId),this.teamId&&(n.team_id=this.teamId),this.tickets.length){let t=this.tickets.filter(e=>this.ticketIds.includes(e.id)).map(e=>e.department.id);n.department_ids=t.filter((e,s)=>t.indexOf(e)===s)}return n}},methods:{onChange(n,t){this[t]=n,t==="assign"&&(this.assignChange=!0,setTimeout(()=>{this.assignChange=!1},1),this.assign_to=n!="assign_to_me"?"":{id:sessionStorage.getItem("user_id")},this.isDisabled=n!="assign_to_me"),t==="assign_to"&&(this.isDisabled=!n)},onSubmit(){this.loading=!0,this.isDisabled=!0;var n={assign_to:this.assign==="teams"?"team_"+this.assign_to.id:"user_"+this.assign_to.id,_method:"PATCH"};Ce.post("/ticket/assign?ticket_id="+this.ticketIds,n).then(t=>{this.loading=!1,this.isDisabled=!0,this.reloadTickets("assign"),Es(t,this.componentTitle),window.emitter.emit(this.componentTitle+"refreshData"),window.emitter.emit(this.componentTitle+"uncheckCheckbox"),window.emitter.emit("refreshUserReport"),window.emitter.emit("refreshOrgReport"),this.onClose()}).catch(t=>{this.loading=!1,this.isDisabled=!1,rn(t,this.componentTitle),this.onClose()})}},components:{"dynamic-select":es,"radio-button":qg}},cE={class:"modal-title"},uE={key:0,class:"row"},dE={key:0,id:"assign_change"},fE={key:1,class:"row"},hE=["disabled"];function gE(n,t,e,s,i,r){const a=st("radio-button"),l=st("loader"),u=st("dynamic-select"),d=st("reuse-loader"),f=st("modal");return e.showModal?(D(),yt(f,{key:0,showModal:e.showModal,onClose:e.onClose,containerStyle:n.containerStyle},{title:bt(()=>[O("h4",cE,H(n.lang("assign_tickets")),1)]),fields:bt(()=>[n.loading?K("",!0):(D(),M("div",uE,[Q(a,{options:n.radioOptions,label:n.lang("assign_to"),name:"assign",value:n.assign,onChange:r.onChange,classname:"form-group col-sm-4"},null,8,["options","label","value","onChange"]),n.assignChange?(D(),M("div",dE,[Q(l,{size:30,duration:4e3,color:"#1d78ff"})])):K("",!0),!n.assignChange&&n.assign!="assign_to_me"?(D(),yt(u,{key:1,label:n.lang("whome_do_you_want_to_assign_ticket"),multiple:!1,name:"assign_to",classname:"col-sm-8","api-endpoint":"api/dependency/"+n.assign+(n.assign=="teams"?"?meta=true":""),"api-parameters":r.getApiParameters,value:n.assign_to,onChange:r.onChange,strlength:"65"},null,8,["label","api-endpoint","api-parameters","value","onChange"])):K("",!0)])),n.loading?(D(),M("div",fE,[Q(d,{"animation-duration":4e3,color:"#1d78ff",size:n.size},null,8,["size"])])):K("",!0)]),controls:bt(()=>[O("button",{type:"button",onClick:t[0]||(t[0]=g=>r.onSubmit()),class:"btn btn-primary",id:"submit_btn",disabled:n.isDisabled},[t[1]||(t[1]=O("i",{class:"far fa-hand-point-right"},null,-1)),at(" "+H(n.lang("assign")),1)],8,hE)]),_:1},8,["showModal","onClose","containerStyle"])):K("",!0)}const cI=qt(lE,[["render",gE]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function ha(n){return n+.5|0}const Xi=(n,t,e)=>Math.max(Math.min(n,e),t);function Nr(n){return Xi(ha(n*2.55),0,255)}function $i(n){return Xi(ha(n*255),0,255)}function Ei(n){return Xi(ha(n/2.55)/100,0,1)}function Oh(n){return Xi(ha(n*100),0,100)}const Gn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},$c=[..."0123456789ABCDEF"],pE=n=>$c[n&15],mE=n=>$c[(n&240)>>4]+$c[n&15],uo=n=>(n&240)>>4===(n&15),vE=n=>uo(n.r)&&uo(n.g)&&uo(n.b)&&uo(n.a);function bE(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Gn[n[1]]*17,g:255&Gn[n[2]]*17,b:255&Gn[n[3]]*17,a:t===5?Gn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Gn[n[1]]<<4|Gn[n[2]],g:Gn[n[3]]<<4|Gn[n[4]],b:Gn[n[5]]<<4|Gn[n[6]],a:t===9?Gn[n[7]]<<4|Gn[n[8]]:255})),e}const yE=(n,t)=>n<255?t(n):"";function _E(n){var t=vE(n)?pE:mE;return n?"#"+t(n.r)+t(n.g)+t(n.b)+yE(n.a,t):void 0}const xE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hp(n,t,e){const s=t*Math.min(e,1-e),i=(r,a=(r+n/30)%12)=>e-s*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function SE(n,t,e){const s=(i,r=(i+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function wE(n,t,e){const s=hp(n,1,.5);let i;for(t+e>1&&(i=1/(t+e),t*=i,e*=i),i=0;i<3;i++)s[i]*=1-t-e,s[i]+=t;return s}function CE(n,t,e,s,i){return n===i?(t-e)/s+(t<e?6:0):t===i?(e-n)/s+2:(n-t)/s+4}function xu(n){const e=n.r/255,s=n.g/255,i=n.b/255,r=Math.max(e,s,i),a=Math.min(e,s,i),l=(r+a)/2;let u,d,f;return r!==a&&(f=r-a,d=l>.5?f/(2-r-a):f/(r+a),u=CE(e,s,i,f,r),u=u*60+.5),[u|0,d||0,l]}function Su(n,t,e,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,s)).map($i)}function wu(n,t,e){return Su(hp,n,t,e)}function kE(n,t,e){return Su(wE,n,t,e)}function OE(n,t,e){return Su(SE,n,t,e)}function gp(n){return(n%360+360)%360}function FE(n){const t=xE.exec(n);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?Nr(+t[5]):$i(+t[5]));const i=gp(+t[2]),r=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?s=kE(i,r,a):t[1]==="hsv"?s=OE(i,r,a):s=wu(i,r,a),{r:s[0],g:s[1],b:s[2],a:e}}function DE(n,t){var e=xu(n);e[0]=gp(e[0]+t),e=wu(e),n.r=e[0],n.g=e[1],n.b=e[2]}function EE(n){if(!n)return;const t=xu(n),e=t[0],s=Oh(t[1]),i=Oh(t[2]);return n.a<255?`hsla(${e}, ${s}%, ${i}%, ${Ei(n.a)})`:`hsl(${e}, ${s}%, ${i}%)`}const Fh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Dh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function AE(){const n={},t=Object.keys(Dh),e=Object.keys(Fh);let s,i,r,a,l;for(s=0;s<t.length;s++){for(a=l=t[s],i=0;i<e.length;i++)r=e[i],l=l.replace(r,Fh[r]);r=parseInt(Dh[a],16),n[l]=[r>>16&255,r>>8&255,r&255]}return n}let fo;function TE(n){fo||(fo=AE(),fo.transparent=[0,0,0,0]);const t=fo[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const ME=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function PE(n){const t=ME.exec(n);let e=255,s,i,r;if(t){if(t[7]!==s){const a=+t[7];e=t[8]?Nr(a):Xi(a*255,0,255)}return s=+t[1],i=+t[3],r=+t[5],s=255&(t[2]?Nr(s):Xi(s,0,255)),i=255&(t[4]?Nr(i):Xi(i,0,255)),r=255&(t[6]?Nr(r):Xi(r,0,255)),{r:s,g:i,b:r,a:e}}}function IE(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ei(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Ic=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Qs=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function RE(n,t,e){const s=Qs(Ei(n.r)),i=Qs(Ei(n.g)),r=Qs(Ei(n.b));return{r:$i(Ic(s+e*(Qs(Ei(t.r))-s))),g:$i(Ic(i+e*(Qs(Ei(t.g))-i))),b:$i(Ic(r+e*(Qs(Ei(t.b))-r))),a:n.a+e*(t.a-n.a)}}function ho(n,t,e){if(n){let s=xu(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=wu(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function pp(n,t){return n&&Object.assign(t||{},n)}function Eh(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=$i(n[3]))):(t=pp(n,{r:0,g:0,b:0,a:1}),t.a=$i(t.a)),t}function LE(n){return n.charAt(0)==="r"?PE(n):FE(n)}class ta{constructor(t){if(t instanceof ta)return t;const e=typeof t;let s;e==="object"?s=Eh(t):e==="string"&&(s=bE(t)||TE(t)||LE(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=pp(this._rgb);return t&&(t.a=Ei(t.a)),t}set rgb(t){this._rgb=Eh(t)}rgbString(){return this._valid?IE(this._rgb):void 0}hexString(){return this._valid?_E(this._rgb):void 0}hslString(){return this._valid?EE(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,i=t.rgb;let r;const a=e===r?.5:e,l=2*a-1,u=s.a-i.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;r=1-d,s.r=255&d*s.r+r*i.r+.5,s.g=255&d*s.g+r*i.g+.5,s.b=255&d*s.b+r*i.b+.5,s.a=a*s.a+(1-a)*i.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=RE(this._rgb,t._rgb,e)),this}clone(){return new ta(this.rgb)}alpha(t){return this._rgb.a=$i(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=ha(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ho(this._rgb,2,t),this}darken(t){return ho(this._rgb,2,-t),this}saturate(t){return ho(this._rgb,1,t),this}desaturate(t){return ho(this._rgb,1,-t),this}rotate(t){return DE(this._rgb,t),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Oi(){}const NE=(()=>{let n=0;return()=>n++})();function $t(n){return n==null}function be(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Xt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Me(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Mn(n,t){return Me(n)?n:t}function Lt(n,t){return typeof n>"u"?t:n}const BE=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,mp=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ge(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function oe(n,t,e,s){let i,r,a;if(be(n))if(r=n.length,s)for(i=r-1;i>=0;i--)t.call(e,n[i],i);else for(i=0;i<r;i++)t.call(e,n[i],i);else if(Xt(n))for(a=Object.keys(n),r=a.length,i=0;i<r;i++)t.call(e,n[a[i]],a[i])}function Yo(n,t){let e,s,i,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,s=n.length;e<s;++e)if(i=n[e],r=t[e],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Ko(n){if(be(n))return n.map(Ko);if(Xt(n)){const t=Object.create(null),e=Object.keys(n),s=e.length;let i=0;for(;i<s;++i)t[e[i]]=Ko(n[e[i]]);return t}return n}function vp(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function VE(n,t,e,s){if(!vp(n))return;const i=t[n],r=e[n];Xt(i)&&Xt(r)?ea(i,r,s):t[n]=Ko(r)}function ea(n,t,e){const s=be(t)?t:[t],i=s.length;if(!Xt(n))return n;e=e||{};const r=e.merger||VE;let a;for(let l=0;l<i;++l){if(a=s[l],!Xt(a))continue;const u=Object.keys(a);for(let d=0,f=u.length;d<f;++d)r(u[d],n,a,e)}return n}function Xr(n,t){return ea(n,t,{merger:jE})}function jE(n,t,e){if(!vp(n))return;const s=t[n],i=e[n];Xt(s)&&Xt(i)?Xr(s,i):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Ko(i))}const Ah={"":n=>n,x:n=>n.x,y:n=>n.y};function zE(n){const t=n.split("."),e=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function UE(n){const t=zE(n);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function qi(n,t){return(Ah[t]||(Ah[t]=UE(t)))(n)}function Cu(n){return n.charAt(0).toUpperCase()+n.slice(1)}const na=n=>typeof n<"u",ts=n=>typeof n=="function",Th=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function WE(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const _e=Math.PI,ye=2*_e,HE=ye+_e,Go=Number.POSITIVE_INFINITY,YE=_e/180,Le=_e/2,vs=_e/4,Mh=_e*2/3,Zi=Math.log10,pi=Math.sign;function Zr(n,t,e){return Math.abs(n-t)<e}function Ph(n){const t=Math.round(n);n=Zr(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Zi(n))),s=n/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function KE(n){const t=[],e=Math.sqrt(n);let s;for(s=1;s<e;s++)n%s===0&&(t.push(s),t.push(n/s));return e===(e|0)&&t.push(e),t.sort((i,r)=>i-r).pop(),t}function rr(n){return!isNaN(parseFloat(n))&&isFinite(n)}function GE(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function bp(n,t,e){let s,i,r;for(s=0,i=n.length;s<i;s++)r=n[s][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function ri(n){return n*(_e/180)}function ku(n){return n*(180/_e)}function Ih(n){if(!Me(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function yp(n,t){const e=t.x-n.x,s=t.y-n.y,i=Math.sqrt(e*e+s*s);let r=Math.atan2(s,e);return r<-.5*_e&&(r+=ye),{angle:r,distance:i}}function qc(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function XE(n,t){return(n-t+HE)%ye-_e}function Pn(n){return(n%ye+ye)%ye}function ia(n,t,e,s){const i=Pn(n),r=Pn(t),a=Pn(e),l=Pn(r-i),u=Pn(a-i),d=Pn(i-r),f=Pn(i-a);return i===r||i===a||s&&r===a||l>u&&d<f}function Ge(n,t,e){return Math.max(t,Math.min(e,n))}function ZE(n){return Ge(n,-32768,32767)}function Ai(n,t,e,s=1e-6){return n>=Math.min(t,e)-s&&n<=Math.max(t,e)+s}function Ou(n,t,e){e=e||(a=>n[a]<t);let s=n.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,e(r)?i=r:s=r;return{lo:i,hi:s}}const Ti=(n,t,e,s)=>Ou(n,e,s?i=>{const r=n[i][t];return r<e||r===e&&n[i+1][t]===e}:i=>n[i][t]<e),JE=(n,t,e)=>Ou(n,e,s=>n[s][t]>=e);function QE(n,t,e){let s=0,i=n.length;for(;s<i&&n[s]<t;)s++;for(;i>s&&n[i-1]>e;)i--;return s>0||i<n.length?n.slice(s,i):n}const _p=["push","pop","shift","splice","unshift"];function $E(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),_p.forEach(e=>{const s="_onData"+Cu(e),i=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const a=i.apply(this,r);return n._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...r)}),a}})})}function Rh(n,t){const e=n._chartjs;if(!e)return;const s=e.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(_p.forEach(r=>{delete n[r]}),delete n._chartjs)}function xp(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Sp=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function wp(n,t){let e=[],s=!1;return function(...i){e=i,s||(s=!0,Sp.call(window,()=>{s=!1,n.apply(t,e)}))}}function qE(n,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(n,t,s)):n.apply(this,s),t}}const Fu=n=>n==="start"?"left":n==="end"?"right":"center",nn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,tA=(n,t,e,s)=>n===(s?"left":"right")?e:n==="center"?(t+e)/2:t;function Cp(n,t,e){const s=t.length;let i=0,r=s;if(n._sorted){const{iScale:a,_parsed:l}=n,u=a.axis,{min:d,max:f,minDefined:g,maxDefined:p}=a.getUserBounds();g&&(i=Ge(Math.min(Ti(l,u,d).lo,e?s:Ti(t,u,a.getPixelForValue(d)).lo),0,s-1)),p?r=Ge(Math.max(Ti(l,a.axis,f,!0).hi+1,e?0:Ti(t,u,a.getPixelForValue(f),!0).hi+1),i,s)-i:r=s-i}return{start:i,count:r}}function kp(n){const{xScale:t,yScale:e,_scaleRanges:s}=n,i={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return n._scaleRanges=i,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,i),r}const go=n=>n===0||n===1,Lh=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ye/e)),Nh=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ye/e)+1,Jr={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Le)+1,easeOutSine:n=>Math.sin(n*Le),easeInOutSine:n=>-.5*(Math.cos(_e*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>go(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>go(n)?n:Lh(n,.075,.3),easeOutElastic:n=>go(n)?n:Nh(n,.075,.3),easeInOutElastic(n){return go(n)?n:n<.5?.5*Lh(n*2,.1125,.45):.5+.5*Nh(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Jr.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Jr.easeInBounce(n*2)*.5:Jr.easeOutBounce(n*2-1)*.5+.5};function Du(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Bh(n){return Du(n)?n:new ta(n)}function Rc(n){return Du(n)?n:new ta(n).saturate(.5).darken(.1).hexString()}const eA=["x","y","borderWidth","radius","tension"],nA=["color","borderColor","backgroundColor"];function iA(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:nA},numbers:{type:"number",properties:eA}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function sA(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Vh=new Map;function rA(n,t){t=t||{};const e=n+JSON.stringify(t);let s=Vh.get(e);return s||(s=new Intl.NumberFormat(n,t),Vh.set(e,s)),s}function ga(n,t,e){return rA(t,e).format(n)}const Op={values(n){return be(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const s=this.chart.options.locale;let i,r=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),r=aA(n,e)}const a=Zi(Math.abs(r)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),ga(n,s,u)},logarithmic(n,t,e){if(n===0)return"0";const s=e[t].significand||n/Math.pow(10,Math.floor(Zi(n)));return[1,2,3,5,10,15].includes(s)||t>.8*e.length?Op.numeric.call(this,n,t,e):""}};function aA(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var sl={formatters:Op};function oA(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:sl.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const As=Object.create(null),tu=Object.create(null);function Qr(n,t){if(!t)return n;const e=t.split(".");for(let s=0,i=e.length;s<i;++s){const r=e[s];n=n[r]||(n[r]=Object.create(null))}return n}function Lc(n,t,e){return typeof t=="string"?ea(Qr(n,t),e):ea(Qr(n,""),t)}class lA{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Rc(i.backgroundColor),this.hoverBorderColor=(s,i)=>Rc(i.borderColor),this.hoverColor=(s,i)=>Rc(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Lc(this,t,e)}get(t){return Qr(this,t)}describe(t,e){return Lc(tu,t,e)}override(t,e){return Lc(As,t,e)}route(t,e,s,i){const r=Qr(this,t),a=Qr(this,s),l="_"+e;Object.defineProperties(r,{[l]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const u=this[l],d=a[i];return Xt(u)?Object.assign({},d,u):Lt(u,d)},set(u){this[l]=u}}})}apply(t){t.forEach(e=>e(this))}}var ke=new lA({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[iA,sA,oA]);function cA(n){return!n||$t(n.size)||$t(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Xo(n,t,e,s,i){let r=t[i];return r||(r=t[i]=n.measureText(i).width,e.push(i)),r>s&&(s=r),s}function uA(n,t,e,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(i=s.data={},r=s.garbageCollect=[],s.font=t),n.save(),n.font=t;let a=0;const l=e.length;let u,d,f,g,p;for(u=0;u<l;u++)if(g=e[u],g!=null&&!be(g))a=Xo(n,i,r,a,g);else if(be(g))for(d=0,f=g.length;d<f;d++)p=g[d],p!=null&&!be(p)&&(a=Xo(n,i,r,a,p));n.restore();const v=r.length/2;if(v>e.length){for(u=0;u<v;u++)delete i[r[u]];r.splice(0,v)}return a}function bs(n,t,e){const s=n.currentDevicePixelRatio,i=e!==0?Math.max(e/2,.5):0;return Math.round((t-i)*s)/s+i}function jh(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function eu(n,t,e,s){Fp(n,t,e,s,null)}function Fp(n,t,e,s,i){let r,a,l,u,d,f,g,p;const v=t.pointStyle,b=t.rotation,y=t.radius;let S=(b||0)*YE;if(v&&typeof v=="object"&&(r=v.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(e,s),n.rotate(S),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(y)||y<=0)){switch(n.beginPath(),v){default:i?n.ellipse(e,s,i/2,y,0,0,ye):n.arc(e,s,y,0,ye),n.closePath();break;case"triangle":f=i?i/2:y,n.moveTo(e+Math.sin(S)*f,s-Math.cos(S)*y),S+=Mh,n.lineTo(e+Math.sin(S)*f,s-Math.cos(S)*y),S+=Mh,n.lineTo(e+Math.sin(S)*f,s-Math.cos(S)*y),n.closePath();break;case"rectRounded":d=y*.516,u=y-d,a=Math.cos(S+vs)*u,g=Math.cos(S+vs)*(i?i/2-d:u),l=Math.sin(S+vs)*u,p=Math.sin(S+vs)*(i?i/2-d:u),n.arc(e-g,s-l,d,S-_e,S-Le),n.arc(e+p,s-a,d,S-Le,S),n.arc(e+g,s+l,d,S,S+Le),n.arc(e-p,s+a,d,S+Le,S+_e),n.closePath();break;case"rect":if(!b){u=Math.SQRT1_2*y,f=i?i/2:u,n.rect(e-f,s-u,2*f,2*u);break}S+=vs;case"rectRot":g=Math.cos(S)*(i?i/2:y),a=Math.cos(S)*y,l=Math.sin(S)*y,p=Math.sin(S)*(i?i/2:y),n.moveTo(e-g,s-l),n.lineTo(e+p,s-a),n.lineTo(e+g,s+l),n.lineTo(e-p,s+a),n.closePath();break;case"crossRot":S+=vs;case"cross":g=Math.cos(S)*(i?i/2:y),a=Math.cos(S)*y,l=Math.sin(S)*y,p=Math.sin(S)*(i?i/2:y),n.moveTo(e-g,s-l),n.lineTo(e+g,s+l),n.moveTo(e+p,s-a),n.lineTo(e-p,s+a);break;case"star":g=Math.cos(S)*(i?i/2:y),a=Math.cos(S)*y,l=Math.sin(S)*y,p=Math.sin(S)*(i?i/2:y),n.moveTo(e-g,s-l),n.lineTo(e+g,s+l),n.moveTo(e+p,s-a),n.lineTo(e-p,s+a),S+=vs,g=Math.cos(S)*(i?i/2:y),a=Math.cos(S)*y,l=Math.sin(S)*y,p=Math.sin(S)*(i?i/2:y),n.moveTo(e-g,s-l),n.lineTo(e+g,s+l),n.moveTo(e+p,s-a),n.lineTo(e-p,s+a);break;case"line":a=i?i/2:Math.cos(S)*y,l=Math.sin(S)*y,n.moveTo(e-a,s-l),n.lineTo(e+a,s+l);break;case"dash":n.moveTo(e,s),n.lineTo(e+Math.cos(S)*(i?i/2:y),s+Math.sin(S)*y);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Mi(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function rl(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function al(n){n.restore()}function dA(n,t,e,s,i){if(!t)return n.lineTo(e.x,e.y);if(i==="middle"){const r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else i==="after"!=!!s?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function fA(n,t,e,s){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function hA(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),$t(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function gA(n,t,e,s,i){if(i.strikethrough||i.underline){const r=n.measureText(s),a=t-r.actualBoundingBoxLeft,l=t+r.actualBoundingBoxRight,u=e-r.actualBoundingBoxAscent,d=e+r.actualBoundingBoxDescent,f=i.strikethrough?(u+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(a,f),n.lineTo(l,f),n.stroke()}}function pA(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Ts(n,t,e,s,i,r={}){const a=be(t)?t:[t],l=r.strokeWidth>0&&r.strokeColor!=="";let u,d;for(n.save(),n.font=i.string,hA(n,r),u=0;u<a.length;++u)d=a[u],r.backdrop&&pA(n,r.backdrop),l&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),$t(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(d,e,s,r.maxWidth)),n.fillText(d,e,s,r.maxWidth),gA(n,e,s,d,r),s+=Number(i.lineHeight);n.restore()}function sa(n,t){const{x:e,y:s,w:i,h:r,radius:a}=t;n.arc(e+a.topLeft,s+a.topLeft,a.topLeft,1.5*_e,_e,!0),n.lineTo(e,s+r-a.bottomLeft),n.arc(e+a.bottomLeft,s+r-a.bottomLeft,a.bottomLeft,_e,Le,!0),n.lineTo(e+i-a.bottomRight,s+r),n.arc(e+i-a.bottomRight,s+r-a.bottomRight,a.bottomRight,Le,0,!0),n.lineTo(e+i,s+a.topRight),n.arc(e+i-a.topRight,s+a.topRight,a.topRight,0,-Le,!0),n.lineTo(e+a.topLeft,s)}const mA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,vA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function bA(n,t){const e=(""+n).match(mA);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const yA=n=>+n||0;function Eu(n,t){const e={},s=Xt(t),i=s?Object.keys(t):t,r=Xt(n)?s?a=>Lt(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of i)e[a]=yA(r(a));return e}function Dp(n){return Eu(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Os(n){return Eu(n,["topLeft","topRight","bottomLeft","bottomRight"])}function on(n){const t=Dp(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ye(n,t){n=n||{},t=t||ke.font;let e=Lt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=Lt(n.style,t.style);s&&!(""+s).match(vA)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:Lt(n.family,t.family),lineHeight:bA(Lt(n.lineHeight,t.lineHeight),e),size:e,style:s,weight:Lt(n.weight,t.weight),string:""};return i.string=cA(i),i}function Br(n,t,e,s){let i=!0,r,a,l;for(r=0,a=n.length;r<a;++r)if(l=n[r],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t),i=!1),e!==void 0&&be(l)&&(l=l[e%l.length],i=!1),l!==void 0))return s&&!i&&(s.cacheable=!1),l}function _A(n,t,e){const{min:s,max:i}=n,r=mp(t,(i-s)/2),a=(l,u)=>e&&l===0?0:l+u;return{min:a(s,-Math.abs(r)),max:a(i,r)}}function ns(n,t){return Object.assign(Object.create(n),t)}function Au(n,t=[""],e,s,i=()=>n[0]){const r=e||n;typeof s>"u"&&(s=Mp("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:s,_getTarget:i,override:l=>Au([l,...n],t,r,s)};return new Proxy(a,{deleteProperty(l,u){return delete l[u],delete l._keys,delete n[0][u],!0},get(l,u){return Ap(l,u,()=>DA(u,t,n,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(l,u){return Uh(l).includes(u)},ownKeys(l){return Uh(l)},set(l,u,d){const f=l._storage||(l._storage=i());return l[u]=f[u]=d,delete l._keys,!0}})}function ar(n,t,e,s){const i={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Ep(n,s),setContext:r=>ar(n,r,e,s),override:r=>ar(n.override(r),t,e,s)};return new Proxy(i,{deleteProperty(r,a){return delete r[a],delete n[a],!0},get(r,a,l){return Ap(r,a,()=>SA(r,a,l))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(r,a,l){return n[a]=l,delete r[a],!0}})}function Ep(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=n;return{allKeys:i,scriptable:e,indexable:s,isScriptable:ts(e)?e:()=>e,isIndexable:ts(s)?s:()=>s}}const xA=(n,t)=>n?n+Cu(t):t,Tu=(n,t)=>Xt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Ap(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const s=e();return n[t]=s,s}function SA(n,t,e){const{_proxy:s,_context:i,_subProxy:r,_descriptors:a}=n;let l=s[t];return ts(l)&&a.isScriptable(t)&&(l=wA(t,l,n,e)),be(l)&&l.length&&(l=CA(t,l,n,a.isIndexable)),Tu(t,l)&&(l=ar(l,i,r&&r[t],a)),l}function wA(n,t,e,s){const{_proxy:i,_context:r,_subProxy:a,_stack:l}=e;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let u=t(r,a||s);return l.delete(n),Tu(n,u)&&(u=Mu(i._scopes,i,n,u)),u}function CA(n,t,e,s){const{_proxy:i,_context:r,_subProxy:a,_descriptors:l}=e;if(typeof r.index<"u"&&s(n))return t[r.index%t.length];if(Xt(t[0])){const u=t,d=i._scopes.filter(f=>f!==u);t=[];for(const f of u){const g=Mu(d,i,n,f);t.push(ar(g,r,a&&a[n],l))}}return t}function Tp(n,t,e){return ts(n)?n(t,e):n}const kA=(n,t)=>n===!0?t:typeof n=="string"?qi(t,n):void 0;function OA(n,t,e,s,i){for(const r of t){const a=kA(e,r);if(a){n.add(a);const l=Tp(a._fallback,e,i);if(typeof l<"u"&&l!==e&&l!==s)return l}else if(a===!1&&typeof s<"u"&&e!==s)return null}return!1}function Mu(n,t,e,s){const i=t._rootScopes,r=Tp(t._fallback,e,s),a=[...n,...i],l=new Set;l.add(s);let u=zh(l,a,e,r||e,s);return u===null||typeof r<"u"&&r!==e&&(u=zh(l,a,r,u,s),u===null)?!1:Au(Array.from(l),[""],i,r,()=>FA(t,e,s))}function zh(n,t,e,s,i){for(;e;)e=OA(n,t,e,s,i);return e}function FA(n,t,e){const s=n._getTarget();t in s||(s[t]={});const i=s[t];return be(i)&&Xt(e)?e:i||{}}function DA(n,t,e,s){let i;for(const r of t)if(i=Mp(xA(r,n),e),typeof i<"u")return Tu(n,i)?Mu(e,s,n,i):i}function Mp(n,t){for(const e of t){if(!e)continue;const s=e[n];if(typeof s<"u")return s}}function Uh(n){let t=n._keys;return t||(t=n._keys=EA(n._scopes)),t}function EA(n){const t=new Set;for(const e of n)for(const s of Object.keys(e).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}function Pp(n,t,e,s){const{iScale:i}=n,{key:r="r"}=this._parsing,a=new Array(s);let l,u,d,f;for(l=0,u=s;l<u;++l)d=l+e,f=t[d],a[l]={r:i.parse(qi(f,r),d)};return a}const AA=Number.EPSILON||1e-14,or=(n,t)=>t<n.length&&!n[t].skip&&n[t],Ip=n=>n==="x"?"y":"x";function TA(n,t,e,s){const i=n.skip?t:n,r=t,a=e.skip?t:e,l=qc(r,i),u=qc(a,r);let d=l/(l+u),f=u/(l+u);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const g=s*d,p=s*f;return{previous:{x:r.x-g*(a.x-i.x),y:r.y-g*(a.y-i.y)},next:{x:r.x+p*(a.x-i.x),y:r.y+p*(a.y-i.y)}}}function MA(n,t,e){const s=n.length;let i,r,a,l,u,d=or(n,0);for(let f=0;f<s-1;++f)if(u=d,d=or(n,f+1),!(!u||!d)){if(Zr(t[f],0,AA)){e[f]=e[f+1]=0;continue}i=e[f]/t[f],r=e[f+1]/t[f],l=Math.pow(i,2)+Math.pow(r,2),!(l<=9)&&(a=3/Math.sqrt(l),e[f]=i*a*t[f],e[f+1]=r*a*t[f])}}function PA(n,t,e="x"){const s=Ip(e),i=n.length;let r,a,l,u=or(n,0);for(let d=0;d<i;++d){if(a=l,l=u,u=or(n,d+1),!l)continue;const f=l[e],g=l[s];a&&(r=(f-a[e])/3,l[`cp1${e}`]=f-r,l[`cp1${s}`]=g-r*t[d]),u&&(r=(u[e]-f)/3,l[`cp2${e}`]=f+r,l[`cp2${s}`]=g+r*t[d])}}function IA(n,t="x"){const e=Ip(t),s=n.length,i=Array(s).fill(0),r=Array(s);let a,l,u,d=or(n,0);for(a=0;a<s;++a)if(l=u,u=d,d=or(n,a+1),!!u){if(d){const f=d[t]-u[t];i[a]=f!==0?(d[e]-u[e])/f:0}r[a]=l?d?pi(i[a-1])!==pi(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}MA(n,i,r),PA(n,r,t)}function po(n,t,e){return Math.max(Math.min(n,e),t)}function RA(n,t){let e,s,i,r,a,l=Mi(n[0],t);for(e=0,s=n.length;e<s;++e)a=r,r=l,l=e<s-1&&Mi(n[e+1],t),r&&(i=n[e],a&&(i.cp1x=po(i.cp1x,t.left,t.right),i.cp1y=po(i.cp1y,t.top,t.bottom)),l&&(i.cp2x=po(i.cp2x,t.left,t.right),i.cp2y=po(i.cp2y,t.top,t.bottom)))}function LA(n,t,e,s,i){let r,a,l,u;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")IA(n,i);else{let d=s?n[n.length-1]:n[0];for(r=0,a=n.length;r<a;++r)l=n[r],u=TA(d,l,n[Math.min(r+1,a-(s?0:1))%a],t.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,d=l}t.capBezierPoints&&RA(n,e)}function Pu(){return typeof window<"u"&&typeof document<"u"}function Iu(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Zo(n,t,e){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=n,s}const ol=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function NA(n,t){return ol(n).getPropertyValue(t)}const BA=["top","right","bottom","left"];function Fs(n,t,e){const s={};e=e?"-"+e:"";for(let i=0;i<4;i++){const r=BA[i];s[r]=parseFloat(n[t+"-"+r+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const VA=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function jA(n,t){const e=n.touches,s=e&&e.length?e[0]:n,{offsetX:i,offsetY:r}=s;let a=!1,l,u;if(VA(i,r,n.target))l=i,u=r;else{const d=t.getBoundingClientRect();l=s.clientX-d.left,u=s.clientY-d.top,a=!0}return{x:l,y:u,box:a}}function Ss(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:s}=t,i=ol(e),r=i.boxSizing==="border-box",a=Fs(i,"padding"),l=Fs(i,"border","width"),{x:u,y:d,box:f}=jA(n,e),g=a.left+(f&&l.left),p=a.top+(f&&l.top);let{width:v,height:b}=t;return r&&(v-=a.width+l.width,b-=a.height+l.height),{x:Math.round((u-g)/v*e.width/s),y:Math.round((d-p)/b*e.height/s)}}function zA(n,t,e){let s,i;if(t===void 0||e===void 0){const r=n&&Iu(n);if(!r)t=n.clientWidth,e=n.clientHeight;else{const a=r.getBoundingClientRect(),l=ol(r),u=Fs(l,"border","width"),d=Fs(l,"padding");t=a.width-d.width-u.width,e=a.height-d.height-u.height,s=Zo(l.maxWidth,r,"clientWidth"),i=Zo(l.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:s||Go,maxHeight:i||Go}}const mo=n=>Math.round(n*10)/10;function UA(n,t,e,s){const i=ol(n),r=Fs(i,"margin"),a=Zo(i.maxWidth,n,"clientWidth")||Go,l=Zo(i.maxHeight,n,"clientHeight")||Go,u=zA(n,t,e);let{width:d,height:f}=u;if(i.boxSizing==="content-box"){const p=Fs(i,"border","width"),v=Fs(i,"padding");d-=v.width+p.width,f-=v.height+p.height}return d=Math.max(0,d-r.width),f=Math.max(0,s?d/s:f-r.height),d=mo(Math.min(d,a,u.maxWidth)),f=mo(Math.min(f,l,u.maxHeight)),d&&!f&&(f=mo(d/2)),(t!==void 0||e!==void 0)&&s&&u.height&&f>u.height&&(f=u.height,d=mo(Math.floor(f*s))),{width:d,height:f}}function Wh(n,t,e){const s=t||1,i=Math.floor(n.height*s),r=Math.floor(n.width*s);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||a.height!==i||a.width!==r?(n.currentDevicePixelRatio=s,a.height=i,a.width=r,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const WA=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Pu()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Hh(n,t){const e=NA(n,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function ws(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function HA(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:s==="middle"?e<.5?n.y:t.y:s==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function YA(n,t,e,s){const i={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},a=ws(n,i,e),l=ws(i,r,e),u=ws(r,t,e),d=ws(a,l,e),f=ws(l,u,e);return ws(d,f,e)}const KA=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},GA=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function nr(n,t,e){return n?KA(t,e):GA()}function Rp(n,t){let e,s;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=s)}function Lp(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Np(n){return n==="angle"?{between:ia,compare:XE,normalize:Pn}:{between:Ai,compare:(t,e)=>t-e,normalize:t=>t}}function Yh({start:n,end:t,count:e,loop:s,style:i}){return{start:n%e,end:t%e,loop:s&&(t-n+1)%e===0,style:i}}function XA(n,t,e){const{property:s,start:i,end:r}=e,{between:a,normalize:l}=Np(s),u=t.length;let{start:d,end:f,loop:g}=n,p,v;if(g){for(d+=u,f+=u,p=0,v=u;p<v&&a(l(t[d%u][s]),i,r);++p)d--,f--;d%=u,f%=u}return f<d&&(f+=u),{start:d,end:f,loop:g,style:n.style}}function Bp(n,t,e){if(!e)return[n];const{property:s,start:i,end:r}=e,a=t.length,{compare:l,between:u,normalize:d}=Np(s),{start:f,end:g,loop:p,style:v}=XA(n,t,e),b=[];let y=!1,S=null,k,F,P;const A=()=>u(i,P,k)&&l(i,P)!==0,T=()=>l(r,k)===0||u(r,P,k),R=()=>y||A(),z=()=>!y||T();for(let W=f,B=f;W<=g;++W)F=t[W%a],!F.skip&&(k=d(F[s]),k!==P&&(y=u(k,i,r),S===null&&R()&&(S=l(k,i)===0?W:B),S!==null&&z()&&(b.push(Yh({start:S,end:W,loop:p,count:a,style:v})),S=null),B=W,P=k));return S!==null&&b.push(Yh({start:S,end:g,loop:p,count:a,style:v})),b}function Vp(n,t){const e=[],s=n.segments;for(let i=0;i<s.length;i++){const r=Bp(s[i],n.points,t);r.length&&e.push(...r)}return e}function ZA(n,t,e,s){let i=0,r=t-1;if(e&&!s)for(;i<t&&!n[i].skip;)i++;for(;i<t&&n[i].skip;)i++;for(i%=t,e&&(r+=i);r>i&&n[r%t].skip;)r--;return r%=t,{start:i,end:r}}function JA(n,t,e,s){const i=n.length,r=[];let a=t,l=n[t],u;for(u=t+1;u<=e;++u){const d=n[u%i];d.skip||d.stop?l.skip||(s=!1,r.push({start:t%i,end:(u-1)%i,loop:s}),t=a=d.stop?u:null):(a=u,l.skip&&(t=u)),l=d}return a!==null&&r.push({start:t%i,end:a%i,loop:s}),r}function QA(n,t){const e=n.points,s=n.options.spanGaps,i=e.length;if(!i)return[];const r=!!n._loop,{start:a,end:l}=ZA(e,i,r,s);if(s===!0)return Kh(n,[{start:a,end:l,loop:r}],e,t);const u=l<a?l+i:l,d=!!n._fullLoop&&a===0&&l===i-1;return Kh(n,JA(e,a,u,d),e,t)}function Kh(n,t,e,s){return!s||!s.setContext||!e?t:$A(n,t,e,s)}function $A(n,t,e,s){const i=n._chart.getContext(),r=Gh(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,u=e.length,d=[];let f=r,g=t[0].start,p=g;function v(b,y,S,k){const F=l?-1:1;if(b!==y){for(b+=u;e[b%u].skip;)b-=F;for(;e[y%u].skip;)y+=F;b%u!==y%u&&(d.push({start:b%u,end:y%u,loop:S,style:k}),f=k,g=y%u)}}for(const b of t){g=l?g:b.start;let y=e[g%u],S;for(p=g+1;p<=b.end;p++){const k=e[p%u];S=Gh(s.setContext(ns(i,{type:"segment",p0:y,p1:k,p0DataIndex:(p-1)%u,p1DataIndex:p%u,datasetIndex:a}))),qA(S,f)&&v(g,p-1,b.loop,f),y=k,f=S}g<p-1&&v(g,p-1,b.loop,f)}return d}function Gh(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function qA(n,t){if(!t)return!1;const e=[],s=function(i,r){return Du(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,s)!==JSON.stringify(t,s)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class tT{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,i){const r=e.listeners[i],a=e.duration;r.forEach(l=>l({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(s-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Sp.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let a=r.length-1,l=!1,u;for(;a>=0;--a)u=r[a],u._active?(u._total>s.duration&&(s.duration=u._total),u.tick(t),l=!0):(r[a]=r[r.length-1],r.pop());l&&(i.draw(),this._notify(i,s,t,"progress")),r.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Fi=new tT;const Xh="transparent",eT={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const s=Bh(n||Xh),i=s.valid&&Bh(t||Xh);return i&&i.valid?i.mix(s,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class nT{constructor(t,e,s,i){const r=e[s];i=Br([t.to,i,r,t.from]);const a=Br([t.from,r,i]);this._active=!0,this._fn=t.fn||eT[t.type||typeof a],this._easing=Jr[t.easing]||Jr.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,a=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Br([t.to,e,i,t.from]),this._from=Br([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,i=this._prop,r=this._from,a=this._loop,l=this._to;let u;if(this._active=r!==l&&(a||e<s),!this._active){this._target[i]=l,this._notify(!0);return}if(e<0){this._target[i]=r;return}u=e/s%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(r,l,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][e]()}}class jp{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Xt(t))return;const e=Object.keys(ke.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!Xt(r))return;const a={};for(const l of e)a[l]=r[l];(be(r.properties)&&r.properties||[i]).forEach(l=>{(l===i||!s.has(l))&&s.set(l,a)})})}_animateOptions(t,e){const s=e.options,i=sT(t,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&iT(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,e){const s=this._properties,i=[],r=t.$animations||(t.$animations={}),a=Object.keys(e),l=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(t,e));continue}const f=e[d];let g=r[d];const p=s.get(d);if(g)if(p&&g.active()){g.update(p,f,l);continue}else g.cancel();if(!p||!p.duration){t[d]=f;continue}r[d]=g=new nT(p,t,d,f),i.push(g)}return i}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return Fi.add(this._chart,s),!0}}function iT(n,t){const e=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const r=n[s[i]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function sT(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Zh(n,t){const e=n&&n.options||{},s=e.reverse,i=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:s?r:i,end:s?i:r}}function rT(n,t,e){if(e===!1)return!1;const s=Zh(n,e),i=Zh(t,e);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function aT(n){let t,e,s,i;return Xt(n)?(t=n.top,e=n.right,s=n.bottom,i=n.left):t=e=s=i=n,{top:t,right:e,bottom:s,left:i,disabled:n===!1}}function zp(n,t){const e=[],s=n._getSortedDatasetMetas(t);let i,r;for(i=0,r=s.length;i<r;++i)e.push(s[i].index);return e}function Jh(n,t,e,s={}){const i=n.keys,r=s.mode==="single";let a,l,u,d;if(t===null)return;let f=!1;for(a=0,l=i.length;a<l;++a){if(u=+i[a],u===e){if(f=!0,s.all)continue;break}d=n.values[u],Me(d)&&(r||t===0||pi(t)===pi(d))&&(t+=d)}return!f&&!s.all?0:t}function oT(n,t){const{iScale:e,vScale:s}=t,i=e.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",a=Object.keys(n),l=new Array(a.length);let u,d,f;for(u=0,d=a.length;u<d;++u)f=a[u],l[u]={[i]:f,[r]:n[f]};return l}function Nc(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function lT(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function cT(n){const{min:t,max:e,minDefined:s,maxDefined:i}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function uT(n,t,e){const s=n[t]||(n[t]={});return s[e]||(s[e]={})}function Qh(n,t,e,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const r=n[i.index];if(e&&r>0||!e&&r<0)return i.index}return null}function $h(n,t){const{chart:e,_cachedMeta:s}=n,i=e._stacks||(e._stacks={}),{iScale:r,vScale:a,index:l}=s,u=r.axis,d=a.axis,f=lT(r,a,s),g=t.length;let p;for(let v=0;v<g;++v){const b=t[v],{[u]:y,[d]:S}=b,k=b._stacks||(b._stacks={});p=k[d]=uT(i,f,y),p[l]=S,p._top=Qh(p,a,!0,s.type),p._bottom=Qh(p,a,!1,s.type);const F=p._visualValues||(p._visualValues={});F[l]=S}}function Bc(n,t){const e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function dT(n,t){return ns(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function fT(n,t,e){return ns(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Dr(n,t){const e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const i of t){const r=i._stacks;if(!r||r[s]===void 0||r[s][e]===void 0)return;delete r[s][e],r[s]._visualValues!==void 0&&r[s]._visualValues[e]!==void 0&&delete r[s]._visualValues[e]}}}const Vc=n=>n==="reset"||n==="none",qh=(n,t)=>t?n:Object.assign({},n),hT=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:zp(e,!0),values:null};class ai{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Nc(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Dr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),i=(g,p,v,b)=>g==="x"?p:g==="r"?b:v,r=e.xAxisID=Lt(s.xAxisID,Bc(t,"x")),a=e.yAxisID=Lt(s.yAxisID,Bc(t,"y")),l=e.rAxisID=Lt(s.rAxisID,Bc(t,"r")),u=e.indexAxis,d=e.iAxisID=i(u,r,a,l),f=e.vAxisID=i(u,a,r,l);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Rh(this._data,this),t._stacked&&Dr(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(Xt(e)){const i=this._cachedMeta;this._data=oT(e,i)}else if(s!==e){if(s){Rh(s,this);const i=this._cachedMeta;Dr(i),i._parsed=[]}e&&Object.isExtensible(e)&&$E(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=Nc(e.vScale,e),e.stack!==s.stack&&(i=!0,Dr(e),e.stack=s.stack),this._resyncElements(t),(i||r!==e._stacked)&&($h(this,e._parsed),e._stacked=Nc(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:a}=s,l=r.axis;let u=t===0&&e===i.length?!0:s._sorted,d=t>0&&s._parsed[t-1],f,g,p;if(this._parsing===!1)s._parsed=i,s._sorted=!0,p=i;else{be(i[t])?p=this.parseArrayData(s,i,t,e):Xt(i[t])?p=this.parseObjectData(s,i,t,e):p=this.parsePrimitiveData(s,i,t,e);const v=()=>g[l]===null||d&&g[l]<d[l];for(f=0;f<e;++f)s._parsed[f+t]=g=p[f],u&&(v()&&(u=!1),d=g);s._sorted=u}a&&$h(this,p)}parsePrimitiveData(t,e,s,i){const{iScale:r,vScale:a}=t,l=r.axis,u=a.axis,d=r.getLabels(),f=r===a,g=new Array(i);let p,v,b;for(p=0,v=i;p<v;++p)b=p+s,g[p]={[l]:f||r.parse(d[b],b),[u]:a.parse(e[b],b)};return g}parseArrayData(t,e,s,i){const{xScale:r,yScale:a}=t,l=new Array(i);let u,d,f,g;for(u=0,d=i;u<d;++u)f=u+s,g=e[f],l[u]={x:r.parse(g[0],f),y:a.parse(g[1],f)};return l}parseObjectData(t,e,s,i){const{xScale:r,yScale:a}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(i);let f,g,p,v;for(f=0,g=i;f<g;++f)p=f+s,v=e[p],d[f]={x:r.parse(qi(v,l),p),y:a.parse(qi(v,u),p)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const i=this.chart,r=this._cachedMeta,a=e[t.axis],l={keys:zp(i,!0),values:e._stacks[t.axis]._visualValues};return Jh(l,a,r.index,{mode:s})}updateRangeFromParsed(t,e,s,i){const r=s[e.axis];let a=r===null?NaN:r;const l=i&&s._stacks[e.axis];i&&l&&(i.values=l,a=Jh(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&t===s.iScale,a=i.length,l=this._getOtherScale(t),u=hT(e,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=cT(l);let p,v;function b(){v=i[p];const y=v[l.axis];return!Me(v[t.axis])||f>y||g<y}for(p=0;p<a&&!(!b()&&(this.updateRangeFromParsed(d,t,v,u),r));++p);if(r){for(p=a-1;p>=0;--p)if(!b()){this.updateRangeFromParsed(d,t,v,u);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let i,r,a;for(i=0,r=e.length;i<r;++i)a=e[i][t.axis],Me(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=aT(Lt(this.options.clip,rT(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,i=s.data||[],r=e.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let f;for(s.dataset&&s.dataset.draw(t,r,l,u),f=l;f<l+u;++f){const g=i[f];g.hidden||(g.active&&d?a.push(g):g.draw(t,r))}for(f=0;f<a.length;++f)a[f].draw(t,r)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];r=a.$context||(a.$context=fT(this.getContext(),t,a)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=dT(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const i=e==="active",r=this._cachedDataOpts,a=t+"-"+e,l=r[a],u=this.enableOptionSharing&&na(s);if(l)return qh(l,u);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,t),g=i?[`${t}Hover`,"hover",t,""]:[t,""],p=d.getOptionScopes(this.getDataset(),f),v=Object.keys(ke.elements[t]),b=()=>this.getContext(s,i,e),y=d.resolveNamedOptions(p,v,b,g);return y.$shared&&(y.$shared=u,r[a]=Object.freeze(qh(y,u))),y}_resolveAnimations(t,e,s){const i=this.chart,r=this._cachedDataOpts,a=`animation-${e}`,l=r[a];if(l)return l;let u;if(i.options.animation!==!1){const f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,e),p=f.getOptionScopes(this.getDataset(),g);u=f.createResolver(p,this.getContext(t,s,e))}const d=new jp(i,u&&u.animations);return u&&u._cacheable&&(r[a]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Vc(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(s),a=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,s),{sharedOptions:r,includeOptions:a}}updateElement(t,e,s,i){Vc(i)?Object.assign(t,s):this._resolveAnimations(e,i).update(t,s)}updateSharedOptions(t,e,s){t&&!Vc(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,s,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const i=s.length,r=e.length,a=Math.min(r,i);a&&this.parse(0,a),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e,s=!0){const i=this._cachedMeta,r=i.data,a=t+e;let l;const u=d=>{for(d.length+=e,l=d.length-1;l>=a;l--)d[l]=d[l-e]};for(u(r),l=t;l<a;++l)r[l]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(t,e),s&&this.updateElements(r,t,e,"reset")}updateElements(t,e,s,i){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,e);s._stacked&&Dr(s,i)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,i]=t;this[e](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ct(ai,"defaults",{}),ct(ai,"datasetElementType",null),ct(ai,"dataElementType",null);function gT(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let s=[];for(let i=0,r=e.length;i<r;i++)s=s.concat(e[i].controller.getAllParsedValues(n));n._cache.$bar=xp(s.sort((i,r)=>i-r))}return n._cache.$bar}function pT(n){const t=n.iScale,e=gT(t,n.type);let s=t._length,i,r,a,l;const u=()=>{a===32767||a===-32768||(na(l)&&(s=Math.min(s,Math.abs(a-l)||s)),l=a)};for(i=0,r=e.length;i<r;++i)a=t.getPixelForValue(e[i]),u();for(l=void 0,i=0,r=t.ticks.length;i<r;++i)a=t.getPixelForTick(i),u();return s}function mT(n,t,e,s){const i=e.barThickness;let r,a;return $t(i)?(r=t.min*e.categoryPercentage,a=e.barPercentage):(r=i*s,a=1),{chunk:r/s,ratio:a,start:t.pixels[n]-r/2}}function vT(n,t,e,s){const i=t.pixels,r=i[n];let a=n>0?i[n-1]:null,l=n<i.length-1?i[n+1]:null;const u=e.categoryPercentage;a===null&&(a=r-(l===null?t.end-t.start:l-r)),l===null&&(l=r+r-a);const d=r-(r-Math.min(a,l))/2*u;return{chunk:Math.abs(l-a)/2*u/s,ratio:e.barPercentage,start:d}}function bT(n,t,e,s){const i=e.parse(n[0],s),r=e.parse(n[1],s),a=Math.min(i,r),l=Math.max(i,r);let u=a,d=l;Math.abs(a)>Math.abs(l)&&(u=l,d=a),t[e.axis]=d,t._custom={barStart:u,barEnd:d,start:i,end:r,min:a,max:l}}function Up(n,t,e,s){return be(n)?bT(n,t,e,s):t[e.axis]=e.parse(n,s),t}function tg(n,t,e,s){const i=n.iScale,r=n.vScale,a=i.getLabels(),l=i===r,u=[];let d,f,g,p;for(d=e,f=e+s;d<f;++d)p=t[d],g={},g[i.axis]=l||i.parse(a[d],d),u.push(Up(p,g,r,d));return u}function jc(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function yT(n,t,e){return n!==0?pi(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function _T(n){let t,e,s,i,r;return n.horizontal?(t=n.base>n.x,e="left",s="right"):(t=n.base<n.y,e="bottom",s="top"),t?(i="end",r="start"):(i="start",r="end"),{start:e,end:s,reverse:t,top:i,bottom:r}}function xT(n,t,e,s){let i=t.borderSkipped;const r={};if(!i){n.borderSkipped=r;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:u,top:d,bottom:f}=_T(n);i==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===s?i=d:(e._bottom||0)===s?i=f:(r[eg(f,a,l,u)]=!0,i=d)),r[eg(i,a,l,u)]=!0,n.borderSkipped=r}function eg(n,t,e,s){return s?(n=ST(n,t,e),n=ng(n,e,t)):n=ng(n,t,e),n}function ST(n,t,e){return n===t?e:n===e?t:n}function ng(n,t,e){return n==="start"?t:n==="end"?e:n}function wT(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Ao extends ai{parsePrimitiveData(t,e,s,i){return tg(t,e,s,i)}parseArrayData(t,e,s,i){return tg(t,e,s,i)}parseObjectData(t,e,s,i){const{iScale:r,vScale:a}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=r.axis==="x"?l:u,f=a.axis==="x"?l:u,g=[];let p,v,b,y;for(p=s,v=s+i;p<v;++p)y=e[p],b={},b[r.axis]=r.parse(qi(y,d),p),g.push(Up(qi(y,f),b,a,p));return g}updateRangeFromParsed(t,e,s,i){super.updateRangeFromParsed(t,e,s,i);const r=s._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:s,vScale:i}=e,r=this.getParsed(t),a=r._custom,l=jc(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,i){const r=i==="reset",{index:a,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),d=l.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:p}=this._getSharedOptions(e,i);for(let v=e;v<e+s;v++){const b=this.getParsed(v),y=r||$t(b[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),S=this._calculateBarIndexPixels(v,f),k=(b._stacks||{})[l.axis],F={horizontal:d,base:y.base,enableBorderRadius:!k||jc(b._custom)||a===k._top||a===k._bottom,x:d?y.head:S.center,y:d?S.center:y.head,height:d?S.size:Math.abs(y.size),width:d?Math.abs(y.size):S.size};p&&(F.options=g||this.resolveDataElementOptions(v,t[v].active?"active":i));const P=F.options||t[v].options;xT(F,P,k,a),wT(F,P,f.ratio),this.updateElement(t[v],v,F,i)}}_getStacks(t,e){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),r=s.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(e),u=l&&l[s.axis],d=f=>{const g=f._parsed.find(v=>v[s.axis]===u),p=g&&g[f.vScale.axis];if($t(p)||isNaN(p))return!0};for(const f of i)if(!(e!==void 0&&d(f))&&((r===!1||a.indexOf(f.stack)===-1||r===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,s){const i=this._getStacks(t,s),r=e!==void 0?i.indexOf(e):-1;return r===-1?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,s=e.iScale,i=[];let r,a;for(r=0,a=e.data.length;r<a;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const l=t.barThickness;return{min:l||pT(e),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:s,index:i},options:{base:r,minBarLength:a}}=this,l=r||0,u=this.getParsed(t),d=u._custom,f=jc(d);let g=u[e.axis],p=0,v=s?this.applyStack(e,u,s):g,b,y;v!==g&&(p=v-g,v=g),f&&(g=d.barStart,v=d.barEnd-d.barStart,g!==0&&pi(g)!==pi(d.barEnd)&&(p=0),p+=g);const S=!$t(r)&&!f?r:p;let k=e.getPixelForValue(S);if(this.chart.getDataVisibility(t)?b=e.getPixelForValue(p+v):b=k,y=b-k,Math.abs(y)<a){y=yT(y,e,l)*a,g===l&&(k-=y/2);const F=e.getPixelForDecimal(0),P=e.getPixelForDecimal(1),A=Math.min(F,P),T=Math.max(F,P);k=Math.max(Math.min(k,T),A),b=k+y,s&&!f&&(u._stacks[e.axis]._visualValues[i]=e.getValueForPixel(b)-e.getValueForPixel(k))}if(k===e.getPixelForValue(l)){const F=pi(y)*e.getLineWidthForValue(l)/2;k+=F,y-=F}return{size:y,base:k,head:b,center:b+y/2}}_calculateBarIndexPixels(t,e){const s=e.scale,i=this.options,r=i.skipNull,a=Lt(i.maxBarThickness,1/0);let l,u;if(e.grouped){const d=r?this._getStackCount(t):e.stackCount,f=i.barThickness==="flex"?vT(t,e,i,d):mT(t,e,i,d),g=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);l=f.start+f.chunk*g+f.chunk/2,u=Math.min(a,f.chunk*f.ratio)}else l=s.getPixelForValue(this.getParsed(t)[s.axis],t),u=Math.min(a,e.min*e.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const t=this._cachedMeta,e=t.vScale,s=t.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[e.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}ct(Ao,"id","bar"),ct(Ao,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ct(Ao,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class To extends ai{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,s,i){const r=super.parsePrimitiveData(t,e,s,i);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+s).radius;return r}parseArrayData(t,e,s,i){const r=super.parseArrayData(t,e,s,i);for(let a=0;a<r.length;a++){const l=e[s+a];r[a]._custom=Lt(l[2],this.resolveDataElementOptions(a+s).radius)}return r}parseObjectData(t,e,s,i){const r=super.parseObjectData(t,e,s,i);for(let a=0;a<r.length;a++){const l=e[s+a];r[a]._custom=Lt(l&&l.r&&+l.r,this.resolveDataElementOptions(a+s).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=e,a=this.getParsed(t),l=i.getLabelForValue(a.x),u=r.getLabelForValue(a.y),d=a._custom;return{label:s[t]||"",value:"("+l+", "+u+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,s,i){const r=i==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(e,i),f=a.axis,g=l.axis;for(let p=e;p<e+s;p++){const v=t[p],b=!r&&this.getParsed(p),y={},S=y[f]=r?a.getPixelForDecimal(.5):a.getPixelForValue(b[f]),k=y[g]=r?l.getBasePixel():l.getPixelForValue(b[g]);y.skip=isNaN(S)||isNaN(k),d&&(y.options=u||this.resolveDataElementOptions(p,v.active?"active":i),r&&(y.options.radius=0)),this.updateElement(v,p,y,i)}}resolveDataElementOptions(t,e){const s=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return e!=="active"&&(i.radius=0),i.radius+=Lt(s&&s._custom,r),i}}ct(To,"id","bubble"),ct(To,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ct(To,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function CT(n,t,e){let s=1,i=1,r=0,a=0;if(t<ye){const l=n,u=l+t,d=Math.cos(l),f=Math.sin(l),g=Math.cos(u),p=Math.sin(u),v=(P,A,T)=>ia(P,l,u,!0)?1:Math.max(A,A*e,T,T*e),b=(P,A,T)=>ia(P,l,u,!0)?-1:Math.min(A,A*e,T,T*e),y=v(0,d,g),S=v(Le,f,p),k=b(_e,d,g),F=b(_e+Le,f,p);s=(y-k)/2,i=(S-F)/2,r=-(y+k)/2,a=-(S+F)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:a}}class Cs extends ai{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=u=>+s[u];if(Xt(s[t])){const{key:u="value"}=this._parsing;r=d=>+qi(s[d],u)}let a,l;for(a=t,l=t+e;a<l;++a)i._parsed[a]=r(a)}}_getRotation(){return ri(this.options.rotation-90)}_getCircumference(){return ri(this.options.circumference)}_getRotationExtents(){let t=ye,e=-ye;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),a=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+a)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,i=this._cachedMeta,r=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(s.width,s.height)-a)/2,0),u=Math.min(BE(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:f,rotation:g}=this._getRotationExtents(),{ratioX:p,ratioY:v,offsetX:b,offsetY:y}=CT(g,f,u),S=(s.width-a)/p,k=(s.height-a)/v,F=Math.max(Math.min(S,k)/2,0),P=mp(this.options.radius,F),A=Math.max(P*u,0),T=(P-A)/this._getVisibleDatasetWeightTotal();this.offsetX=b*P,this.offsetY=y*P,i.total=this.calculateTotal(),this.outerRadius=P-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*d,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/ye)}updateElements(t,e,s,i){const r=i==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,f=(l.left+l.right)/2,g=(l.top+l.bottom)/2,p=r&&d.animateScale,v=p?0:this.innerRadius,b=p?0:this.outerRadius,{sharedOptions:y,includeOptions:S}=this._getSharedOptions(e,i);let k=this._getRotation(),F;for(F=0;F<e;++F)k+=this._circumference(F,r);for(F=e;F<e+s;++F){const P=this._circumference(F,r),A=t[F],T={x:f+this.offsetX,y:g+this.offsetY,startAngle:k,endAngle:k+P,circumference:P,outerRadius:b,innerRadius:v};S&&(T.options=y||this.resolveDataElementOptions(F,A.active?"active":i)),k+=P,this.updateElement(A,F,T,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let s=0,i;for(i=0;i<e.length;i++){const r=t._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!e[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ye*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=ga(e._parsed[t],s.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const s=this.chart;let i,r,a,l,u;if(!t){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){a=s.getDatasetMeta(i),t=a.data,l=a.controller;break}}if(!t)return 0;for(i=0,r=t.length;i<r;++i)u=l.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(e=Math.max(e,u.borderWidth||0,u.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,i=t.length;s<i;++s){const r=this.resolveDataElementOptions(s);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(Lt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ct(Cs,"id","doughnut"),ct(Cs,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ct(Cs,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ct(Cs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return e.labels.map((r,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}}});class Mo extends ai{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=e,a=this.chart._animationsDisabled;let{start:l,count:u}=Cp(e,i,a);this._drawStart=l,this._drawCount=u,kp(e)&&(l=0,u=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:d},t),this.updateElements(i,l,u,t)}updateElements(t,e,s,i){const r=i==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(e,i),p=a.axis,v=l.axis,{spanGaps:b,segment:y}=this.options,S=rr(b)?b:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||r||i==="none",F=e+s,P=t.length;let A=e>0&&this.getParsed(e-1);for(let T=0;T<P;++T){const R=t[T],z=k?R:{};if(T<e||T>=F){z.skip=!0;continue}const W=this.getParsed(T),B=$t(W[v]),J=z[p]=a.getPixelForValue(W[p],T),q=z[v]=r||B?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,W,u):W[v],T);z.skip=isNaN(J)||isNaN(q)||B,z.stop=T>0&&Math.abs(W[p]-A[p])>S,y&&(z.parsed=W,z.raw=d.data[T]),g&&(z.options=f||this.resolveDataElementOptions(T,R.active?"active":i)),k||this.updateElement(R,T,z,i),A=W}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ct(Mo,"id","line"),ct(Mo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ct(Mo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class $r extends ai{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=ga(e._parsed[t].r,s.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,s,i){return Pp.bind(this)(t,e,s,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,s=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),a=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),l=(r-a)/t.getVisibleDatasetCount();this.outerRadius=r-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,e,s,i){const r=i==="reset",a=this.chart,u=a.options.animation,d=this._cachedMeta.rScale,f=d.xCenter,g=d.yCenter,p=d.getIndexAngle(0)-.5*_e;let v=p,b;const y=360/this.countVisibleElements();for(b=0;b<e;++b)v+=this._computeAngle(b,i,y);for(b=e;b<e+s;b++){const S=t[b];let k=v,F=v+this._computeAngle(b,i,y),P=a.getDataVisibility(b)?d.getDistanceFromCenterForValue(this.getParsed(b).r):0;v=F,r&&(u.animateScale&&(P=0),u.animateRotate&&(k=F=p));const A={x:f,y:g,innerRadius:0,outerRadius:P,startAngle:k,endAngle:F,options:this.resolveDataElementOptions(b,S.active?"active":i)};this.updateElement(S,b,A,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++}),e}_computeAngle(t,e,s){return this.chart.getDataVisibility(t)?ri(this.resolveDataElementOptions(t,e).angle||s):0}}ct($r,"id","polarArea"),ct($r,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ct($r,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return e.labels.map((r,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class nu extends Cs{}ct(nu,"id","pie"),ct(nu,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Po extends ai{getLabelAndValue(t){const e=this._cachedMeta.vScale,s=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(s[e.axis])}}parseObjectData(t,e,s,i){return Pp.bind(this)(t,e,s,i)}update(t){const e=this._cachedMeta,s=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(s.points=i,t!=="resize"){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);const l={_loop:!0,_fullLoop:r.length===i.length,options:a};this.updateElement(s,void 0,l,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,s,i){const r=this._cachedMeta.rScale,a=i==="reset";for(let l=e;l<e+s;l++){const u=t[l],d=this.resolveDataElementOptions(l,u.active?"active":i),f=r.getPointPositionForValue(l,this.getParsed(l).r),g=a?r.xCenter:f.x,p=a?r.yCenter:f.y,v={x:g,y:p,angle:f.angle,skip:isNaN(g)||isNaN(p),options:d};this.updateElement(u,l,v,i)}}}ct(Po,"id","radar"),ct(Po,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ct(Po,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Io extends ai{getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=e,a=this.getParsed(t),l=i.getLabelForValue(a.x),u=r.getLabelForValue(a.y);return{label:s[t]||"",value:"("+l+", "+u+")"}}update(t){const e=this._cachedMeta,{data:s=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:a}=Cp(e,s,i);if(this._drawStart=r,this._drawCount=a,kp(e)&&(r=0,a=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:u}=e;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=s;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!i,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(s,r,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,s,i){const r=i==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,f=this.resolveDataElementOptions(e,i),g=this.getSharedOptions(f),p=this.includeOptions(i,g),v=a.axis,b=l.axis,{spanGaps:y,segment:S}=this.options,k=rr(y)?y:Number.POSITIVE_INFINITY,F=this.chart._animationsDisabled||r||i==="none";let P=e>0&&this.getParsed(e-1);for(let A=e;A<e+s;++A){const T=t[A],R=this.getParsed(A),z=F?T:{},W=$t(R[b]),B=z[v]=a.getPixelForValue(R[v],A),J=z[b]=r||W?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,R,u):R[b],A);z.skip=isNaN(B)||isNaN(J)||W,z.stop=A>0&&Math.abs(R[v]-P[v])>k,S&&(z.parsed=R,z.raw=d.data[A]),p&&(z.options=g||this.resolveDataElementOptions(A,T.active?"active":i)),F||this.updateElement(T,A,z,i),P=R}this.updateSharedOptions(g,i,f)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let l=0;for(let u=e.length-1;u>=0;--u)l=Math.max(l,e[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}const s=t.dataset,i=s.options&&s.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),a=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,a)/2}}ct(Io,"id","scatter"),ct(Io,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ct(Io,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var kT=Object.freeze({__proto__:null,BarController:Ao,BubbleController:To,DoughnutController:Cs,LineController:Mo,PieController:nu,PolarAreaController:$r,RadarController:Po,ScatterController:Io});function ys(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ru{constructor(t){ct(this,"options");this.options=t||{}}static override(t){Object.assign(Ru.prototype,t)}init(){}formats(){return ys()}parse(){return ys()}format(){return ys()}add(){return ys()}diff(){return ys()}startOf(){return ys()}endOf(){return ys()}}var OT={_date:Ru};function FT(n,t,e,s){const{controller:i,data:r,_sorted:a}=n,l=i._cachedMeta.iScale;if(l&&t===l.axis&&t!=="r"&&a&&r.length){const u=l._reversePixels?JE:Ti;if(s){if(i._sharedOptions){const d=r[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const g=u(r,t,e-f),p=u(r,t,e+f);return{lo:g.lo,hi:p.hi}}}}else return u(r,t,e)}return{lo:0,hi:r.length-1}}function pa(n,t,e,s,i){const r=n.getSortedVisibleDatasetMetas(),a=e[t];for(let l=0,u=r.length;l<u;++l){const{index:d,data:f}=r[l],{lo:g,hi:p}=FT(r[l],t,a,i);for(let v=g;v<=p;++v){const b=f[v];b.skip||s(b,d,v)}}}function DT(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(s,i){const r=t?Math.abs(s.x-i.x):0,a=e?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function zc(n,t,e,s,i){const r=[];return!i&&!n.isPointInArea(t)||pa(n,e,t,function(l,u,d){!i&&!Mi(l,n.chartArea,0)||l.inRange(t.x,t.y,s)&&r.push({element:l,datasetIndex:u,index:d})},!0),r}function ET(n,t,e,s){let i=[];function r(a,l,u){const{startAngle:d,endAngle:f}=a.getProps(["startAngle","endAngle"],s),{angle:g}=yp(a,{x:t.x,y:t.y});ia(g,d,f)&&i.push({element:a,datasetIndex:l,index:u})}return pa(n,e,t,r),i}function AT(n,t,e,s,i,r){let a=[];const l=DT(e);let u=Number.POSITIVE_INFINITY;function d(f,g,p){const v=f.inRange(t.x,t.y,i);if(s&&!v)return;const b=f.getCenterPoint(i);if(!(!!r||n.isPointInArea(b))&&!v)return;const S=l(t,b);S<u?(a=[{element:f,datasetIndex:g,index:p}],u=S):S===u&&a.push({element:f,datasetIndex:g,index:p})}return pa(n,e,t,d),a}function Uc(n,t,e,s,i,r){return!r&&!n.isPointInArea(t)?[]:e==="r"&&!s?ET(n,t,e,i):AT(n,t,e,s,i,r)}function ig(n,t,e,s,i){const r=[],a=e==="x"?"inXRange":"inYRange";let l=!1;return pa(n,e,t,(u,d,f)=>{u[a]&&u[a](t[e],i)&&(r.push({element:u,datasetIndex:d,index:f}),l=l||u.inRange(t.x,t.y,i))}),s&&!l?[]:r}var TT={evaluateInteractionItems:pa,modes:{index(n,t,e,s){const i=Ss(t,n),r=e.axis||"x",a=e.includeInvisible||!1,l=e.intersect?zc(n,i,r,s,a):Uc(n,i,r,!1,s,a),u=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const f=l[0].index,g=d.data[f];g&&!g.skip&&u.push({element:g,datasetIndex:d.index,index:f})}),u):[]},dataset(n,t,e,s){const i=Ss(t,n),r=e.axis||"xy",a=e.includeInvisible||!1;let l=e.intersect?zc(n,i,r,s,a):Uc(n,i,r,!1,s,a);if(l.length>0){const u=l[0].datasetIndex,d=n.getDatasetMeta(u).data;l=[];for(let f=0;f<d.length;++f)l.push({element:d[f],datasetIndex:u,index:f})}return l},point(n,t,e,s){const i=Ss(t,n),r=e.axis||"xy",a=e.includeInvisible||!1;return zc(n,i,r,s,a)},nearest(n,t,e,s){const i=Ss(t,n),r=e.axis||"xy",a=e.includeInvisible||!1;return Uc(n,i,r,e.intersect,s,a)},x(n,t,e,s){const i=Ss(t,n);return ig(n,i,"x",e.intersect,s)},y(n,t,e,s){const i=Ss(t,n);return ig(n,i,"y",e.intersect,s)}}};const Wp=["left","top","right","bottom"];function Er(n,t){return n.filter(e=>e.pos===t)}function sg(n,t){return n.filter(e=>Wp.indexOf(e.pos)===-1&&e.box.axis===t)}function Ar(n,t){return n.sort((e,s)=>{const i=t?s:e,r=t?e:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function MT(n){const t=[];let e,s,i,r,a,l;for(e=0,s=(n||[]).length;e<s;++e)i=n[e],{position:r,options:{stack:a,stackWeight:l=1}}=i,t.push({index:e,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&r+a,stackWeight:l});return t}function PT(n){const t={};for(const e of n){const{stack:s,pos:i,stackWeight:r}=e;if(!s||!Wp.includes(i))continue;const a=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}function IT(n,t){const e=PT(n),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let r,a,l;for(r=0,a=n.length;r<a;++r){l=n[r];const{fullSize:u}=l.box,d=e[l.stack],f=d&&l.stackWeight/d.weight;l.horizontal?(l.width=f?f*s:u&&t.availableWidth,l.height=i):(l.width=s,l.height=f?f*i:u&&t.availableHeight)}return e}function RT(n){const t=MT(n),e=Ar(t.filter(d=>d.box.fullSize),!0),s=Ar(Er(t,"left"),!0),i=Ar(Er(t,"right")),r=Ar(Er(t,"top"),!0),a=Ar(Er(t,"bottom")),l=sg(t,"x"),u=sg(t,"y");return{fullSize:e,leftAndTop:s.concat(r),rightAndBottom:i.concat(u).concat(a).concat(l),chartArea:Er(t,"chartArea"),vertical:s.concat(i).concat(u),horizontal:r.concat(a).concat(l)}}function rg(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function Hp(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function LT(n,t,e,s){const{pos:i,box:r}=e,a=n.maxPadding;if(!Xt(i)){e.size&&(n[i]-=e.size);const g=s[e.stack]||{size:0,count:1};g.size=Math.max(g.size,e.horizontal?r.height:r.width),e.size=g.size/g.count,n[i]+=e.size}r.getPadding&&Hp(a,r.getPadding());const l=Math.max(0,t.outerWidth-rg(a,n,"left","right")),u=Math.max(0,t.outerHeight-rg(a,n,"top","bottom")),d=l!==n.w,f=u!==n.h;return n.w=l,n.h=u,e.horizontal?{same:d,other:f}:{same:f,other:d}}function NT(n){const t=n.maxPadding;function e(s){const i=Math.max(t[s]-n[s],0);return n[s]+=i,i}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function BT(n,t){const e=t.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{r[a]=Math.max(t[a],e[a])}),r}return s(n?["left","right"]:["top","bottom"])}function Vr(n,t,e,s){const i=[];let r,a,l,u,d,f;for(r=0,a=n.length,d=0;r<a;++r){l=n[r],u=l.box,u.update(l.width||t.w,l.height||t.h,BT(l.horizontal,t));const{same:g,other:p}=LT(t,e,l,s);d|=g&&i.length,f=f||p,u.fullSize||i.push(l)}return d&&Vr(i,t,e,s)||f}function vo(n,t,e,s,i){n.top=e,n.left=t,n.right=t+s,n.bottom=e+i,n.width=s,n.height=i}function ag(n,t,e,s){const i=e.padding;let{x:r,y:a}=t;for(const l of n){const u=l.box,d=s[l.stack]||{count:1,placed:0,weight:1},f=l.stackWeight/d.weight||1;if(l.horizontal){const g=t.w*f,p=d.size||u.height;na(d.start)&&(a=d.start),u.fullSize?vo(u,i.left,a,e.outerWidth-i.right-i.left,p):vo(u,t.left+d.placed,a,g,p),d.start=a,d.placed+=g,a=u.bottom}else{const g=t.h*f,p=d.size||u.width;na(d.start)&&(r=d.start),u.fullSize?vo(u,r,i.top,p,e.outerHeight-i.bottom-i.top):vo(u,r,t.top+d.placed,p,g),d.start=r,d.placed+=g,r=u.right}}t.x=r,t.y=a}var an={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;const i=on(n.options.layout.padding),r=Math.max(t-i.width,0),a=Math.max(e-i.height,0),l=RT(n.boxes),u=l.vertical,d=l.horizontal;oe(n.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const f=u.reduce((y,S)=>S.box.options&&S.box.options.display===!1?y:y+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/f,hBoxMaxHeight:a/2}),p=Object.assign({},i);Hp(p,on(s));const v=Object.assign({maxPadding:p,w:r,h:a,x:i.left,y:i.top},i),b=IT(u.concat(d),g);Vr(l.fullSize,v,g,b),Vr(u,v,g,b),Vr(d,v,g,b)&&Vr(u,v,g,b),NT(v),ag(l.leftAndTop,v,g,b),v.x+=v.w,v.y+=v.h,ag(l.rightAndBottom,v,g,b),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},oe(l.chartArea,y=>{const S=y.box;Object.assign(S,n.chartArea),S.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class Yp{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,i){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):s)}}isAttached(t){return!0}updateConfig(t){}}class VT extends Yp{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ro="$chartjs",jT={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},og=n=>n===null||n==="";function zT(n,t){const e=n.style,s=n.getAttribute("height"),i=n.getAttribute("width");if(n[Ro]={initial:{height:s,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",og(i)){const r=Hh(n,"width");r!==void 0&&(n.width=r)}if(og(s))if(n.style.height==="")n.height=n.width/(t||2);else{const r=Hh(n,"height");r!==void 0&&(n.height=r)}return n}const Kp=WA?{passive:!0}:!1;function UT(n,t,e){n&&n.addEventListener(t,e,Kp)}function WT(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,Kp)}function HT(n,t){const e=jT[n.type]||n.type,{x:s,y:i}=Ss(n,t);return{type:e,chart:t,native:n,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Jo(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function YT(n,t,e){const s=n.canvas,i=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||Jo(l.addedNodes,s),a=a&&!Jo(l.removedNodes,s);a&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function KT(n,t,e){const s=n.canvas,i=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||Jo(l.removedNodes,s),a=a&&!Jo(l.addedNodes,s);a&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}const ra=new Map;let lg=0;function Gp(){const n=window.devicePixelRatio;n!==lg&&(lg=n,ra.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function GT(n,t){ra.size||window.addEventListener("resize",Gp),ra.set(n,t)}function XT(n){ra.delete(n),ra.size||window.removeEventListener("resize",Gp)}function ZT(n,t,e){const s=n.canvas,i=s&&Iu(s);if(!i)return;const r=wp((l,u)=>{const d=i.clientWidth;e(l,u),d<i.clientWidth&&e()},window),a=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,f=u.contentRect.height;d===0&&f===0||r(d,f)});return a.observe(i),GT(n,r),a}function Wc(n,t,e){e&&e.disconnect(),t==="resize"&&XT(n)}function JT(n,t,e){const s=n.canvas,i=wp(r=>{n.ctx!==null&&e(HT(r,n))},n);return UT(s,t,i),i}class QT extends Yp{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(zT(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[Ro])return!1;const s=e[Ro].initial;["height","width"].forEach(r=>{const a=s[r];$t(a)?e.removeAttribute(r):e.setAttribute(r,a)});const i=s.style||{};return Object.keys(i).forEach(r=>{e.style[r]=i[r]}),e.width=e.width,delete e[Ro],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),a={attach:YT,detach:KT,resize:ZT}[e]||JT;i[e]=a(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),i=s[e];if(!i)return;({attach:Wc,detach:Wc,resize:Wc}[e]||WT)(t,e,i),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,i){return UA(t,e,s,i)}isAttached(t){const e=t&&Iu(t);return!!(e&&e.isConnected)}}function $T(n){return!Pu()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?VT:QT}class oi{constructor(){ct(this,"x");ct(this,"y");ct(this,"active",!1);ct(this,"options");ct(this,"$animations")}tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return rr(this.x)&&rr(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const i={};return t.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}}ct(oi,"defaults",{}),ct(oi,"defaultRoutes");function qT(n,t){const e=n.options.ticks,s=tM(n),i=Math.min(e.maxTicksLimit||s,s),r=e.major.enabled?nM(t):[],a=r.length,l=r[0],u=r[a-1],d=[];if(a>i)return iM(t,d,r,a/i),d;const f=eM(r,t,i);if(a>0){let g,p;const v=a>1?Math.round((u-l)/(a-1)):null;for(bo(t,d,f,$t(v)?0:l-v,l),g=0,p=a-1;g<p;g++)bo(t,d,f,r[g],r[g+1]);return bo(t,d,f,u,$t(v)?t.length:u+v),d}return bo(t,d,f),d}function tM(n){const t=n.options.offset,e=n._tickSize(),s=n._length/e+(t?0:1),i=n._maxLength/e;return Math.floor(Math.min(s,i))}function eM(n,t,e){const s=sM(n),i=t.length/e;if(!s)return Math.max(i,1);const r=KE(s);for(let a=0,l=r.length-1;a<l;a++){const u=r[a];if(u>i)return u}return Math.max(i,1)}function nM(n){const t=[];let e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}function iM(n,t,e,s){let i=0,r=e[0],a;for(s=Math.ceil(s),a=0;a<n.length;a++)a===r&&(t.push(n[a]),i++,r=e[i*s])}function bo(n,t,e,s,i){const r=Lt(s,0),a=Math.min(Lt(i,n.length),n.length);let l=0,u,d,f;for(e=Math.ceil(e),i&&(u=i-s,e=u/Math.floor(u/e)),f=r;f<0;)l++,f=Math.round(r+l*e);for(d=Math.max(r,0);d<a;d++)d===f&&(t.push(n[d]),l++,f=Math.round(r+l*e))}function sM(n){const t=n.length;let e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}const rM=n=>n==="left"?"right":n==="right"?"left":n,cg=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,ug=(n,t)=>Math.min(t||n,n);function dg(n,t){const e=[],s=n.length/t,i=n.length;let r=0;for(;r<i;r+=s)e.push(n[Math.floor(r)]);return e}function aM(n,t,e){const s=n.ticks.length,i=Math.min(t,s-1),r=n._startPixel,a=n._endPixel,l=1e-6;let u=n.getPixelForTick(i),d;if(!(e&&(s===1?d=Math.max(u-r,a-u):t===0?d=(n.getPixelForTick(1)-u)/2:d=(u-n.getPixelForTick(i-1))/2,u+=i<t?d:-d,u<r-l||u>a+l)))return u}function oM(n,t){oe(n,e=>{const s=e.gc,i=s.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[s[r]];s.splice(0,i)}})}function Tr(n){return n.drawTicks?n.tickLength:0}function fg(n,t){if(!n.display)return 0;const e=Ye(n.font,t),s=on(n.padding);return(be(n.text)?n.text.length:1)*e.lineHeight+s.height}function lM(n,t){return ns(n,{scale:t,type:"scale"})}function cM(n,t,e){return ns(n,{tick:e,index:t,type:"tick"})}function uM(n,t,e){let s=Fu(n);return(e&&t!=="right"||!e&&t==="right")&&(s=rM(s)),s}function dM(n,t,e,s){const{top:i,left:r,bottom:a,right:l,chart:u}=n,{chartArea:d,scales:f}=u;let g=0,p,v,b;const y=a-i,S=l-r;if(n.isHorizontal()){if(v=nn(s,r,l),Xt(e)){const k=Object.keys(e)[0],F=e[k];b=f[k].getPixelForValue(F)+y-t}else e==="center"?b=(d.bottom+d.top)/2+y-t:b=cg(n,e,t);p=l-r}else{if(Xt(e)){const k=Object.keys(e)[0],F=e[k];v=f[k].getPixelForValue(F)-S+t}else e==="center"?v=(d.left+d.right)/2-S+t:v=cg(n,e,t);b=nn(s,a,i),g=e==="left"?-Le:Le}return{titleX:v,titleY:b,maxWidth:p,rotation:g}}class Ms extends oi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:i}=this;return t=Mn(t,Number.POSITIVE_INFINITY),e=Mn(e,Number.NEGATIVE_INFINITY),s=Mn(s,Number.POSITIVE_INFINITY),i=Mn(i,Number.NEGATIVE_INFINITY),{min:Mn(t,s),max:Mn(e,i),minDefined:Me(t),maxDefined:Me(e)}}getMinMax(t){let{min:e,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),a;if(i&&r)return{min:e,max:s};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)a=l[u].controller.getMinMax(this,t),i||(e=Math.min(e,a.min)),r||(s=Math.max(s,a.max));return e=r&&e>s?s:e,s=i&&e>s?e:s,{min:Mn(e,Mn(s,e)),max:Mn(s,Mn(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ge(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:i,grace:r,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_A(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?dg(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=qT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ge(this.options.afterUpdate,[this])}beforeSetDimensions(){ge(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ge(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ge(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ge(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s],r.label=ge(e.callback,[r.value,s,t],this)}afterTickToLabelConversion(){ge(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ge(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=ug(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let a=i,l,u,d;if(!this._isVisible()||!e.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),g=f.widest.width,p=f.highest.height,v=Ge(this.chart.width-g,0,this.maxWidth);l=t.offset?this.maxWidth/s:v/(s-1),g+6>l&&(l=v/(s-(t.offset?.5:1)),u=this.maxHeight-Tr(t.grid)-e.padding-fg(t.title,this.chart.options.font),d=Math.sqrt(g*g+p*p),a=ku(Math.min(Math.asin(Ge((f.highest.height+6)/l,-1,1)),Math.asin(Ge(u/d,-1,1))-Math.asin(Ge(p/d,-1,1)))),a=Math.max(i,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){ge(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ge(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:i,grid:r}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const u=fg(i,e.options.font);if(l?(t.width=this.maxWidth,t.height=Tr(r)+u):(t.height=this.maxHeight,t.width=Tr(r)+u),s.display&&this.ticks.length){const{first:d,last:f,widest:g,highest:p}=this._getLabelSizes(),v=s.padding*2,b=ri(this.labelRotation),y=Math.cos(b),S=Math.sin(b);if(l){const k=s.mirror?0:S*g.width+y*p.height;t.height=Math.min(this.maxHeight,t.height+k+v)}else{const k=s.mirror?0:y*g.width+S*p.height;t.width=Math.min(this.maxWidth,t.width+k+v)}this._calculatePadding(d,f,S,y)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,i){const{ticks:{align:r,padding:a},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,v=0;u?d?(p=i*t.width,v=s*e.height):(p=s*t.height,v=i*e.width):r==="start"?v=e.width:r==="end"?p=t.width:r!=="inner"&&(p=t.width/2,v=e.width/2),this.paddingLeft=Math.max((p-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((v-g+a)*this.width/(this.width-g),0)}else{let f=e.height/2,g=t.height/2;r==="start"?(f=0,g=t.height):r==="end"&&(f=e.height,g=0),this.paddingTop=f+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ge(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)$t(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=dg(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:i,_longestTextCache:r}=this,a=[],l=[],u=Math.floor(e/ug(e,s));let d=0,f=0,g,p,v,b,y,S,k,F,P,A,T;for(g=0;g<e;g+=u){if(b=t[g].label,y=this._resolveTickFontOptions(g),i.font=S=y.string,k=r[S]=r[S]||{data:{},gc:[]},F=y.lineHeight,P=A=0,!$t(b)&&!be(b))P=Xo(i,k.data,k.gc,P,b),A=F;else if(be(b))for(p=0,v=b.length;p<v;++p)T=b[p],!$t(T)&&!be(T)&&(P=Xo(i,k.data,k.gc,P,T),A+=F);a.push(P),l.push(A),d=Math.max(P,d),f=Math.max(A,f)}oM(r,e);const R=a.indexOf(d),z=l.indexOf(f),W=B=>({width:a[B]||0,height:l[B]||0});return{first:W(0),last:W(e-1),widest:W(R),highest:W(z),widths:a,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return ZE(this._alignToPixels?bs(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=cM(this.getContext(),t,s))}return this.$context||(this.$context=lM(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ri(this.labelRotation),s=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,l=r?r.widest.width+a:0,u=r?r.highest.height+a:0;return this.isHorizontal()?u*s>l*i?l/s:u/i:u*i<l*s?u/s:l/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,i=this.options,{grid:r,position:a,border:l}=i,u=r.offset,d=this.isHorizontal(),g=this.ticks.length+(u?1:0),p=Tr(r),v=[],b=l.setContext(this.getContext()),y=b.display?b.width:0,S=y/2,k=function(nt){return bs(s,nt,y)};let F,P,A,T,R,z,W,B,J,q,lt,et;if(a==="top")F=k(this.bottom),z=this.bottom-p,B=F-S,q=k(t.top)+S,et=t.bottom;else if(a==="bottom")F=k(this.top),q=t.top,et=k(t.bottom)-S,z=F+S,B=this.top+p;else if(a==="left")F=k(this.right),R=this.right-p,W=F-S,J=k(t.left)+S,lt=t.right;else if(a==="right")F=k(this.left),J=t.left,lt=k(t.right)-S,R=F+S,W=this.left+p;else if(e==="x"){if(a==="center")F=k((t.top+t.bottom)/2+.5);else if(Xt(a)){const nt=Object.keys(a)[0],ot=a[nt];F=k(this.chart.scales[nt].getPixelForValue(ot))}q=t.top,et=t.bottom,z=F+S,B=z+p}else if(e==="y"){if(a==="center")F=k((t.left+t.right)/2);else if(Xt(a)){const nt=Object.keys(a)[0],ot=a[nt];F=k(this.chart.scales[nt].getPixelForValue(ot))}R=F-S,W=R-p,J=t.left,lt=t.right}const rt=Lt(i.ticks.maxTicksLimit,g),dt=Math.max(1,Math.ceil(g/rt));for(P=0;P<g;P+=dt){const nt=this.getContext(P),ot=r.setContext(nt),_t=l.setContext(nt),Pt=ot.lineWidth,se=ot.color,jt=_t.dash||[],ee=_t.dashOffset,ce=ot.tickWidth,le=ot.tickColor,Qt=ot.tickBorderDash||[],Wt=ot.tickBorderDashOffset;A=aM(this,P,u),A!==void 0&&(T=bs(s,A,Pt),d?R=W=J=lt=T:z=B=q=et=T,v.push({tx1:R,ty1:z,tx2:W,ty2:B,x1:J,y1:q,x2:lt,y2:et,width:Pt,color:se,borderDash:jt,borderDashOffset:ee,tickWidth:ce,tickColor:le,tickBorderDash:Qt,tickBorderDashOffset:Wt}))}return this._ticksLength=g,this._borderValue=F,v}_computeLabelItems(t){const e=this.axis,s=this.options,{position:i,ticks:r}=s,a=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:f,mirror:g}=r,p=Tr(s.grid),v=p+f,b=g?-f:v,y=-ri(this.labelRotation),S=[];let k,F,P,A,T,R,z,W,B,J,q,lt,et="middle";if(i==="top")R=this.bottom-b,z=this._getXAxisLabelAlignment();else if(i==="bottom")R=this.top+b,z=this._getXAxisLabelAlignment();else if(i==="left"){const dt=this._getYAxisLabelAlignment(p);z=dt.textAlign,T=dt.x}else if(i==="right"){const dt=this._getYAxisLabelAlignment(p);z=dt.textAlign,T=dt.x}else if(e==="x"){if(i==="center")R=(t.top+t.bottom)/2+v;else if(Xt(i)){const dt=Object.keys(i)[0],nt=i[dt];R=this.chart.scales[dt].getPixelForValue(nt)+v}z=this._getXAxisLabelAlignment()}else if(e==="y"){if(i==="center")T=(t.left+t.right)/2-v;else if(Xt(i)){const dt=Object.keys(i)[0],nt=i[dt];T=this.chart.scales[dt].getPixelForValue(nt)}z=this._getYAxisLabelAlignment(p).textAlign}e==="y"&&(u==="start"?et="top":u==="end"&&(et="bottom"));const rt=this._getLabelSizes();for(k=0,F=l.length;k<F;++k){P=l[k],A=P.label;const dt=r.setContext(this.getContext(k));W=this.getPixelForTick(k)+r.labelOffset,B=this._resolveTickFontOptions(k),J=B.lineHeight,q=be(A)?A.length:1;const nt=q/2,ot=dt.color,_t=dt.textStrokeColor,Pt=dt.textStrokeWidth;let se=z;a?(T=W,z==="inner"&&(k===F-1?se=this.options.reverse?"left":"right":k===0?se=this.options.reverse?"right":"left":se="center"),i==="top"?d==="near"||y!==0?lt=-q*J+J/2:d==="center"?lt=-rt.highest.height/2-nt*J+J:lt=-rt.highest.height+J/2:d==="near"||y!==0?lt=J/2:d==="center"?lt=rt.highest.height/2-nt*J:lt=rt.highest.height-q*J,g&&(lt*=-1),y!==0&&!dt.showLabelBackdrop&&(T+=J/2*Math.sin(y))):(R=W,lt=(1-q)*J/2);let jt;if(dt.showLabelBackdrop){const ee=on(dt.backdropPadding),ce=rt.heights[k],le=rt.widths[k];let Qt=lt-ee.top,Wt=0-ee.left;switch(et){case"middle":Qt-=ce/2;break;case"bottom":Qt-=ce;break}switch(z){case"center":Wt-=le/2;break;case"right":Wt-=le;break;case"inner":k===F-1?Wt-=le:k>0&&(Wt-=le/2);break}jt={left:Wt,top:Qt,width:le+ee.width,height:ce+ee.height,color:dt.backdropColor}}S.push({label:A,font:B,textOffset:lt,options:{rotation:y,color:ot,strokeColor:_t,strokeWidth:Pt,textAlign:se,textBaseline:et,translation:[T,R],backdrop:jt}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ri(this.labelRotation))return t==="top"?"left":"right";let i="center";return e.align==="start"?i="left":e.align==="end"?i="right":e.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,a=this._getLabelSizes(),l=t+r,u=a.widest.width;let d,f;return e==="left"?i?(f=this.right+r,s==="near"?d="left":s==="center"?(d="center",f+=u/2):(d="right",f+=u)):(f=this.right-l,s==="near"?d="right":s==="center"?(d="center",f-=u/2):(d="left",f=this.left)):e==="right"?i?(f=this.left+r,s==="near"?d="right":s==="center"?(d="center",f-=u/2):(d="left",f-=u)):(f=this.left+l,s==="near"?d="left":s==="center"?(d="center",f+=u/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:i,width:r,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,i,r,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,a;const l=(u,d,f)=>{!f.width||!f.color||(s.save(),s.lineWidth=f.width,s.strokeStyle=f.color,s.setLineDash(f.borderDash||[]),s.lineDashOffset=f.borderDashOffset,s.beginPath(),s.moveTo(u.x,u.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(e.display)for(r=0,a=i.length;r<a;++r){const u=i[r];e.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),e.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),a=s.display?r.width:0;if(!a)return;const l=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,f,g,p;this.isHorizontal()?(d=bs(t,this.left,a)-a/2,f=bs(t,this.right,l)+l/2,g=p=u):(g=bs(t,this.top,a)-a/2,p=bs(t,this.bottom,l)+l/2,d=f=u),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(d,g),e.lineTo(f,p),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&rl(s,i);const r=this.getLabelItems(t);for(const a of r){const l=a.options,u=a.font,d=a.label,f=a.textOffset;Ts(s,d,0,f,u,l)}i&&al(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:i}}=this;if(!s.display)return;const r=Ye(s.font),a=on(s.padding),l=s.align;let u=r.lineHeight/2;e==="bottom"||e==="center"||Xt(e)?(u+=a.bottom,be(s.text)&&(u+=r.lineHeight*(s.text.length-1))):u+=a.top;const{titleX:d,titleY:f,maxWidth:g,rotation:p}=dM(this,u,e,l);Ts(t,s.text,0,0,r,{color:s.color,maxWidth:g,rotation:p,textAlign:uM(l,e,i),textBaseline:"middle",translation:[d,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=Lt(t.grid&&t.grid.z,-1),i=Lt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ms.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,a;for(r=0,a=e.length;r<a;++r){const l=e[r];l[s]===this.id&&(!t||l.type===t)&&i.push(l)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ye(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class yo{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;gM(e)&&(s=this.register(e));const i=this.items,r=t.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,fM(t,a,s),this.override&&ke.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,i=this.scope;s in e&&delete e[s],i&&s in ke[i]&&(delete ke[i][s],this.override&&delete As[s])}}function fM(n,t,e){const s=ea(Object.create(null),[e?ke.get(e):{},ke.get(t),n.defaults]);ke.set(t,s),n.defaultRoutes&&hM(t,n.defaultRoutes),n.descriptors&&ke.describe(t,n.descriptors)}function hM(n,t){Object.keys(t).forEach(e=>{const s=e.split("."),i=s.pop(),r=[n].concat(s).join("."),a=t[e].split("."),l=a.pop(),u=a.join(".");ke.route(r,i,u,l)})}function gM(n){return"id"in n&&"defaults"in n}class pM{constructor(){this.controllers=new yo(ai,"datasets",!0),this.elements=new yo(oi,"elements"),this.plugins=new yo(Object,"plugins"),this.scales=new yo(Ms,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):oe(i,a=>{const l=s||this._getRegistryForType(a);this._exec(t,l,a)})})}_exec(t,e,s){const i=Cu(t);ge(s["before"+i],[],s),e[t](s),ge(s["after"+i],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const i=e.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var hi=new pM;class mM{constructor(){this._init=[]}notify(t,e,s,i){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),a=this._notify(r,t,e,s);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,s,i){i=i||{};for(const r of t){const a=r.plugin,l=a[s],u=[e,i,r.options];if(ge(l,u,a)===!1&&i.cancelable)return!1}return!0}invalidate(){$t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,i=Lt(s.options&&s.options.plugins,{}),r=vM(s);return i===!1&&!e?[]:yM(t,r,i,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,i=(r,a)=>r.filter(l=>!a.some(u=>l.plugin.id===u.plugin.id));this._notify(i(e,s),t,"stop"),this._notify(i(s,e),t,"start")}}function vM(n){const t={},e=[],s=Object.keys(hi.plugins.items);for(let r=0;r<s.length;r++)e.push(hi.getPlugin(s[r]));const i=n.plugins||[];for(let r=0;r<i.length;r++){const a=i[r];e.indexOf(a)===-1&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}function bM(n,t){return!t&&n===!1?null:n===!0?{}:n}function yM(n,{plugins:t,localIds:e},s,i){const r=[],a=n.getContext();for(const l of t){const u=l.id,d=bM(s[u],i);d!==null&&r.push({plugin:l,options:_M(n.config,{plugin:l,local:e[u]},d,a)})}return r}function _M(n,{plugin:t,local:e},s,i){const r=n.pluginScopeKeys(t),a=n.getOptionScopes(s,r);return e&&t.defaults&&a.push(t.defaults),n.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function iu(n,t){const e=ke.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function xM(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function SM(n,t){return n===t?"_index_":"_value_"}function hg(n){if(n==="x"||n==="y"||n==="r")return n}function wM(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function su(n,...t){if(hg(n))return n;for(const e of t){const s=e.axis||wM(e.position)||n.length>1&&hg(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function gg(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function CM(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(e.length)return gg(n,"x",e[0])||gg(n,"y",e[0])}return{}}function kM(n,t){const e=As[n.type]||{scales:{}},s=t.scales||{},i=iu(n.type,t),r=Object.create(null);return Object.keys(s).forEach(a=>{const l=s[a];if(!Xt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=su(a,l,CM(a,n),ke.scales[l.type]),d=SM(u,i),f=e.scales||{};r[a]=Xr(Object.create(null),[{axis:u},l,f[u],f[d]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,u=a.indexAxis||iu(l,t),f=(As[l]||{}).scales||{};Object.keys(f).forEach(g=>{const p=xM(g,u),v=a[p+"AxisID"]||p;r[v]=r[v]||Object.create(null),Xr(r[v],[{axis:p},s[v],f[g]])})}),Object.keys(r).forEach(a=>{const l=r[a];Xr(l,[ke.scales[l.type],ke.scale])}),r}function Xp(n){const t=n.options||(n.options={});t.plugins=Lt(t.plugins,{}),t.scales=kM(n,t)}function Zp(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function OM(n){return n=n||{},n.data=Zp(n.data),Xp(n),n}const pg=new Map,Jp=new Set;function _o(n,t){let e=pg.get(n);return e||(e=t(),pg.set(n,e),Jp.add(e)),e}const Mr=(n,t,e)=>{const s=qi(t,e);s!==void 0&&n.add(s)};class FM{constructor(t){this._config=OM(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Zp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Xp(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _o(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return _o(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return _o(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return _o(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let i=s.get(t);return(!i||e)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,e,s){const{options:i,type:r}=this,a=this._cachedScopes(t,s),l=a.get(e);if(l)return l;const u=new Set;e.forEach(f=>{t&&(u.add(t),f.forEach(g=>Mr(u,t,g))),f.forEach(g=>Mr(u,i,g)),f.forEach(g=>Mr(u,As[r]||{},g)),f.forEach(g=>Mr(u,ke,g)),f.forEach(g=>Mr(u,tu,g))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),Jp.has(e)&&a.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,As[e]||{},ke.datasets[e]||{},{type:e},ke,tu]}resolveNamedOptions(t,e,s,i=[""]){const r={$shared:!0},{resolver:a,subPrefixes:l}=mg(this._resolverCache,t,i);let u=a;if(EM(a,e)){r.$shared=!1,s=ts(s)?s():s;const d=this.createResolver(t,s,l);u=ar(a,s,d)}for(const d of e)r[d]=u[d];return r}createResolver(t,e,s=[""],i){const{resolver:r}=mg(this._resolverCache,t,s);return Xt(e)?ar(r,e,void 0,i):r}}function mg(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));const i=e.join();let r=s.get(i);return r||(r={resolver:Au(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},s.set(i,r)),r}const DM=n=>Xt(n)&&Object.getOwnPropertyNames(n).some(t=>ts(n[t]));function EM(n,t){const{isScriptable:e,isIndexable:s}=Ep(n);for(const i of t){const r=e(i),a=s(i),l=(a||r)&&n[i];if(r&&(ts(l)||DM(l))||a&&be(l))return!0}return!1}var AM="4.4.7";const TM=["top","bottom","left","right","chartArea"];function vg(n,t){return n==="top"||n==="bottom"||TM.indexOf(n)===-1&&t==="x"}function bg(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function yg(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ge(e&&e.onComplete,[n],t)}function MM(n){const t=n.chart,e=t.options.animation;ge(e&&e.onProgress,[n],t)}function Qp(n){return Pu()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Lo={},_g=n=>{const t=Qp(n);return Object.values(Lo).filter(e=>e.canvas===t).pop()};function PM(n,t,e){const s=Object.keys(n);for(const i of s){const r=+i;if(r>=t){const a=n[i];delete n[i],(e>0||r>t)&&(n[r+e]=a)}}}function IM(n,t,e,s){return!e||n.type==="mouseout"?null:s?t:n}function xo(n,t,e){return n.options.clip?n[e]:t[e]}function RM(n,t){const{xScale:e,yScale:s}=n;return e&&s?{left:xo(e,t,"left"),right:xo(e,t,"right"),top:xo(s,t,"top"),bottom:xo(s,t,"bottom")}:t}class Yi{static register(...t){hi.add(...t),xg()}static unregister(...t){hi.remove(...t),xg()}constructor(t,e){const s=this.config=new FM(e),i=Qp(t),r=_g(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||$T(i)),this.platform.updateConfig(s);const l=this.platform.acquireContext(i,a.aspectRatio),u=l&&l.canvas,d=u&&u.height,f=u&&u.width;if(this.id=NE(),this.ctx=l,this.canvas=u,this.width=f,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=qE(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],Lo[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Fi.listen(this,"complete",yg),Fi.listen(this,"progress",MM),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:i,_aspectRatio:r}=this;return $t(t)?e&&r?r:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return hi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Wh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jh(this.canvas,this.ctx),this}stop(){return Fi.stop(this),this}resize(t,e){Fi.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,t,e,r),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Wh(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),ge(s.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};oe(e,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,i=Object.keys(s).reduce((a,l)=>(a[l]=!1,a),{});let r=[];e&&(r=r.concat(Object.keys(e).map(a=>{const l=e[a],u=su(a,l),d=u==="r",f=u==="x";return{options:l,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),oe(r,a=>{const l=a.options,u=l.id,d=su(u,l),f=Lt(l.type,a.dtype);(l.position===void 0||vg(l.position,d)!==vg(a.dposition))&&(l.position=a.dposition),i[u]=!0;let g=null;if(u in s&&s[u].type===f)g=s[u];else{const p=hi.getScale(f);g=new p({id:u,type:f,ctx:this.ctx,chart:this}),s[g.id]=g}g.init(l,t)}),oe(i,(a,l)=>{a||delete s[l]}),oe(s,a=>{an.configure(this,a,a.options),an.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((i,r)=>i.index-r.index),s>e){for(let i=e;i<s;++i)this._destroyDatasetMeta(i);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(bg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,i)=>{e.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=e.length;s<i;s++){const r=e[s];let a=this.getDatasetMeta(s);const l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=l,a.indexAxis=r.indexAxis||iu(l,this.options),a.order=r.order||0,a.index=s,a.label=""+r.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const u=hi.getController(l),{datasetElementType:d,dataElementType:f}=ke.datasets[l];Object.assign(u,{dataElementType:hi.getElement(f),datasetElementType:d&&hi.getElement(d)}),a.controller=new u(this,s),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){oe(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:g}=this.getDatasetMeta(d),p=!i&&r.indexOf(g)===-1;g.buildOrUpdateElements(p),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),i||oe(r,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(bg("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){oe(this.scales,t=>{an.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Th(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of e){const a=s==="_removeElements"?-r:r;PM(t,i,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=r=>new Set(t.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),i=s(0);for(let r=1;r<e;r++)if(!Th(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;an.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],oe(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,ts(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Fi.has(this)?this.attached&&!Fi.running(this)&&Fi.start(this):(this.draw(),yg({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let i,r;for(i=0,r=e.length;i<r;++i){const a=e[i];(!t||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s=t._clip,i=!s.disabled,r=RM(t,this.chartArea),a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&rl(e,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?this.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?this.height:r.bottom+s.bottom}),t.controller.draw(),i&&al(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return Mi(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,i){const r=TT.modes[e];return typeof r=="function"?r(this,t,s,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let i=s.filter(r=>r&&r._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=ns(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const i=s?"show":"hide",r=this.getDatasetMeta(t),a=r.controller._resolveAnimations(void 0,i);na(e)?(r.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),a.update(r,{visible:s}),this.update(l=>l.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Fi.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),jh(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Lo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(r,a)=>{e.addEventListener(this,r,a),t[r]=a},i=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};oe(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(u,d)=>{e.addEventListener(this,u,d),t[u]=d},i=(u,d)=>{t[u]&&(e.removeEventListener(this,u,d),delete t[u])},r=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const l=()=>{i("attach",l),this.attached=!0,this.resize(),s("resize",r),s("detach",a)};a=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",l)},e.isAttached(this.canvas)?l():a()}unbindEvents(){oe(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},oe(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const i=s?"set":"remove";let r,a,l,u;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),l=0,u=t.length;l<u;++l){a=t[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:r,index:a})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!Yo(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const i=this.options.hover,r=(u,d)=>u.filter(f=>!d.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),a=r(e,t),l=s?t:r(t,e);a.length&&this.updateHoverStyle(a,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:i=[],options:r}=this,a=e,l=this._getActiveElements(t,i,s,a),u=WE(t),d=IM(t,this._lastEvent,s,u);s&&(this._lastEvent=null,ge(r.onHover,[t,l,this],this),u&&ge(r.onClick,[t,l,this],this));const f=!Yo(l,i);return(f||e)&&(this._active=l,this._updateHoverStyles(l,i,e)),this._lastEvent=d,f}_getActiveElements(t,e,s,i){if(t.type==="mouseout")return[];if(!s)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}ct(Yi,"defaults",ke),ct(Yi,"instances",Lo),ct(Yi,"overrides",As),ct(Yi,"registry",hi),ct(Yi,"version",AM),ct(Yi,"getChart",_g);function xg(){return oe(Yi.instances,n=>n._plugins.invalidate())}function LM(n,t,e){const{startAngle:s,pixelMargin:i,x:r,y:a,outerRadius:l,innerRadius:u}=t;let d=i/l;n.beginPath(),n.arc(r,a,l,s-d,e+d),u>i?(d=i/u,n.arc(r,a,u,e+d,s-d,!0)):n.arc(r,a,i,e+Le,s-Le),n.closePath(),n.clip()}function NM(n){return Eu(n,["outerStart","outerEnd","innerStart","innerEnd"])}function BM(n,t,e,s){const i=NM(n.options.borderRadius),r=(e-t)/2,a=Math.min(r,s*t/2),l=u=>{const d=(e-Math.min(r,u))*s/2;return Ge(u,0,Math.min(r,d))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Ge(i.innerStart,0,a),innerEnd:Ge(i.innerEnd,0,a)}}function $s(n,t,e,s){return{x:e+n*Math.cos(t),y:s+n*Math.sin(t)}}function Qo(n,t,e,s,i,r){const{x:a,y:l,startAngle:u,pixelMargin:d,innerRadius:f}=t,g=Math.max(t.outerRadius+s+e-d,0),p=f>0?f+s+e+d:0;let v=0;const b=i-u;if(s){const dt=f>0?f-s:0,nt=g>0?g-s:0,ot=(dt+nt)/2,_t=ot!==0?b*ot/(ot+s):b;v=(b-_t)/2}const y=Math.max(.001,b*g-e/_e)/g,S=(b-y)/2,k=u+S+v,F=i-S-v,{outerStart:P,outerEnd:A,innerStart:T,innerEnd:R}=BM(t,p,g,F-k),z=g-P,W=g-A,B=k+P/z,J=F-A/W,q=p+T,lt=p+R,et=k+T/q,rt=F-R/lt;if(n.beginPath(),r){const dt=(B+J)/2;if(n.arc(a,l,g,B,dt),n.arc(a,l,g,dt,J),A>0){const Pt=$s(W,J,a,l);n.arc(Pt.x,Pt.y,A,J,F+Le)}const nt=$s(lt,F,a,l);if(n.lineTo(nt.x,nt.y),R>0){const Pt=$s(lt,rt,a,l);n.arc(Pt.x,Pt.y,R,F+Le,rt+Math.PI)}const ot=(F-R/p+(k+T/p))/2;if(n.arc(a,l,p,F-R/p,ot,!0),n.arc(a,l,p,ot,k+T/p,!0),T>0){const Pt=$s(q,et,a,l);n.arc(Pt.x,Pt.y,T,et+Math.PI,k-Le)}const _t=$s(z,k,a,l);if(n.lineTo(_t.x,_t.y),P>0){const Pt=$s(z,B,a,l);n.arc(Pt.x,Pt.y,P,k-Le,B)}}else{n.moveTo(a,l);const dt=Math.cos(B)*g+a,nt=Math.sin(B)*g+l;n.lineTo(dt,nt);const ot=Math.cos(J)*g+a,_t=Math.sin(J)*g+l;n.lineTo(ot,_t)}n.closePath()}function VM(n,t,e,s,i){const{fullCircles:r,startAngle:a,circumference:l}=t;let u=t.endAngle;if(r){Qo(n,t,e,s,u,i);for(let d=0;d<r;++d)n.fill();isNaN(l)||(u=a+(l%ye||ye))}return Qo(n,t,e,s,u,i),n.fill(),u}function jM(n,t,e,s,i){const{fullCircles:r,startAngle:a,circumference:l,options:u}=t,{borderWidth:d,borderJoinStyle:f,borderDash:g,borderDashOffset:p}=u,v=u.borderAlign==="inner";if(!d)return;n.setLineDash(g||[]),n.lineDashOffset=p,v?(n.lineWidth=d*2,n.lineJoin=f||"round"):(n.lineWidth=d,n.lineJoin=f||"bevel");let b=t.endAngle;if(r){Qo(n,t,e,s,b,i);for(let y=0;y<r;++y)n.stroke();isNaN(l)||(b=a+(l%ye||ye))}v&&LM(n,t,b),r||(Qo(n,t,e,s,b,i),n.stroke())}class jr extends oi{constructor(e){super();ct(this,"circumference");ct(this,"endAngle");ct(this,"fullCircles");ct(this,"innerRadius");ct(this,"outerRadius");ct(this,"pixelMargin");ct(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,i){const r=this.getProps(["x","y"],i),{angle:a,distance:l}=yp(r,{x:e,y:s}),{startAngle:u,endAngle:d,innerRadius:f,outerRadius:g,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,b=Lt(p,d-u),y=ia(a,u,d)&&u!==d,S=b>=ye||y,k=Ai(l,f+v,g+v);return S&&k}getCenterPoint(e){const{x:s,y:i,startAngle:r,endAngle:a,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:f}=this.options,g=(r+a)/2,p=(l+u+f+d)/2;return{x:s+Math.cos(g)*p,y:i+Math.sin(g)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:i}=this,r=(s.offset||0)/4,a=(s.spacing||0)/2,l=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>ye?Math.floor(i/ye):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*r,Math.sin(u)*r);const d=1-Math.sin(Math.min(_e,i||0)),f=r*d;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,VM(e,this,f,a,l),jM(e,this,f,a,l),e.restore()}}ct(jr,"id","arc"),ct(jr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ct(jr,"defaultRoutes",{backgroundColor:"backgroundColor"}),ct(jr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function $p(n,t,e=t){n.lineCap=Lt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Lt(e.borderDash,t.borderDash)),n.lineDashOffset=Lt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Lt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Lt(e.borderWidth,t.borderWidth),n.strokeStyle=Lt(e.borderColor,t.borderColor)}function zM(n,t,e){n.lineTo(e.x,e.y)}function UM(n){return n.stepped?dA:n.tension||n.cubicInterpolationMode==="monotone"?fA:zM}function qp(n,t,e={}){const s=n.length,{start:i=0,end:r=s-1}=e,{start:a,end:l}=t,u=Math.max(i,a),d=Math.min(r,l),f=i<a&&r<a||i>l&&r>l;return{count:s,start:u,loop:t.loop,ilen:d<u&&!f?s+d-u:d-u}}function WM(n,t,e,s){const{points:i,options:r}=t,{count:a,start:l,loop:u,ilen:d}=qp(i,e,s),f=UM(r);let{move:g=!0,reverse:p}=s||{},v,b,y;for(v=0;v<=d;++v)b=i[(l+(p?d-v:v))%a],!b.skip&&(g?(n.moveTo(b.x,b.y),g=!1):f(n,y,b,p,r.stepped),y=b);return u&&(b=i[(l+(p?d:0))%a],f(n,y,b,p,r.stepped)),!!u}function HM(n,t,e,s){const i=t.points,{count:r,start:a,ilen:l}=qp(i,e,s),{move:u=!0,reverse:d}=s||{};let f=0,g=0,p,v,b,y,S,k;const F=A=>(a+(d?l-A:A))%r,P=()=>{y!==S&&(n.lineTo(f,S),n.lineTo(f,y),n.lineTo(f,k))};for(u&&(v=i[F(0)],n.moveTo(v.x,v.y)),p=0;p<=l;++p){if(v=i[F(p)],v.skip)continue;const A=v.x,T=v.y,R=A|0;R===b?(T<y?y=T:T>S&&(S=T),f=(g*f+A)/++g):(P(),n.lineTo(A,T),b=R,g=0,y=S=T),k=T}P()}function ru(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?HM:WM}function YM(n){return n.stepped?HA:n.tension||n.cubicInterpolationMode==="monotone"?YA:ws}function KM(n,t,e,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,s)&&i.closePath()),$p(n,t.options),n.stroke(i)}function GM(n,t,e,s){const{segments:i,options:r}=t,a=ru(t);for(const l of i)$p(n,r,l.style),n.beginPath(),a(n,t,l,{start:e,end:e+s-1})&&n.closePath(),n.stroke()}const XM=typeof Path2D=="function";function ZM(n,t,e,s){XM&&!t.options.segment?KM(n,t,e,s):GM(n,t,e,s)}class Ji extends oi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;LA(this._points,s,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=QA(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options,i=t[e],r=this.points,a=Vp(this,{property:e,start:i,end:i});if(!a.length)return;const l=[],u=YM(s);let d,f;for(d=0,f=a.length;d<f;++d){const{start:g,end:p}=a[d],v=r[g],b=r[p];if(v===b){l.push(v);continue}const y=Math.abs((i-v[e])/(b[e]-v[e])),S=u(v,b,y,s.stepped);S[e]=t[e],l.push(S)}return l.length===1?l[0]:l}pathSegment(t,e,s){return ru(this)(t,this,e,s)}path(t,e,s){const i=this.segments,r=ru(this);let a=this._loop;e=e||0,s=s||this.points.length-e;for(const l of i)a&=r(t,this,l,{start:e,end:e+s-1});return!!a}draw(t,e,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),ZM(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ct(Ji,"id","line"),ct(Ji,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ct(Ji,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ct(Ji,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Sg(n,t,e,s){const i=n.options,{[e]:r}=n.getProps([e],s);return Math.abs(t-r)<i.radius+i.hitRadius}class No extends oi{constructor(e){super();ct(this,"parsed");ct(this,"skip");ct(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,i){const r=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(e-a,2)+Math.pow(s-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,s){return Sg(this,e,"x",s)}inYRange(e,s){return Sg(this,e,"y",s)}getCenterPoint(e){const{x:s,y:i}=this.getProps(["x","y"],e);return{x:s,y:i}}size(e){e=e||this.options||{};let s=e.radius||0;s=Math.max(s,s&&e.hoverRadius||0);const i=s&&e.borderWidth||0;return(s+i)*2}draw(e,s){const i=this.options;this.skip||i.radius<.1||!Mi(this,s,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,eu(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}ct(No,"id","point"),ct(No,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ct(No,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function tm(n,t){const{x:e,y:s,base:i,width:r,height:a}=n.getProps(["x","y","base","width","height"],t);let l,u,d,f,g;return n.horizontal?(g=a/2,l=Math.min(e,i),u=Math.max(e,i),d=s-g,f=s+g):(g=r/2,l=e-g,u=e+g,d=Math.min(s,i),f=Math.max(s,i)),{left:l,top:d,right:u,bottom:f}}function Qi(n,t,e,s){return n?0:Ge(t,e,s)}function JM(n,t,e){const s=n.options.borderWidth,i=n.borderSkipped,r=Dp(s);return{t:Qi(i.top,r.top,0,e),r:Qi(i.right,r.right,0,t),b:Qi(i.bottom,r.bottom,0,e),l:Qi(i.left,r.left,0,t)}}function QM(n,t,e){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,r=Os(i),a=Math.min(t,e),l=n.borderSkipped,u=s||Xt(i);return{topLeft:Qi(!u||l.top||l.left,r.topLeft,0,a),topRight:Qi(!u||l.top||l.right,r.topRight,0,a),bottomLeft:Qi(!u||l.bottom||l.left,r.bottomLeft,0,a),bottomRight:Qi(!u||l.bottom||l.right,r.bottomRight,0,a)}}function $M(n){const t=tm(n),e=t.right-t.left,s=t.bottom-t.top,i=JM(n,e/2,s/2),r=QM(n,e/2,s/2);return{outer:{x:t.left,y:t.top,w:e,h:s,radius:r},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Hc(n,t,e,s){const i=t===null,r=e===null,l=n&&!(i&&r)&&tm(n,s);return l&&(i||Ai(t,l.left,l.right))&&(r||Ai(e,l.top,l.bottom))}function qM(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function tP(n,t){n.rect(t.x,t.y,t.w,t.h)}function Yc(n,t,e={}){const s=n.x!==e.x?-t:0,i=n.y!==e.y?-t:0,r=(n.x+n.w!==e.x+e.w?t:0)-s,a=(n.y+n.h!==e.y+e.h?t:0)-i;return{x:n.x+s,y:n.y+i,w:n.w+r,h:n.h+a,radius:n.radius}}class Bo extends oi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:a}=$M(this),l=qM(a.radius)?sa:tP;t.save(),(a.w!==r.w||a.h!==r.h)&&(t.beginPath(),l(t,Yc(a,e,r)),t.clip(),l(t,Yc(r,-e,a)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),l(t,Yc(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,s){return Hc(this,t,e,s)}inXRange(t,e){return Hc(this,t,null,e)}inYRange(t,e){return Hc(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?s:(s+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ct(Bo,"id","bar"),ct(Bo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ct(Bo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var eP=Object.freeze({__proto__:null,ArcElement:jr,BarElement:Bo,LineElement:Ji,PointElement:No});const au=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],wg=au.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function em(n){return au[n%au.length]}function nm(n){return wg[n%wg.length]}function nP(n,t){return n.borderColor=em(t),n.backgroundColor=nm(t),++t}function iP(n,t){return n.backgroundColor=n.data.map(()=>em(t++)),t}function sP(n,t){return n.backgroundColor=n.data.map(()=>nm(t++)),t}function rP(n){let t=0;return(e,s)=>{const i=n.getDatasetMeta(s).controller;i instanceof Cs?t=iP(e,t):i instanceof $r?t=sP(e,t):i&&(t=nP(e,t))}}function Cg(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function aP(n){return n&&(n.borderColor||n.backgroundColor)}function oP(){return ke.borderColor!=="rgba(0,0,0,0.1)"||ke.backgroundColor!=="rgba(0,0,0,0.1)"}var lP={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:s},options:i}=n.config,{elements:r}=i,a=Cg(s)||aP(i)||r&&Cg(r)||oP();if(!e.forceOverride&&a)return;const l=rP(n);s.forEach(l)}};function cP(n,t,e,s,i){const r=i.samples||s;if(r>=e)return n.slice(t,t+e);const a=[],l=(e-2)/(r-2);let u=0;const d=t+e-1;let f=t,g,p,v,b,y;for(a[u++]=n[f],g=0;g<r-2;g++){let S=0,k=0,F;const P=Math.floor((g+1)*l)+1+t,A=Math.min(Math.floor((g+2)*l)+1,e)+t,T=A-P;for(F=P;F<A;F++)S+=n[F].x,k+=n[F].y;S/=T,k/=T;const R=Math.floor(g*l)+1+t,z=Math.min(Math.floor((g+1)*l)+1,e)+t,{x:W,y:B}=n[f];for(v=b=-1,F=R;F<z;F++)b=.5*Math.abs((W-S)*(n[F].y-B)-(W-n[F].x)*(k-B)),b>v&&(v=b,p=n[F],y=F);a[u++]=p,f=y}return a[u++]=n[d],a}function uP(n,t,e,s){let i=0,r=0,a,l,u,d,f,g,p,v,b,y;const S=[],k=t+e-1,F=n[t].x,A=n[k].x-F;for(a=t;a<t+e;++a){l=n[a],u=(l.x-F)/A*s,d=l.y;const T=u|0;if(T===f)d<b?(b=d,g=a):d>y&&(y=d,p=a),i=(r*i+l.x)/++r;else{const R=a-1;if(!$t(g)&&!$t(p)){const z=Math.min(g,p),W=Math.max(g,p);z!==v&&z!==R&&S.push({...n[z],x:i}),W!==v&&W!==R&&S.push({...n[W],x:i})}a>0&&R!==v&&S.push(n[R]),S.push(l),f=T,r=0,b=y=d,g=p=v=a}}return S}function im(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function kg(n){n.data.datasets.forEach(t=>{im(t)})}function dP(n,t){const e=t.length;let s=0,i;const{iScale:r}=n,{min:a,max:l,minDefined:u,maxDefined:d}=r.getUserBounds();return u&&(s=Ge(Ti(t,r.axis,a).lo,0,e-1)),d?i=Ge(Ti(t,r.axis,l).hi+1,s,e)-s:i=e-s,{start:s,count:i}}var fP={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){kg(n);return}const s=n.width;n.data.datasets.forEach((i,r)=>{const{_data:a,indexAxis:l}=i,u=n.getDatasetMeta(r),d=a||i.data;if(Br([l,n.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const f=n.scales[u.xAxisID];if(f.type!=="linear"&&f.type!=="time"||n.options.parsing)return;let{start:g,count:p}=dP(u,d);const v=e.threshold||4*s;if(p<=v){im(i);return}$t(a)&&(i._data=d,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let b;switch(e.algorithm){case"lttb":b=cP(d,g,p,s,e);break;case"min-max":b=uP(d,g,p,s);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=b})},destroy(n){kg(n)}};function hP(n,t,e){const s=n.segments,i=n.points,r=t.points,a=[];for(const l of s){let{start:u,end:d}=l;d=Lu(u,d,i);const f=ou(e,i[u],i[d],l.loop);if(!t.segments){a.push({source:l,target:f,start:i[u],end:i[d]});continue}const g=Vp(t,f);for(const p of g){const v=ou(e,r[p.start],r[p.end],p.loop),b=Bp(l,i,v);for(const y of b)a.push({source:y,target:p,start:{[e]:Og(f,v,"start",Math.max)},end:{[e]:Og(f,v,"end",Math.min)}})}}return a}function ou(n,t,e,s){if(s)return;let i=t[n],r=e[n];return n==="angle"&&(i=Pn(i),r=Pn(r)),{property:n,start:i,end:r}}function gP(n,t){const{x:e=null,y:s=null}=n||{},i=t.points,r=[];return t.segments.forEach(({start:a,end:l})=>{l=Lu(a,l,i);const u=i[a],d=i[l];s!==null?(r.push({x:u.x,y:s}),r.push({x:d.x,y:s})):e!==null&&(r.push({x:e,y:u.y}),r.push({x:e,y:d.y}))}),r}function Lu(n,t,e){for(;t>n;t--){const s=e[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function Og(n,t,e,s){return n&&t?s(n[e],t[e]):n?n[e]:t?t[e]:0}function sm(n,t){let e=[],s=!1;return be(n)?(s=!0,e=n):e=gP(n,t),e.length?new Ji({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function Fg(n){return n&&n.fill!==!1}function pP(n,t,e){let i=n[t].fill;const r=[t];let a;if(!e)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!Me(i))return i;if(a=n[i],!a)return!1;if(a.visible)return i;r.push(i),i=a.fill}return!1}function mP(n,t,e){const s=_P(n);if(Xt(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return Me(i)&&Math.floor(i)===i?vP(s[0],t,i,e):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function vP(n,t,e,s){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=s?!1:e}function bP(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Xt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function yP(n,t,e){let s;return n==="start"?s=e:n==="end"?s=t.options.reverse?t.min:t.max:Xt(n)?s=n.value:s=t.getBaseValue(),s}function _P(n){const t=n.options,e=t.fill;let s=Lt(e&&e.target,e);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function xP(n){const{scale:t,index:e,line:s}=n,i=[],r=s.segments,a=s.points,l=SP(t,e);l.push(sm({x:null,y:t.bottom},s));for(let u=0;u<r.length;u++){const d=r[u];for(let f=d.start;f<=d.end;f++)wP(i,a[f],l)}return new Ji({points:i,options:{}})}function SP(n,t){const e=[],s=n.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function wP(n,t,e){const s=[];for(let i=0;i<e.length;i++){const r=e[i],{first:a,last:l,point:u}=CP(r,t,"x");if(!(!u||a&&l)){if(a)s.unshift(u);else if(n.push(u),!l)break}}n.push(...s)}function CP(n,t,e){const s=n.interpolate(t,e);if(!s)return{};const i=s[e],r=n.segments,a=n.points;let l=!1,u=!1;for(let d=0;d<r.length;d++){const f=r[d],g=a[f.start][e],p=a[f.end][e];if(Ai(i,g,p)){l=i===g,u=i===p;break}}return{first:l,last:u,point:s}}class rm{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,s){const{x:i,y:r,radius:a}=this;return e=e||{start:0,end:ye},t.arc(i,r,a,e.end,e.start,!0),!s.bounds}interpolate(t){const{x:e,y:s,radius:i}=this,r=t.angle;return{x:e+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function kP(n){const{chart:t,fill:e,line:s}=n;if(Me(e))return OP(t,e);if(e==="stack")return xP(n);if(e==="shape")return!0;const i=FP(n);return i instanceof rm?i:sm(i,s)}function OP(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function FP(n){return(n.scale||{}).getPointPositionForValue?EP(n):DP(n)}function DP(n){const{scale:t={},fill:e}=n,s=bP(e,t);if(Me(s)){const i=t.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function EP(n){const{scale:t,fill:e}=n,s=t.options,i=t.getLabels().length,r=s.reverse?t.max:t.min,a=yP(e,t,r),l=[];if(s.grid.circular){const u=t.getPointPositionForValue(0,r);return new rm({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(a)})}for(let u=0;u<i;++u)l.push(t.getPointPositionForValue(u,a));return l}function Kc(n,t,e){const s=kP(t),{line:i,scale:r,axis:a}=t,l=i.options,u=l.fill,d=l.backgroundColor,{above:f=d,below:g=d}=u||{};s&&i.points.length&&(rl(n,e),AP(n,{line:i,target:s,above:f,below:g,area:e,scale:r,axis:a}),al(n))}function AP(n,t){const{line:e,target:s,above:i,below:r,area:a,scale:l}=t,u=e._loop?"angle":t.axis;n.save(),u==="x"&&r!==i&&(Dg(n,s,a.top),Eg(n,{line:e,target:s,color:i,scale:l,property:u}),n.restore(),n.save(),Dg(n,s,a.bottom)),Eg(n,{line:e,target:s,color:r,scale:l,property:u}),n.restore()}function Dg(n,t,e){const{segments:s,points:i}=t;let r=!0,a=!1;n.beginPath();for(const l of s){const{start:u,end:d}=l,f=i[u],g=i[Lu(u,d,i)];r?(n.moveTo(f.x,f.y),r=!1):(n.lineTo(f.x,e),n.lineTo(f.x,f.y)),a=!!t.pathSegment(n,l,{move:a}),a?n.closePath():n.lineTo(g.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Eg(n,t){const{line:e,target:s,property:i,color:r,scale:a}=t,l=hP(e,s,i);for(const{source:u,target:d,start:f,end:g}of l){const{style:{backgroundColor:p=r}={}}=u,v=s!==!0;n.save(),n.fillStyle=p,TP(n,a,v&&ou(i,f,g)),n.beginPath();const b=!!e.pathSegment(n,u);let y;if(v){b?n.closePath():Ag(n,s,g,i);const S=!!s.pathSegment(n,d,{move:b,reverse:!0});y=b&&S,y||Ag(n,s,f,i)}n.closePath(),n.fill(y?"evenodd":"nonzero"),n.restore()}}function TP(n,t,e){const{top:s,bottom:i}=t.chart.chartArea,{property:r,start:a,end:l}=e||{};r==="x"&&(n.beginPath(),n.rect(a,s,l-a,i-s),n.clip())}function Ag(n,t,e,s){const i=t.interpolate(e,s);i&&n.lineTo(i.x,i.y)}var MP={id:"filler",afterDatasetsUpdate(n,t,e){const s=(n.data.datasets||[]).length,i=[];let r,a,l,u;for(a=0;a<s;++a)r=n.getDatasetMeta(a),l=r.dataset,u=null,l&&l.options&&l instanceof Ji&&(u={visible:n.isDatasetVisible(a),index:a,fill:mP(l,a,s),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=u,i.push(u);for(a=0;a<s;++a)u=i[a],!(!u||u.fill===!1)&&(u.fill=pP(i,a,e.propagate))},beforeDraw(n,t,e){const s=e.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let a=i.length-1;a>=0;--a){const l=i[a].$filler;l&&(l.line.updateControlPoints(r,l.axis),s&&l.fill&&Kc(n.ctx,l,r))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;Fg(r)&&Kc(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){const s=t.meta.$filler;!Fg(s)||e.drawTime!=="beforeDatasetDraw"||Kc(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Tg=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},PP=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Mg extends oi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ge(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=Ye(s.font),r=i.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=Tg(s,r);let d,f;e.font=i.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(a,r,l,u)+10):(f=this.maxHeight,d=this._fitCols(a,i,l,u)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,i){const{ctx:r,maxWidth:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],f=i+l;let g=t;r.textAlign="left",r.textBaseline="middle";let p=-1,v=-f;return this.legendItems.forEach((b,y)=>{const S=s+e/2+r.measureText(b.text).width;(y===0||d[d.length-1]+S+2*l>a)&&(g+=f,d[d.length-(y>0?0:1)]=0,v+=f,p++),u[y]={left:0,top:v,row:p,width:S,height:i},d[d.length-1]+=S+l}),g}_fitCols(t,e,s,i){const{ctx:r,maxHeight:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],f=a-t;let g=l,p=0,v=0,b=0,y=0;return this.legendItems.forEach((S,k)=>{const{itemWidth:F,itemHeight:P}=IP(s,e,r,S,i);k>0&&v+P+2*l>f&&(g+=p+l,d.push({width:p,height:v}),b+=p+l,y++,p=v=0),u[k]={left:b,top:v,col:y,width:F,height:P},p=Math.max(p,F),v+=P+l}),g+=p,d.push({width:p,height:v}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:i},rtl:r}}=this,a=nr(r,this.left,this.width);if(this.isHorizontal()){let l=0,u=nn(s,this.left+i,this.right-this.lineWidths[l]);for(const d of e)l!==d.row&&(l=d.row,u=nn(s,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+t+i,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+i}else{let l=0,u=nn(s,this.top+t+i,this.bottom-this.columnSizes[l].height);for(const d of e)d.col!==l&&(l=d.col,u=nn(s,this.top+t+i,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+i,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;rl(t,this),this._draw(),al(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:i}=this,{align:r,labels:a}=t,l=ke.color,u=nr(t.rtl,this.left,this.width),d=Ye(a.font),{padding:f}=a,g=d.size,p=g/2;let v;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:b,boxHeight:y,itemHeight:S}=Tg(a,g),k=function(R,z,W){if(isNaN(b)||b<=0||isNaN(y)||y<0)return;i.save();const B=Lt(W.lineWidth,1);if(i.fillStyle=Lt(W.fillStyle,l),i.lineCap=Lt(W.lineCap,"butt"),i.lineDashOffset=Lt(W.lineDashOffset,0),i.lineJoin=Lt(W.lineJoin,"miter"),i.lineWidth=B,i.strokeStyle=Lt(W.strokeStyle,l),i.setLineDash(Lt(W.lineDash,[])),a.usePointStyle){const J={radius:y*Math.SQRT2/2,pointStyle:W.pointStyle,rotation:W.rotation,borderWidth:B},q=u.xPlus(R,b/2),lt=z+p;Fp(i,J,q,lt,a.pointStyleWidth&&b)}else{const J=z+Math.max((g-y)/2,0),q=u.leftForLtr(R,b),lt=Os(W.borderRadius);i.beginPath(),Object.values(lt).some(et=>et!==0)?sa(i,{x:q,y:J,w:b,h:y,radius:lt}):i.rect(q,J,b,y),i.fill(),B!==0&&i.stroke()}i.restore()},F=function(R,z,W){Ts(i,W.text,R,z+S/2,d,{strikethrough:W.hidden,textAlign:u.textAlign(W.textAlign)})},P=this.isHorizontal(),A=this._computeTitleHeight();P?v={x:nn(r,this.left+f,this.right-s[0]),y:this.top+f+A,line:0}:v={x:this.left+f,y:nn(r,this.top+A+f,this.bottom-e[0].height),line:0},Rp(this.ctx,t.textDirection);const T=S+f;this.legendItems.forEach((R,z)=>{i.strokeStyle=R.fontColor,i.fillStyle=R.fontColor;const W=i.measureText(R.text).width,B=u.textAlign(R.textAlign||(R.textAlign=a.textAlign)),J=b+p+W;let q=v.x,lt=v.y;u.setWidth(this.width),P?z>0&&q+J+f>this.right&&(lt=v.y+=T,v.line++,q=v.x=nn(r,this.left+f,this.right-s[v.line])):z>0&&lt+T>this.bottom&&(q=v.x=q+e[v.line].width+f,v.line++,lt=v.y=nn(r,this.top+A+f,this.bottom-e[v.line].height));const et=u.x(q);if(k(et,lt,R),q=tA(B,q+b+p,P?q+J:this.right,t.rtl),F(u.x(q),lt,R),P)v.x+=J+f;else if(typeof R.text!="string"){const rt=d.lineHeight;v.y+=am(R,rt)+f}else v.y+=T}),Lp(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=Ye(e.font),i=on(e.padding);if(!e.display)return;const r=nr(t.rtl,this.left,this.width),a=this.ctx,l=e.position,u=s.size/2,d=i.top+u;let f,g=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),f=this.top+d,g=nn(t.align,g,this.right-p);else{const b=this.columnSizes.reduce((y,S)=>Math.max(y,S.height),0);f=d+nn(t.align,this.top,this.bottom-b-t.labels.padding-this._computeTitleHeight())}const v=nn(l,g,g+p);a.textAlign=r.textAlign(Fu(l)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=s.string,Ts(a,e.text,v,f,s)}_computeTitleHeight(){const t=this.options.title,e=Ye(t.font),s=on(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,i,r;if(Ai(t,this.left,this.right)&&Ai(e,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Ai(t,i.left,i.left+i.width)&&Ai(e,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!NP(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=PP(i,s);i&&!r&&ge(e.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!r&&ge(e.onHover,[t,s,this],this)}else s&&ge(e.onClick,[t,s,this],this)}}function IP(n,t,e,s,i){const r=RP(s,n,t,e),a=LP(i,s,t.lineHeight);return{itemWidth:r,itemHeight:a}}function RP(n,t,e,s){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((r,a)=>r.length>a.length?r:a)),t+e.size/2+s.measureText(i).width}function LP(n,t,e){let s=n;return typeof t.text!="string"&&(s=am(t,e)),s}function am(n,t){const e=n.text?n.text.length:0;return t*e}function NP(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var BP={id:"legend",_element:Mg,start(n,t,e){const s=n.legend=new Mg({ctx:n.ctx,options:e,chart:n});an.configure(n,s,e),an.addBox(n,s)},stop(n){an.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const s=n.legend;an.configure(n,s,e),s.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const s=t.datasetIndex,i=e.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:i,color:r,useBorderRadius:a,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(e?0:void 0),f=on(d.borderWidth);return{text:t[u.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Nu extends oi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const i=be(s.text)?s.text.length:1;this._padding=on(s.padding);const r=i*Ye(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:i,right:r,options:a}=this,l=a.align;let u=0,d,f,g;return this.isHorizontal()?(f=nn(l,s,r),g=e+t,d=r-s):(a.position==="left"?(f=s+t,g=nn(l,i,e),u=_e*-.5):(f=r-t,g=nn(l,e,i),u=_e*.5),d=i-e),{titleX:f,titleY:g,maxWidth:d,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=Ye(e.font),r=s.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:u,rotation:d}=this._drawArgs(r);Ts(t,e.text,0,0,s,{color:e.color,maxWidth:u,rotation:d,textAlign:Fu(e.align),textBaseline:"middle",translation:[a,l]})}}function VP(n,t){const e=new Nu({ctx:n.ctx,options:t,chart:n});an.configure(n,e,t),an.addBox(n,e),n.titleBlock=e}var jP={id:"title",_element:Nu,start(n,t,e){VP(n,e)},stop(n){const t=n.titleBlock;an.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const s=n.titleBlock;an.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const So=new WeakMap;var zP={id:"subtitle",start(n,t,e){const s=new Nu({ctx:n.ctx,options:e,chart:n});an.configure(n,s,e),an.addBox(n,s),So.set(n,s)},stop(n){an.removeBox(n,So.get(n)),So.delete(n)},beforeUpdate(n,t,e){const s=So.get(n);an.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zr={average(n){if(!n.length)return!1;let t,e,s=new Set,i=0,r=0;for(t=0,e=n.length;t<e;++t){const l=n[t].element;if(l&&l.hasValue()){const u=l.tooltipPosition();s.add(u.x),i+=u.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((l,u)=>l+u)/s.size,y:i/r}},nearest(n,t){if(!n.length)return!1;let e=t.x,s=t.y,i=Number.POSITIVE_INFINITY,r,a,l;for(r=0,a=n.length;r<a;++r){const u=n[r].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),f=qc(t,d);f<i&&(i=f,l=u)}}if(l){const u=l.tooltipPosition();e=u.x,s=u.y}return{x:e,y:s}}};function fi(n,t){return t&&(be(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Di(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function UP(n,t){const{element:e,datasetIndex:s,index:i}=t,r=n.getDatasetMeta(s).controller,{label:a,value:l}=r.getLabelAndValue(i);return{chart:n,label:a,parsed:r.getParsed(i),raw:n.data.datasets[s].data[i],formattedValue:l,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:e}}function Pg(n,t){const e=n.chart.ctx,{body:s,footer:i,title:r}=n,{boxWidth:a,boxHeight:l}=t,u=Ye(t.bodyFont),d=Ye(t.titleFont),f=Ye(t.footerFont),g=r.length,p=i.length,v=s.length,b=on(t.padding);let y=b.height,S=0,k=s.reduce((A,T)=>A+T.before.length+T.lines.length+T.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,g&&(y+=g*d.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),k){const A=t.displayColors?Math.max(l,u.lineHeight):u.lineHeight;y+=v*A+(k-v)*u.lineHeight+(k-1)*t.bodySpacing}p&&(y+=t.footerMarginTop+p*f.lineHeight+(p-1)*t.footerSpacing);let F=0;const P=function(A){S=Math.max(S,e.measureText(A).width+F)};return e.save(),e.font=d.string,oe(n.title,P),e.font=u.string,oe(n.beforeBody.concat(n.afterBody),P),F=t.displayColors?a+2+t.boxPadding:0,oe(s,A=>{oe(A.before,P),oe(A.lines,P),oe(A.after,P)}),F=0,e.font=f.string,oe(n.footer,P),e.restore(),S+=b.width,{width:S,height:y}}function WP(n,t){const{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}function HP(n,t,e,s){const{x:i,width:r}=s,a=e.caretSize+e.caretPadding;if(n==="left"&&i+r+a>t.width||n==="right"&&i-r-a<0)return!0}function YP(n,t,e,s){const{x:i,width:r}=e,{width:a,chartArea:{left:l,right:u}}=n;let d="center";return s==="center"?d=i<=(l+u)/2?"left":"right":i<=r/2?d="left":i>=a-r/2&&(d="right"),HP(d,n,t,e)&&(d="center"),d}function Ig(n,t,e){const s=e.yAlign||t.yAlign||WP(n,e);return{xAlign:e.xAlign||t.xAlign||YP(n,t,e,s),yAlign:s}}function KP(n,t){let{x:e,width:s}=n;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function GP(n,t,e){let{y:s,height:i}=n;return t==="top"?s+=e:t==="bottom"?s-=i+e:s-=i/2,s}function Rg(n,t,e,s){const{caretSize:i,caretPadding:r,cornerRadius:a}=n,{xAlign:l,yAlign:u}=e,d=i+r,{topLeft:f,topRight:g,bottomLeft:p,bottomRight:v}=Os(a);let b=KP(t,l);const y=GP(t,u,d);return u==="center"?l==="left"?b+=d:l==="right"&&(b-=d):l==="left"?b-=Math.max(f,p)+i:l==="right"&&(b+=Math.max(g,v)+i),{x:Ge(b,0,s.width-t.width),y:Ge(y,0,s.height-t.height)}}function wo(n,t,e){const s=on(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-s.right:n.x+s.left}function Lg(n){return fi([],Di(n))}function XP(n,t,e){return ns(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Ng(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const om={beforeTitle:Oi,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:Oi,beforeBody:Oi,beforeLabel:Oi,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return $t(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Oi,afterBody:Oi,beforeFooter:Oi,footer:Oi,afterFooter:Oi};function bn(n,t,e,s){const i=n[t].call(e,s);return typeof i>"u"?om[t].call(e,s):i}class lu extends oi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&e.options.animation&&s.animations,r=new jp(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=XP(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,i=bn(s,"beforeTitle",this,t),r=bn(s,"title",this,t),a=bn(s,"afterTitle",this,t);let l=[];return l=fi(l,Di(i)),l=fi(l,Di(r)),l=fi(l,Di(a)),l}getBeforeBody(t,e){return Lg(bn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,i=[];return oe(t,r=>{const a={before:[],lines:[],after:[]},l=Ng(s,r);fi(a.before,Di(bn(l,"beforeLabel",this,r))),fi(a.lines,bn(l,"label",this,r)),fi(a.after,Di(bn(l,"afterLabel",this,r))),i.push(a)}),i}getAfterBody(t,e){return Lg(bn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,i=bn(s,"beforeFooter",this,t),r=bn(s,"footer",this,t),a=bn(s,"afterFooter",this,t);let l=[];return l=fi(l,Di(i)),l=fi(l,Di(r)),l=fi(l,Di(a)),l}_createItems(t){const e=this._active,s=this.chart.data,i=[],r=[],a=[];let l=[],u,d;for(u=0,d=e.length;u<d;++u)l.push(UP(this.chart,e[u]));return t.filter&&(l=l.filter((f,g,p)=>t.filter(f,g,p,s))),t.itemSort&&(l=l.sort((f,g)=>t.itemSort(f,g,s))),oe(l,f=>{const g=Ng(t.callbacks,f);i.push(bn(g,"labelColor",this,f)),r.push(bn(g,"labelPointStyle",this,f)),a.push(bn(g,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(t,e){const s=this.options.setContext(this.getContext()),i=this._active;let r,a=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const l=zr[s.position].call(this,i,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const u=this._size=Pg(this,s),d=Object.assign({},l,u),f=Ig(this.chart,s,d),g=Rg(s,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,r={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,i){const r=this.getCaretPosition(t,s,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,s){const{xAlign:i,yAlign:r}=this,{caretSize:a,cornerRadius:l}=s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=Os(l),{x:p,y:v}=t,{width:b,height:y}=e;let S,k,F,P,A,T;return r==="center"?(A=v+y/2,i==="left"?(S=p,k=S-a,P=A+a,T=A-a):(S=p+b,k=S+a,P=A-a,T=A+a),F=S):(i==="left"?k=p+Math.max(u,f)+a:i==="right"?k=p+b-Math.max(d,g)-a:k=this.caretX,r==="top"?(P=v,A=P-a,S=k-a,F=k+a):(P=v+y,A=P+a,S=k+a,F=k-a),T=P),{x1:S,x2:k,x3:F,y1:P,y2:A,y3:T}}drawTitle(t,e,s){const i=this.title,r=i.length;let a,l,u;if(r){const d=nr(s.rtl,this.x,this.width);for(t.x=wo(this,s.titleAlign,s),e.textAlign=d.textAlign(s.titleAlign),e.textBaseline="middle",a=Ye(s.titleFont),l=s.titleSpacing,e.fillStyle=s.titleColor,e.font=a.string,u=0;u<r;++u)e.fillText(i[u],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,u+1===r&&(t.y+=s.titleMarginBottom-l)}}_drawColorBox(t,e,s,i,r){const a=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:u,boxWidth:d}=r,f=Ye(r.bodyFont),g=wo(this,"left",r),p=i.x(g),v=u<f.lineHeight?(f.lineHeight-u)/2:0,b=e.y+v;if(r.usePointStyle){const y={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},S=i.leftForLtr(p,d)+d/2,k=b+u/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,eu(t,y,S,k),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,eu(t,y,S,k)}else{t.lineWidth=Xt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const y=i.leftForLtr(p,d),S=i.leftForLtr(i.xPlus(p,1),d-2),k=Os(a.borderRadius);Object.values(k).some(F=>F!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,sa(t,{x:y,y:b,w:d,h:u,radius:k}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),sa(t,{x:S,y:b+1,w:d-2,h:u-2,radius:k}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(y,b,d,u),t.strokeRect(y,b,d,u),t.fillStyle=a.backgroundColor,t.fillRect(S,b+1,d-2,u-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:i}=this,{bodySpacing:r,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:f}=s,g=Ye(s.bodyFont);let p=g.lineHeight,v=0;const b=nr(s.rtl,this.x,this.width),y=function(W){e.fillText(W,b.x(t.x+v),t.y+p/2),t.y+=p+r},S=b.textAlign(a);let k,F,P,A,T,R,z;for(e.textAlign=a,e.textBaseline="middle",e.font=g.string,t.x=wo(this,S,s),e.fillStyle=s.bodyColor,oe(this.beforeBody,y),v=l&&S!=="right"?a==="center"?d/2+f:d+2+f:0,A=0,R=i.length;A<R;++A){for(k=i[A],F=this.labelTextColors[A],e.fillStyle=F,oe(k.before,y),P=k.lines,l&&P.length&&(this._drawColorBox(e,t,A,b,s),p=Math.max(g.lineHeight,u)),T=0,z=P.length;T<z;++T)y(P[T]),p=g.lineHeight;oe(k.after,y)}v=0,p=g.lineHeight,oe(this.afterBody,y),t.y-=r}drawFooter(t,e,s){const i=this.footer,r=i.length;let a,l;if(r){const u=nr(s.rtl,this.x,this.width);for(t.x=wo(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=u.textAlign(s.footerAlign),e.textBaseline="middle",a=Ye(s.footerFont),e.fillStyle=s.footerColor,e.font=a.string,l=0;l<r;++l)e.fillText(i[l],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+s.footerSpacing}}drawBackground(t,e,s,i){const{xAlign:r,yAlign:a}=this,{x:l,y:u}=t,{width:d,height:f}=s,{topLeft:g,topRight:p,bottomLeft:v,bottomRight:b}=Os(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(l+g,u),a==="top"&&this.drawCaret(t,e,s,i),e.lineTo(l+d-p,u),e.quadraticCurveTo(l+d,u,l+d,u+p),a==="center"&&r==="right"&&this.drawCaret(t,e,s,i),e.lineTo(l+d,u+f-b),e.quadraticCurveTo(l+d,u+f,l+d-b,u+f),a==="bottom"&&this.drawCaret(t,e,s,i),e.lineTo(l+v,u+f),e.quadraticCurveTo(l,u+f,l,u+f-v),a==="center"&&r==="left"&&this.drawCaret(t,e,s,i),e.lineTo(l,u+g),e.quadraticCurveTo(l,u,l+g,u),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const a=zr[t.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=Pg(this,t),u=Object.assign({},a,this._size),d=Ig(e,t,u),f=Rg(t,u,d,e);(i._to!==f.x||r._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=on(e.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&l&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,i,e),Rp(t,e.textDirection),r.y+=a.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),Lp(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,i=t.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),r=!Yo(s,i),a=this._positionChanged(i,e);(r||a)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],a=this._getActiveElements(t,r,e,s),l=this._positionChanged(a,t),u=e||!Yo(a,r)||l;return u&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),u}_getActiveElements(t,e,s,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return e.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&a.reverse(),a}_positionChanged(t,e){const{caretX:s,caretY:i,options:r}=this,a=zr[r.position].call(this,t,e);return a!==!1&&(s!==a.x||i!==a.y)}}ct(lu,"positioners",zr);var ZP={id:"tooltip",_element:lu,positioners:zr,afterInit(n,t,e){e&&(n.tooltip=new lu({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:om},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},JP=Object.freeze({__proto__:null,Colors:lP,Decimation:fP,Filler:MP,Legend:BP,SubTitle:zP,Title:jP,Tooltip:ZP});const QP=(n,t,e,s)=>(typeof t=="string"?(e=n.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function $P(n,t,e,s){const i=n.indexOf(t);if(i===-1)return QP(n,t,e,s);const r=n.lastIndexOf(t);return i!==r?e:i}const qP=(n,t)=>n===null?null:Ge(Math.round(n),0,t);function Bg(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class cu extends Ms{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:i,label:r}of e)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if($t(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:$P(s,t,Lt(e,t),this._addedLabels),qP(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=t;a<=e;a++)i.push({value:a});return i}getLabelForValue(t){return Bg.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ct(cu,"id","category"),ct(cu,"defaults",{ticks:{callback:Bg}});function t2(n,t){const e=[],{bounds:i,step:r,min:a,max:l,precision:u,count:d,maxTicks:f,maxDigits:g,includeBounds:p}=n,v=r||1,b=f-1,{min:y,max:S}=t,k=!$t(a),F=!$t(l),P=!$t(d),A=(S-y)/(g+1);let T=Ph((S-y)/b/v)*v,R,z,W,B;if(T<1e-14&&!k&&!F)return[{value:y},{value:S}];B=Math.ceil(S/T)-Math.floor(y/T),B>b&&(T=Ph(B*T/b/v)*v),$t(u)||(R=Math.pow(10,u),T=Math.ceil(T*R)/R),i==="ticks"?(z=Math.floor(y/T)*T,W=Math.ceil(S/T)*T):(z=y,W=S),k&&F&&r&&GE((l-a)/r,T/1e3)?(B=Math.round(Math.min((l-a)/T,f)),T=(l-a)/B,z=a,W=l):P?(z=k?a:z,W=F?l:W,B=d-1,T=(W-z)/B):(B=(W-z)/T,Zr(B,Math.round(B),T/1e3)?B=Math.round(B):B=Math.ceil(B));const J=Math.max(Ih(T),Ih(z));R=Math.pow(10,$t(u)?J:u),z=Math.round(z*R)/R,W=Math.round(W*R)/R;let q=0;for(k&&(p&&z!==a?(e.push({value:a}),z<a&&q++,Zr(Math.round((z+q*T)*R)/R,a,Vg(a,A,n))&&q++):z<a&&q++);q<B;++q){const lt=Math.round((z+q*T)*R)/R;if(F&&lt>l)break;e.push({value:lt})}return F&&p&&W!==l?e.length&&Zr(e[e.length-1].value,l,Vg(l,A,n))?e[e.length-1].value=l:e.push({value:l}):(!F||W===l)&&e.push({value:W}),e}function Vg(n,t,{horizontal:e,minRotation:s}){const i=ri(s),r=(e?Math.sin(i):Math.cos(i))||.001,a=.75*t*(""+n).length;return Math.min(t/r,a)}class $o extends Ms{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return $t(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const a=u=>i=e?i:u,l=u=>r=s?r:u;if(t){const u=pi(i),d=pi(r);u<0&&d<0?l(0):u>0&&d>0&&a(0)}if(i===r){let u=r===0?1:Math.abs(r*.05);l(r+u),t||a(i-u)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,a=t2(i,r);return t.bounds==="ticks"&&bp(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-e)/Math.max(t.length-1,1)/2;e-=i,s+=i}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return ga(t,this.chart.options.locale,this.options.ticks.format)}}class uu extends $o{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Me(t)?t:0,this.max=Me(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=ri(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ct(uu,"id","linear"),ct(uu,"defaults",{ticks:{callback:sl.formatters.numeric}});const aa=n=>Math.floor(Zi(n)),_s=(n,t)=>Math.pow(10,aa(n)+t);function jg(n){return n/Math.pow(10,aa(n))===1}function zg(n,t,e){const s=Math.pow(10,e),i=Math.floor(n/s);return Math.ceil(t/s)-i}function e2(n,t){const e=t-n;let s=aa(e);for(;zg(n,t,s)>10;)s++;for(;zg(n,t,s)<10;)s--;return Math.min(s,aa(n))}function n2(n,{min:t,max:e}){t=Mn(n.min,t);const s=[],i=aa(t);let r=e2(t,e),a=r<0?Math.pow(10,Math.abs(r)):1;const l=Math.pow(10,r),u=i>r?Math.pow(10,i):0,d=Math.round((t-u)*a)/a,f=Math.floor((t-u)/l/10)*l*10;let g=Math.floor((d-f)/Math.pow(10,r)),p=Mn(n.min,Math.round((u+f+g*Math.pow(10,r))*a)/a);for(;p<e;)s.push({value:p,major:jg(p),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(r++,g=2,a=r>=0?1:a),p=Math.round((u+f+g*Math.pow(10,r))*a)/a;const v=Mn(n.max,p);return s.push({value:v,major:jg(v),significand:g}),s}class du extends Ms{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const s=$o.prototype.parse.apply(this,[t,e]);if(s===0){this._zero=!0;return}return Me(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Me(t)?Math.max(0,t):null,this.max=Me(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Me(this._userMin)&&(this.min=t===_s(this.min,0)?_s(this.min,-1):_s(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let s=this.min,i=this.max;const r=l=>s=t?s:l,a=l=>i=e?i:l;s===i&&(s<=0?(r(1),a(10)):(r(_s(s,-1)),a(_s(i,1)))),s<=0&&r(_s(i,-1)),i<=0&&a(_s(s,1)),this.min=s,this.max=i}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},s=n2(e,this);return t.bounds==="ticks"&&bp(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":ga(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Zi(t),this._valueRange=Zi(this.max)-Zi(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Zi(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}ct(du,"id","logarithmic"),ct(du,"defaults",{ticks:{callback:sl.formatters.logarithmic,major:{enabled:!0}}});function fu(n){const t=n.ticks;if(t.display&&n.display){const e=on(t.backdropPadding);return Lt(t.font&&t.font.size,ke.font.size)+e.height}return 0}function i2(n,t,e){return e=be(e)?e:[e],{w:uA(n,t.string,e),h:e.length*t.lineHeight}}function Ug(n,t,e,s,i){return n===s||n===i?{start:t-e/2,end:t+e/2}:n<s||n>i?{start:t-e,end:t}:{start:t,end:t+e}}function s2(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),s=[],i=[],r=n._pointLabels.length,a=n.options.pointLabels,l=a.centerPointLabels?_e/r:0;for(let u=0;u<r;u++){const d=a.setContext(n.getPointLabelContext(u));i[u]=d.padding;const f=n.getPointPosition(u,n.drawingArea+i[u],l),g=Ye(d.font),p=i2(n.ctx,g,n._pointLabels[u]);s[u]=p;const v=Pn(n.getIndexAngle(u)+l),b=Math.round(ku(v)),y=Ug(b,f.x,p.w,0,180),S=Ug(b,f.y,p.h,90,270);r2(e,t,v,y,S)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=l2(n,s,i)}function r2(n,t,e,s,i){const r=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let l=0,u=0;s.start<t.l?(l=(t.l-s.start)/r,n.l=Math.min(n.l,t.l-l)):s.end>t.r&&(l=(s.end-t.r)/r,n.r=Math.max(n.r,t.r+l)),i.start<t.t?(u=(t.t-i.start)/a,n.t=Math.min(n.t,t.t-u)):i.end>t.b&&(u=(i.end-t.b)/a,n.b=Math.max(n.b,t.b+u))}function a2(n,t,e){const s=n.drawingArea,{extra:i,additionalAngle:r,padding:a,size:l}=e,u=n.getPointPosition(t,s+i+a,r),d=Math.round(ku(Pn(u.angle+Le))),f=d2(u.y,l.h,d),g=c2(d),p=u2(u.x,l.w,g);return{visible:!0,x:u.x,y:f,textAlign:g,left:p,top:f,right:p+l.w,bottom:f+l.h}}function o2(n,t){if(!t)return!0;const{left:e,top:s,right:i,bottom:r}=n;return!(Mi({x:e,y:s},t)||Mi({x:e,y:r},t)||Mi({x:i,y:s},t)||Mi({x:i,y:r},t))}function l2(n,t,e){const s=[],i=n._pointLabels.length,r=n.options,{centerPointLabels:a,display:l}=r.pointLabels,u={extra:fu(r)/2,additionalAngle:a?_e/i:0};let d;for(let f=0;f<i;f++){u.padding=e[f],u.size=t[f];const g=a2(n,f,u);s.push(g),l==="auto"&&(g.visible=o2(g,d),g.visible&&(d=g))}return s}function c2(n){return n===0||n===180?"center":n<180?"left":"right"}function u2(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function d2(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function f2(n,t,e){const{left:s,top:i,right:r,bottom:a}=e,{backdropColor:l}=t;if(!$t(l)){const u=Os(t.borderRadius),d=on(t.backdropPadding);n.fillStyle=l;const f=s-d.left,g=i-d.top,p=r-s+d.width,v=a-i+d.height;Object.values(u).some(b=>b!==0)?(n.beginPath(),sa(n,{x:f,y:g,w:p,h:v,radius:u}),n.fill()):n.fillRect(f,g,p,v)}}function h2(n,t){const{ctx:e,options:{pointLabels:s}}=n;for(let i=t-1;i>=0;i--){const r=n._pointLabelItems[i];if(!r.visible)continue;const a=s.setContext(n.getPointLabelContext(i));f2(e,a,r);const l=Ye(a.font),{x:u,y:d,textAlign:f}=r;Ts(e,n._pointLabels[i],u,d+l.lineHeight/2,l,{color:a.color,textAlign:f,textBaseline:"middle"})}}function lm(n,t,e,s){const{ctx:i}=n;if(e)i.arc(n.xCenter,n.yCenter,t,0,ye);else{let r=n.getPointPosition(0,t);i.moveTo(r.x,r.y);for(let a=1;a<s;a++)r=n.getPointPosition(a,t),i.lineTo(r.x,r.y)}}function g2(n,t,e,s,i){const r=n.ctx,a=t.circular,{color:l,lineWidth:u}=t;!a&&!s||!l||!u||e<0||(r.save(),r.strokeStyle=l,r.lineWidth=u,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),lm(n,e,a,s),r.closePath(),r.stroke(),r.restore())}function p2(n,t,e){return ns(n,{label:e,index:t,type:"pointLabel"})}class Ur extends $o{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=on(fu(this.options)/2),e=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(e,s)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Me(t)&&!isNaN(t)?t:0,this.max=Me(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/fu(this.options))}generateTickLabels(t){$o.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,s)=>{const i=ge(this.options.pointLabels.callback,[e,s],this);return i||i===0?i:""}).filter((e,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?s2(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,s,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,s,i))}getIndexAngle(t){const e=ye/(this._pointLabels.length||1),s=this.options.startAngle||0;return Pn(t*e+ri(s))}getDistanceFromCenterForValue(t){if($t(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if($t(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const s=e[t];return p2(this.getContext(),t,s)}}getPointPosition(t,e,s=0){const i=this.getIndexAngle(t)-Le+s;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:s,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),lm(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:s,grid:i,border:r}=e,a=this._pointLabels.length;let l,u,d;if(e.pointLabels.display&&h2(this,a),i.display&&this.ticks.forEach((f,g)=>{if(g!==0||g===0&&this.min<0){u=this.getDistanceFromCenterForValue(f.value);const p=this.getContext(g),v=i.setContext(p),b=r.setContext(p);g2(this,v,u,a,b)}}),s.display){for(t.save(),l=a-1;l>=0;l--){const f=s.setContext(this.getPointLabelContext(l)),{color:g,lineWidth:p}=f;!p||!g||(t.lineWidth=p,t.strokeStyle=g,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,u=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),d=this.getPointPosition(l,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,s=e.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,u)=>{if(u===0&&this.min>=0&&!e.reverse)return;const d=s.setContext(this.getContext(u)),f=Ye(d.font);if(r=this.getDistanceFromCenterForValue(this.ticks[u].value),d.showLabelBackdrop){t.font=f.string,a=t.measureText(l.label).width,t.fillStyle=d.backdropColor;const g=on(d.backdropPadding);t.fillRect(-a/2-g.left,-r-f.size/2-g.top,a+g.width,f.size+g.height)}Ts(t,l.label,0,-r,f,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}ct(Ur,"id","radialLinear"),ct(Ur,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:sl.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),ct(Ur,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ct(Ur,"descriptors",{angleLines:{_fallback:"grid"}});const ll={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},yn=Object.keys(ll);function Wg(n,t){return n-t}function Hg(n,t){if($t(t))return null;const e=n._adapter,{parser:s,round:i,isoWeekday:r}=n._parseOpts;let a=t;return typeof s=="function"&&(a=s(a)),Me(a)||(a=typeof s=="string"?e.parse(a,s):e.parse(a)),a===null?null:(i&&(a=i==="week"&&(rr(r)||r===!0)?e.startOf(a,"isoWeek",r):e.startOf(a,i)),+a)}function Yg(n,t,e,s){const i=yn.length;for(let r=yn.indexOf(n);r<i-1;++r){const a=ll[yn[r]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(l*a.size))<=s)return yn[r]}return yn[i-1]}function m2(n,t,e,s,i){for(let r=yn.length-1;r>=yn.indexOf(e);r--){const a=yn[r];if(ll[a].common&&n._adapter.diff(i,s,a)>=t-1)return a}return yn[e?yn.indexOf(e):0]}function v2(n){for(let t=yn.indexOf(n)+1,e=yn.length;t<e;++t)if(ll[yn[t]].common)return yn[t]}function Kg(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:s,hi:i}=Ou(e,t),r=e[s]>=t?e[s]:e[i];n[r]=!0}}function b2(n,t,e,s){const i=n._adapter,r=+i.startOf(t[0].value,s),a=t[t.length-1].value;let l,u;for(l=r;l<=a;l=+i.add(l,1,s))u=e[l],u>=0&&(t[u].major=!0);return t}function Gg(n,t,e){const s=[],i={},r=t.length;let a,l;for(a=0;a<r;++a)l=t[a],i[l]=a,s.push({value:l,major:!1});return r===0||!e?s:b2(n,s,i,e)}class oa extends Ms{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),i=this._adapter=new OT._date(t.adapters.date);i.init(e),Xr(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Hg(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:i,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!a||!l)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=Me(i)&&!isNaN(i)?i:+e.startOf(Date.now(),s),r=Me(r)&&!isNaN(r)?r:+e.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,a=this.max,l=QE(i,r,a);return this._unit=e.unit||(s.autoSkip?Yg(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):m2(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:v2(this._unit),this.initOffsets(i),t.reverse&&l.reverse(),Gg(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?e=1-i:e=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;e=Ge(e,0,a),s=Ge(s,0,a),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,i=this.options,r=i.time,a=r.unit||Yg(r.minUnit,e,s,this._getLabelCapacity(e)),l=Lt(i.ticks.stepSize,1),u=a==="week"?r.isoWeekday:!1,d=rr(u)||u===!0,f={};let g=e,p,v;if(d&&(g=+t.startOf(g,"isoWeek",u)),g=+t.startOf(g,d?"day":a),t.diff(s,e,a)>1e5*l)throw new Error(e+" and "+s+" are too far apart with stepSize of "+l+" "+a);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(p=g,v=0;p<s;p=+t.add(p,l,a),v++)Kg(f,p,b);return(p===s||i.bounds==="ticks"||v===1)&&Kg(f,p,b),Object.keys(f).sort(Wg).map(y=>+y)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,r=this._unit,a=e||i[r];return this._adapter.format(t,a)}_tickFormatFunction(t,e,s,i){const r=this.options,a=r.ticks.callback;if(a)return ge(a,[t,e,s],this);const l=r.time.displayFormats,u=this._unit,d=this._majorUnit,f=u&&l[u],g=d&&l[d],p=s[e],v=d&&g&&p&&p.major;return this._adapter.format(t,i||(v?g:f))}generateTickLabels(t){let e,s,i;for(e=0,s=t.length;e<s;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,i=ri(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),a=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:s*r+l*a,h:s*a+l*r}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,i=s[e.unit]||s.millisecond,r=this._tickFormatFunction(t,0,Gg(this,[t],this._majorUnit),i),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,s=i.length;e<s;++e)t=t.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const i=this.getLabels();for(e=0,s=i.length;e<s;++e)t.push(Hg(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return xp(t.sort(Wg))}}ct(oa,"id","time"),ct(oa,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Co(n,t,e){let s=0,i=n.length-1,r,a,l,u;e?(t>=n[s].pos&&t<=n[i].pos&&({lo:s,hi:i}=Ti(n,"pos",t)),{pos:r,time:l}=n[s],{pos:a,time:u}=n[i]):(t>=n[s].time&&t<=n[i].time&&({lo:s,hi:i}=Ti(n,"time",t)),{time:r,pos:l}=n[s],{time:a,pos:u}=n[i]);const d=a-r;return d?l+(u-l)*(t-r)/d:l}class hu extends oa{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Co(e,this.min),this._tableRange=Co(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,i=[],r=[];let a,l,u,d,f;for(a=0,l=t.length;a<l;++a)d=t[a],d>=e&&d<=s&&i.push(d);if(i.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(a=0,l=i.length;a<l;++a)f=i[a+1],u=i[a-1],d=i[a],Math.round((f+u)/2)!==d&&r.push({time:d,pos:a/(l-1)});return r}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Co(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return Co(this._table,s*this._tableRange+this._minPos,!0)}}ct(hu,"id","timeseries"),ct(hu,"defaults",oa.defaults);var y2=Object.freeze({__proto__:null,CategoryScale:cu,LinearScale:uu,LogarithmicScale:du,RadialLinearScale:Ur,TimeScale:oa,TimeSeriesScale:hu});const _2=[kT,eP,JP,y2];Yi.register(..._2);const x2={name:"recurring-tickets",description:"Recurring tickets list",setup(){const n=la();return{formattedDate:ir(()=>n.getters.formattedDate)}},props:{from:{type:String,default:""}},data(){return{columns:["name","interval","start_date","end_date","action"],options:{},apiUrl:null,panel:null}},beforeMount(){const n=this;this.options={sortIcon:{base:"glyphicon",up:"glyphicon-chevron-down",down:"glyphicon-chevron-up"},headings:{name:n.lang("name"),interval:n.lang("interval"),start_date:n.lang("start_date"),end_date:n.lang("end_date"),action:n.lang("action")},columnsClasses:{name:"recur-name",interval:"recur-interval",start_date:"recur-start",end_date:"recur-end",action:"recur-action"},texts:{filter:"",limit:""},templates:{start_date:function(t,e){return e.start_date&&e.start_date!="0000-00-00 00:00:00"?n.formattedDate(e.start_date):"--"},end_date:function(t,e){return e.end_date&&e.end_date!="0000-00-00 00:00:00"?n.formattedDate(e.end_date):"--"},action:(t,e)=>n.h(hS,{data:e})},sortable:["name","interval","start_date","end_date"],filterable:["name","interval","start_date","end_date"],pagination:{chunk:5,nav:"fixed",edge:!0},requestAdapter(t){return{"sort-field":t.orderBy?t.orderBy:"updated_at","sort-order":t.ascending?"desc":"asc","search-query":t.query.trim(),page:t.page,limit:t.limit}},responseAdapter({data:t}){return{data:t.data.data.map(e=>(e.from=n.panel?"agent":"",e.edit_url=n.panel?n.panel+"/recur/"+e.id+"/edit":"/recur/"+e.id+"/edit",e.delete_url=n.basePath()+"/api/recur-delete/"+e.id,e)),count:t.data.total}},orderBy:{column:"updated_at",ascending:!0}}},created(){this.panel=window.location.pathname.split("/").includes("agent")?"/agent":"",this.apiUrl="api"+this.panel+"/recur-list"}},S2={id:"list_of_recur",class:"col-sm-12"},w2={class:"card card-light"},C2={class:"card-header"},k2={class:"card-title"},O2={class:"card-tools"},F2={class:"card-body",id:"my_recurs"};function D2(n,t,e,s,i,r){const a=st("alert"),l=st("router-link"),u=st("data-table"),d=xn("tooltip");return D(),M("div",S2,[Q(a,{componentName:"dataTableModal"}),O("div",w2,[O("div",C2,[O("h3",k2,H(n.lang("list_of_recur")),1),O("div",O2,[e.from=="admin"?At((D(),yt(l,{key:0,to:"/recur/create",class:"btn-tool"},{default:bt(()=>t[0]||(t[0]=[O("i",{class:"glyphicon glyphicon-plus"},null,-1)])),_:1})),[[d,{content:n.lang("create_recur"),placement:"left"}]]):At((D(),yt(l,{key:1,to:i.panel+"/ticket/recur",class:"btn-tool"},{default:bt(()=>t[1]||(t[1]=[O("i",{class:"glyphicon glyphicon-plus"},null,-1)])),_:1},8,["to"])),[[d,n.lang("create_recur")]])])]),O("div",F2,[Q(u,{url:i.apiUrl,dataColumns:i.columns,option:i.options,scroll_to:"list_of_recur"},null,8,["url","dataColumns","option"])])])])}const uI=qt(x2,[["render",D2]]);const E2={name:"faveo-form",props:{recur_mode:{type:String,default:""},template_mode:{type:String,default:""},category:{type:String,required:!0},panel:{type:String,default:"agent"},scenario:{type:String,default:""},showViewButton:{type:Boolean,default:!1}},data(){return{baseEndpoint:"render/form",fetchFormFieldApi:"",formUniqueKey:null,submitFormInProgress:!1,editId:"",selectedForm:"",formSelected:!1,formsLength:0}},mixins:[eS],beforeMount(){if(this.fetchFormFieldApi=this.baseEndpoint,this.editId=pu(this.currentPath()),this.mode==="edit"){let n=this.scenario||this.category;this.fetchFormFieldApi=gh(n,this.editId),this.baseEndpoint=gh(n,this.editId),this.formSelected=!0}else this.getDefaultFormValue()},created(){window.emitter.on("updateTicketCategory",this.updateTicketCategory),window.emitter.on("updateSelectedForm",n=>{this.selectedForm=n})},computed:{mode(){return this.currentPath().indexOf("edit")!==-1?"edit":"create"},viewId(){return{organisation:"organizations",requester:"user"}[this.category]||this.category},page(){return this.scenario?this.category+"_"+this.scenario+"_"+this.panel:this.category+"_"+this.mode+"_"+this.panel},fetchFormApi(){return this.fetchFormFieldApi}},methods:{updateTicketCategory(){window.emitter.emit("storeCategoryId",this.selectedForm.id)},onChange(n,t){this[t]=n,this.formSelected=!1,this.updateFetchApi()},getDefaultFormValue(){this.showLoader=!0,axios.get("/from/forms/"+this.category).then(n=>{this.selectedForm=n.data.data.data[0],this.formsLength=n.data.data.data.length,this.showLoader=!1,this.updateFetchApi()}).catch(n=>{this.showLoader=!1,rn(n,"faveo-form")})},updateFetchApi(){this.$store.dispatch("destroyFormInsatnce",this.formUniqueKey),this.$store.dispatch("unsetValidationError");let n=this.baseEndpoint.includes("render/form")?"id":"form_category_id";this.fetchFormFieldApi=this.baseEndpoint+"?"+n+"="+this.selectedForm.id+"&mode=render",setTimeout(()=>{this.$store.dispatch("createNewFormInstance",{formUniqueKey:this.formUniqueKey,scenario:this.scenario||this.mode}),this.formSelected=!0},1)},afterSubmit(n){if((this.scenario==="recur"||this.scenario==="template")&&this.mode==="create")setTimeout(()=>this.scenario==="recur"?this.$router.push({name:"Recurring Tickets"}):this.$router.push({name:"Ticket Templates Index"}),3e3);else{window.emitter.emit("updateAgentSidebar"),this.$store.dispatch("destroyFormInsatnce",this.formUniqueKey);let t=nS(this.category);if(this.$store.dispatch("createNewFormInstance",{formUniqueKey:t,scenario:this.scenario||this.mode}),this.formUniqueKey=t,window.emitter.emit("reset-captcha"),this.mode==="create"){let e=n.data.data.id;const s={requester:"/user/",organisation:"/organizations/",ticket:"/thread/"};setTimeout(()=>{const i=s[this.category];i&&this.$router.push(i+e)},3e3)}}},formSubmit(n,t){this.$store.dispatch("setRecaptchaKey",t),this.onSubmit()}},components:{FaveoBox:iS,Alert:sS,Loader:rS,FormWithCaptcha:aS,DynamicSelect:es,FormRenderer:oS}},A2={class:"col-sm-12"},T2={id:"faveo-form"},M2={class:"card card-light"},P2={key:0,class:"card-header"},I2={class:"card-title"},R2={class:"card-tools"},L2={class:"card-body"},N2={key:1,class:"row"};function B2(n,t,e,s,i,r){const a=st("router-link"),l=st("Alert"),u=st("Loader"),d=st("DynamicSelect"),f=st("FormRenderer"),g=st("ValidationObserver"),p=st("FormWithCaptcha"),v=xn("tooltip");return D(),M("div",A2,[O("div",T2,[O("div",M2,[e.showViewButton?(D(),M("div",P2,[O("h3",I2,H(n.trans("edit")),1),O("div",R2,[At((D(),yt(a,{to:"/"+r.viewId+"/"+i.editId,id:"form_view_btn",class:"btn btn-tool text-dark"},{default:bt(()=>t[0]||(t[0]=[O("i",{class:"fas fa-eye"},null,-1)])),_:1},8,["to"])),[[v,n.trans("view")]])])])):K("",!0),O("div",L2,[Q(l,{componentName:"faveo-form"}),n.showLoader||i.submitFormInProgress?(D(),yt(u,{key:0,duration:4e3})):K("",!0),e.category==="ticket"&&i.formsLength>1?(D(),M("div",N2,[Q(d,{label:n.trans("select_form"),multiple:!1,name:"selectedForm",classname:"col-sm-12",apiEndpoint:"/from/forms/"+e.category,value:i.selectedForm,onChange:r.onChange,clearable:!1,"label-style":{display:"none"}},null,8,["label","apiEndpoint","value","onChange"])])):K("",!0),i.formUniqueKey&&i.formSelected?(D(),yt(p,{key:2,loading:!n.showLoader,btnClass:"btn btn-primary pull-right",btnName:"submit",componentName:"faveo-form",btn_id:"form-submit",formSubmit:r.formSubmit,page:r.page,recaptchaContainerClass:"mt-2",disableSubmit:i.submitFormInProgress},{fields:bt(()=>[Q(g,{ref:"faveoFormObserver"},{default:bt(({values:b,errors:y,validate:S})=>[(D(),yt(f,{key:i.formUniqueKey,fetchFormFieldApi:r.fetchFormApi,formUniqueKey:i.formUniqueKey,scenario:e.scenario||r.mode,category:e.category,panel:e.panel,recur_mode:e.recur_mode,template_mode:e.template_mode,selectDependencyId:i.editId},null,8,["fetchFormFieldApi","formUniqueKey","scenario","category","panel","recur_mode","template_mode","selectDependencyId"]))]),_:1},512)]),_:1},8,["loading","formSubmit","page","disableSubmit"])):K("",!0)])])])])}const dI=qt(E2,[["render",B2]]);export{jr as A,Bo as B,qO as C,eI as D,nu as E,Mo as F,lP as G,oI as H,Q2 as I,cI as J,q2 as K,uu as L,lI as M,iI as N,tI as O,No as P,sI as Q,GO as R,Nw as S,$2 as T,nI as U,aI as V,dI as W,rI as X,J2 as Y,Ek as _,uI as a,on as b,Lt as c,ke as d,ge as e,oe as f,Xt as g,Yi as h,$t as i,cu as j,ZP as k,BP as l,ea as m,fp as n,Y2 as o,jP as p,Ji as q,Br as r,K2 as s,Ye as t,G2 as u,rO as v,Z2 as w,X2 as x,Ao as y,Cs as z};
