import{_ as m,V as y,k as b,W as _,o,m as k,G as S,v as i,l as u,x as r,q as h,L as g,I as c,X as w,Y as x}from"./bootstrap.js";const V={name:"text-field",description:"text field component along with error block",props:{label:{type:String,required:!0},hint:{type:String,default:""},value:{type:[String,null],required:!0},name:{type:String,required:!0},type:{type:String,default:"text"},onChange:{type:Function,Required:!0},classname:{type:String,default:""},required:{type:Boolean,default:!1},length:{type:[Number,String],default:2e3},labelStyle:{type:Object},placehold:{type:String,default:""},max:{type:[Number,String],default:250},link:{type:String,default:""},disabled:{type:Boolean,default:!1},updateSlug:{type:Function},from:{type:String,default:""}},data(){return{changedValue:this.value,linkVal:this.link,base:window.axios.defaults.baseURL,fieldStyle:{display:"none !important"},showBtn:!0,textVal:"",showLink:!0}},computed:{linkAdd(){return this.textVal+this.linkVal}},mounted(){this.changedValue=this.value,this.textVal=this.from==="category"?this.basePath()+"/category-list/":this.basePath()+"/show/"},watch:{value(n,e){this.changedValue=n;var t=n.replace(/[^\w\s-]/gi,"").toLowerCase(),s=t.replace(/_+/g,"");this.linkVal=s.replace(/\s+/g,"-")}},methods:{showField(){this.showLink=!1,this.fieldStyle.display="block !important",this.showBtn=!1},hideField(){this.fieldStyle.display="none !important",this.showLink=!0,this.showBtn=!0,this.updateSlug(this.linkVal)},subString(n,e,t){if(!n||typeof n!="string")return"";const s=n.length;if(e+t>=s)return n;const l=n.substring(0,e),a=n.substring(s-t,s);return`${l}...${a}`}},components:{"form-field-template":y}},v={class:"row"},B={id:"edit_slug",class:"col-md-12"},L={key:0},q={key:1},F=["type","placeholder","maxlength"],C={key:2,id:"edit_slug"},N={key:3,id:"edit_slug"};function D(n,e,t,s,l,a){const p=b("form-field-template"),f=_("tooltip");return o(),k(p,{label:t.label,labelStyle:t.labelStyle,name:t.name,classname:t.classname,hint:t.hint,required:t.required},{default:S(()=>[i("p",v,[i("span",B,[l.showLink?h("",!0):(o(),u("span",L,r(l.textVal),1)),l.showLink?g((o(),u("span",q,[c(r(l.textVal)+r(a.subString(l.linkVal,16,16)),1)])),[[f,a.linkAdd]]):h("",!0),g(i("input",{class:"form-control",type:t.type,"onUpdate:modelValue":e[0]||(e[0]=d=>l.changedValue=d),onInput:e[1]||(e[1]=d=>t.onChange(l.changedValue,t.name)),placeholder:t.placehold,maxlength:t.max,style:w(l.fieldStyle)},null,44,F),[[x,l.changedValue]]),l.showBtn?(o(),u("span",C,[i("button",{class:"btn btn-light btn-xs",onClick:e[2]||(e[2]=d=>a.showField())},[e[4]||(e[4]=i("i",{class:"fas fa-pencil-alt"},null,-1)),c(" "+r(n.lang("edit")),1)])])):h("",!0),l.showBtn?h("",!0):(o(),u("span",N,[i("button",{class:"btn btn-light",onClick:e[3]||(e[3]=d=>a.hideField())},[e[5]||(e[5]=i("i",{class:"fas fa-check"},null,-1)),c(" "+r(n.lang("ok")),1)])]))])])]),_:1},8,["label","labelStyle","name","classname","hint","required"])}const I=m(V,[["render",D],["__scopeId","data-v-30bcffd0"]]);export{I as T};
