import{n as me,i as ye,u as Z,as as Y,e as U,at as _e,w as ve,au as be,av as ke,aw as Te,ax as He,_ as ee,B as V,l as T,m as B,q as x,G as I,a1 as Pe,J as te,k as P,o as b,F as w,E as W,C as we,v as _,x as C,I as S,K as xe,L as Ae,N as Ce,t as Me,Q as Se,a9 as Le,a7 as oe,a8 as Ee,a6 as $e,a3 as De,a4 as Oe,a5 as je,s as se,aa as Ve}from"../chunks/bootstrap.js";import{S as Ie}from"../chunks/VueStarRating.common.js";import{C as ne,P as Re,M as Fe,r as re}from"../chunks/clientRouter.js";import{B as Ue}from"../chunks/BarcodeModal.js";import{s as Be,F as We,f as Ke}from"../chunks/FileManager.js";import{D as Ne}from"../chunks/DataTableActions.js";import"../chunks/vue-router.js";import"../chunks/approvalTicketRules.js";import"../chunks/Checkbox.js";import"../chunks/index.js";function R(e,t={},o){for(const s in e){const n=e[s],r=o?`${o}:${s}`:s;typeof n=="object"&&n!==null?R(n,t,r):typeof n=="function"&&(t[r]=n)}return t}const ze={run:e=>e()},qe=()=>ze,ie=typeof console.createTask<"u"?console.createTask:qe;function Ge(e,t){const o=t.shift(),s=ie(o);return e.reduce((n,r)=>n.then(()=>s.run(()=>r(...t))),Promise.resolve())}function Je(e,t){const o=t.shift(),s=ie(o);return Promise.all(e.map(n=>s.run(()=>n(...t))))}function O(e,t){for(const o of[...e])o(t)}class Qe{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,o,s={}){if(!t||typeof o!="function")return()=>{};const n=t;let r;for(;this._deprecatedHooks[t];)r=this._deprecatedHooks[t],t=r.to;if(r&&!s.allowDeprecated){let i=r.message;i||(i=`${n} hook has been deprecated`+(r.to?`, please use ${r.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(i)||(console.warn(i),this._deprecatedMessages.add(i))}if(!o.name)try{Object.defineProperty(o,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(o),()=>{o&&(this.removeHook(t,o),o=void 0)}}hookOnce(t,o){let s,n=(...r)=>(typeof s=="function"&&s(),s=void 0,n=void 0,o(...r));return s=this.hook(t,n),s}removeHook(t,o){if(this._hooks[t]){const s=this._hooks[t].indexOf(o);s!==-1&&this._hooks[t].splice(s,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,o){this._deprecatedHooks[t]=typeof o=="string"?{to:o}:o;const s=this._hooks[t]||[];delete this._hooks[t];for(const n of s)this.hook(t,n)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const o in t)this.deprecateHook(o,t[o])}addHooks(t){const o=R(t),s=Object.keys(o).map(n=>this.hook(n,o[n]));return()=>{for(const n of s.splice(0,s.length))n()}}removeHooks(t){const o=R(t);for(const s in o)this.removeHook(s,o[s])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...o){return o.unshift(t),this.callHookWith(Ge,t,...o)}callHookParallel(t,...o){return o.unshift(t),this.callHookWith(Je,t,...o)}callHookWith(t,o,...s){const n=this._before||this._after?{name:o,args:s,context:{}}:void 0;this._before&&O(this._before,n);const r=t(o in this._hooks?[...this._hooks[o]]:[],s);return r instanceof Promise?r.finally(()=>{this._after&&n&&O(this._after,n)}):(this._after&&n&&O(this._after,n),r)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const o=this._before.indexOf(t);o!==-1&&this._before.splice(o,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const o=this._after.indexOf(t);o!==-1&&this._after.splice(o,1)}}}}function Xe(){return new Qe}const Ze=new Set(["title","titleTemplate","script","style","noscript"]),L=new Set(["base","meta","link","style","script","noscript"]),Ye=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),et=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),ae=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),tt=typeof window<"u";function E(e){let t=9;for(let o=0;o<e.length;)t=Math.imul(t^e.charCodeAt(o++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function K(e){if(e._h)return e._h;if(e._d)return E(e._d);let t=`${e.tag}:${e.textContent||e.innerHTML||""}:`;for(const o in e.props)t+=`${o}:${e.props[o]},`;return E(t)}const ot=["name","property","http-equiv"];function le(e){const{props:t,tag:o}=e;if(et.has(o))return o;if(o==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(t.id)return`${o}:id:${t.id}`;for(const s of ot)if(t[s]!==void 0)return`${o}:${s}:${t[s]}`;return!1}function N(e,t){return e==null?t||null:typeof e=="function"?e(t):e}function st(e,t){return e instanceof Promise?e.then(t):t(e)}function F(e,t,o,s){const n=s||de(typeof t=="object"&&typeof t!="function"&&!(t instanceof Promise)?{...t}:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},e==="templateParams"||e==="titleTemplate");if(n instanceof Promise)return n.then(i=>F(e,t,o,i));const r={tag:e,props:n};for(const i of ae){const a=r.props[i]!==void 0?r.props[i]:o[i];a!==void 0&&((!(i==="innerHTML"||i==="textContent"||i==="children")||Ze.has(r.tag))&&(r[i==="children"?"innerHTML":i]=a),delete r.props[i])}return r.props.body&&(r.tagPosition="bodyClose",delete r.props.body),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(i=>({...r,props:{...r.props,content:i}})):r}function nt(e,t){var s;const o=e==="class"?" ":";";return typeof t=="object"&&!Array.isArray(t)&&(t=Object.entries(t).filter(([,n])=>n).map(([n,r])=>e==="style"?`${n}:${r}`:n)),(s=String(Array.isArray(t)?t.join(o):t))==null?void 0:s.split(o).filter(n=>!!n.trim()).join(o)}function ce(e,t,o,s){for(let n=s;n<o.length;n+=1){const r=o[n];if(r==="class"||r==="style"){e[r]=nt(r,e[r]);continue}if(e[r]instanceof Promise)return e[r].then(i=>(e[r]=i,ce(e,t,o,n)));if(!t&&!ae.has(r)){const i=String(e[r]),a=r.startsWith("data-");i==="true"||i===""?e[r]=a?"true":!0:e[r]||(a&&i==="false"?e[r]="false":delete e[r])}}}function de(e,t=!1){const o=ce(e,t,Object.keys(e),0);return o instanceof Promise?o.then(()=>e):e}const rt=10;function ue(e,t,o){for(let s=o;s<t.length;s+=1){const n=t[s];if(n instanceof Promise)return n.then(r=>(t[s]=r,ue(e,t,s)));Array.isArray(n)?e.push(...n):e.push(n)}}function it(e){const t=[],o=e.resolvedInput;for(const n in o){if(!Object.prototype.hasOwnProperty.call(o,n))continue;const r=o[n];if(!(r===void 0||!Ye.has(n))){if(Array.isArray(r)){for(const i of r)t.push(F(n,i,e));continue}t.push(F(n,r,e))}}if(t.length===0)return[];const s=[];return st(ue(s,t,0),()=>s.map((n,r)=>(n._e=e._i,e.mode&&(n._m=e.mode),n._p=(e._i<<rt)+r,n)))}const z={base:-10,title:10},q={critical:-80,high:-10,low:20};function $(e){const t=e.tagPriority;if(typeof t=="number")return t;let o=100;return e.tag==="meta"?e.props["http-equiv"]==="content-security-policy"?o=-30:e.props.charset?o=-20:e.props.name==="viewport"&&(o=-15):e.tag==="link"&&e.props.rel==="preconnect"?o=20:e.tag in z&&(o=z[e.tag]),t&&t in q?o+q[t]:o}const at=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],G=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),H="%separator";function lt(e,t){var s;let o;if(t==="s"||t==="pageTitle")o=e.pageTitle;else if(t.includes(".")){const n=t.indexOf(".");o=(s=e[t.substring(0,n)])==null?void 0:s[t.substring(n+1)]}else o=e[t];return o!==void 0?(o||"").replace(/"/g,'\\"'):void 0}const ct=new RegExp(`${H}(?:\\s*${H})*`,"g");function j(e,t,o){if(typeof e!="string"||!e.includes("%"))return e;let s=e;try{s=decodeURI(e)}catch{}const n=s.match(/%\w+(?:\.\w+)?/g);if(!n)return e;const r=e.includes(H);return e=e.replace(/%\w+(?:\.\w+)?/g,i=>{if(i===H||!n.includes(i))return i;const a=lt(t,i.slice(1));return a!==void 0?a:i}).trim(),r&&(e.endsWith(H)&&(e=e.slice(0,-H.length)),e.startsWith(H)&&(e=e.slice(H.length)),e=e.replace(ct,o).trim()),e}async function fe(e,t={}){var m;const o=t.document||e.resolvedOptions.document;if(!o||!e.dirty)return;const s={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",s),!s.shouldRender)return;const n=(await e.resolveTags()).map(l=>({tag:l,id:L.has(l.tag)?K(l):l.tag,shouldRender:!0}));let r=e._dom;if(!r){r={elMap:{htmlAttrs:o.documentElement,bodyAttrs:o.body}};const l=new Set;for(const u of["body","head"]){const p=(m=o[u])==null?void 0:m.children;for(const f of p){const h=f.tagName.toLowerCase();if(!L.has(h))continue;const y={tag:h,props:await de(f.getAttributeNames().reduce((v,M)=>({...v,[M]:f.getAttribute(M)}),{})),innerHTML:f.innerHTML},k=le(y);let g=k,A=1;for(;g&&l.has(g);)g=`${k}:${A++}`;g&&(y._d=g,l.add(g)),r.elMap[f.getAttribute("data-hid")||K(y)]=f}}}r.pendingSideEffects={...r.sideEffects},r.sideEffects={};function i(l,u,p){const f=`${l}:${u}`;r.sideEffects[f]=p,delete r.pendingSideEffects[f]}function a({id:l,$el:u,tag:p}){const f=p.tag.endsWith("Attrs");if(r.elMap[l]=u,f||(p.textContent&&p.textContent!==u.textContent&&(u.textContent=p.textContent),p.innerHTML&&p.innerHTML!==u.innerHTML&&(u.innerHTML=p.innerHTML),i(l,"el",()=>{var h;(h=r.elMap[l])==null||h.remove(),delete r.elMap[l]})),p._eventHandlers)for(const h in p._eventHandlers)Object.prototype.hasOwnProperty.call(p._eventHandlers,h)&&u.getAttribute(`data-${h}`)!==""&&((p.tag==="bodyAttrs"?o.defaultView:u).addEventListener(h.substring(2),p._eventHandlers[h].bind(u)),u.setAttribute(`data-${h}`,""));for(const h in p.props){if(!Object.prototype.hasOwnProperty.call(p.props,h))continue;const y=p.props[h],k=`attr:${h}`;if(h==="class"){if(!y)continue;for(const g of y.split(" "))f&&i(l,`${k}:${g}`,()=>u.classList.remove(g)),!u.classList.contains(g)&&u.classList.add(g)}else if(h==="style"){if(!y)continue;for(const g of y.split(";")){const A=g.indexOf(":"),v=g.substring(0,A).trim(),M=g.substring(A+1).trim();i(l,`${k}:${v}`,()=>{u.style.removeProperty(v)}),u.style.setProperty(v,M)}}else u.getAttribute(h)!==y&&u.setAttribute(h,y===!0?"":String(y)),f&&i(l,k,()=>u.removeAttribute(h))}}const c=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const l of n){const{tag:u,shouldRender:p,id:f}=l;if(p){if(u.tag==="title"){o.title=u.textContent;continue}l.$el=l.$el||r.elMap[f],l.$el?a(l):L.has(u.tag)&&c.push(l)}}for(const l of c){const u=l.tag.tagPosition||"head";l.$el=o.createElement(l.tag.tag),a(l),d[u]=d[u]||o.createDocumentFragment(),d[u].appendChild(l.$el)}for(const l of n)await e.hooks.callHook("dom:renderTag",l,o,i);d.head&&o.head.appendChild(d.head),d.bodyOpen&&o.body.insertBefore(d.bodyOpen,o.body.firstChild),d.bodyClose&&o.body.appendChild(d.bodyClose);for(const l in r.pendingSideEffects)r.pendingSideEffects[l]();e._dom=r,e.dirty=!1,await e.hooks.callHook("dom:rendered",{renders:n})}function pe(e,t={}){const o=t.delayFn||(s=>setTimeout(s,10));return e._domUpdatePromise=e._domUpdatePromise||new Promise(s=>o(()=>fe(e,t).then(()=>{delete e._domUpdatePromise,s()})))}function dt(e){return t=>{var s,n;const o=((n=(s=t.resolvedOptions.document)==null?void 0:s.head.querySelector('script[id="unhead:payload"]'))==null?void 0:n.innerHTML)||!1;return o&&t.push(JSON.parse(o)),{mode:"client",hooks:{"entries:updated":r=>{pe(r,e)}}}}}const ut=new Set(["templateParams","htmlAttrs","bodyAttrs"]),ft={hooks:{"tag:normalise":({tag:e})=>{e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.key&&(e.key=e.props.key,delete e.props.key);const o=le(e)||(e.key?`${e.tag}:${e.key}`:!1);o&&(e._d=o)},"tags:resolve":e=>{const t=Object.create(null);for(const s of e.tags){const n=(s.key?`${s.tag}:${s.key}`:s._d)||s._p,r=t[n];if(r){let a=s==null?void 0:s.tagDuplicateStrategy;if(!a&&ut.has(s.tag)&&(a="merge"),a==="merge"){const c=r.props;c.style&&s.props.style&&(c.style[c.style.length-1]!==";"&&(c.style+=";"),s.props.style=`${c.style} ${s.props.style}`),c.class&&s.props.class?s.props.class=`${c.class} ${s.props.class}`:c.class&&(s.props.class=c.class),t[n].props={...c,...s.props};continue}else if(s._e===r._e){r._duped=r._duped||[],s._d=`${r._d}:${r._duped.length+1}`,r._duped.push(s);continue}else if($(s)>$(r))continue}if(!(s.innerHTML||s.textContent||Object.keys(s.props).length!==0)&&L.has(s.tag)){delete t[n];continue}t[n]=s}const o=[];for(const s in t){const n=t[s],r=n._duped;o.push(n),r&&(delete n._duped,o.push(...r))}e.tags=o,e.tags=e.tags.filter(s=>!(s.tag==="meta"&&(s.props.name||s.props.property)&&!s.props.content))}}},pt={mode:"server",hooks:{"tags:resolve":e=>{const t={};let o=!1;for(const s of e.tags)s._m!=="server"||s.tag!=="titleTemplate"&&s.tag!=="templateParams"&&s.tag!=="title"||(t[s.tag]=s.tag==="title"||s.tag==="titleTemplate"?s.textContent:s.props,o=!0);o&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},ht=new Set(["script","link","bodyAttrs"]),gt=e=>({hooks:{"tags:resolve":t=>{for(const o of t.tags){if(!ht.has(o.tag))continue;const s=o.props;for(const n in s){if(n[0]!=="o"||n[1]!=="n"||!Object.prototype.hasOwnProperty.call(s,n))continue;const r=s[n];typeof r=="function"&&(e.ssr&&G.has(n)?s[n]=`this.dataset.${n}fired = true`:delete s[n],o._eventHandlers=o._eventHandlers||{},o._eventHandlers[n]=r)}e.ssr&&o._eventHandlers&&(o.props.src||o.props.href)&&(o.key=o.key||E(o.props.src||o.props.href))}},"dom:renderTag":({$el:t,tag:o})=>{var n,r;const s=t==null?void 0:t.dataset;if(s)for(const i in s){if(!i.endsWith("fired"))continue;const a=i.slice(0,-5);G.has(a)&&((r=(n=o._eventHandlers)==null?void 0:n[a])==null||r.call(t,new Event(a.substring(2))))}}}}),mt=new Set(["link","style","script","noscript"]),yt={hooks:{"tag:normalise":({tag:e})=>{e.key&&mt.has(e.tag)&&(e.props["data-hid"]=e._h=E(e.key))}}},_t={hooks:{"tags:resolve":e=>{var t;for(const o of e.tags)if(typeof o.tagPriority=="string")for(const{prefix:s,offset:n}of at){if(!o.tagPriority.startsWith(s))continue;const r=o.tagPriority.substring(s.length),i=(t=e.tags.find(a=>a._d===r))==null?void 0:t._p;if(i!==void 0){o._p=i+n;break}}e.tags.sort((o,s)=>{const n=$(o),r=$(s);return n<r?-1:n>r?1:o._p-s._p})}}},vt={meta:"content",link:"href",htmlAttrs:"lang"},bt=["innerHTML","textContent"],kt=e=>({hooks:{"tags:resolve":t=>{var i;const{tags:o}=t;let s;for(let a=0;a<o.length;a+=1)o[a].tag==="templateParams"&&(s=t.tags.splice(a,1)[0].props,a-=1);const n=s||{},r=n.separator||"|";delete n.separator,n.pageTitle=j(n.pageTitle||((i=o.find(a=>a.tag==="title"))==null?void 0:i.textContent)||"",n,r);for(const a of o){if(a.processTemplateParams===!1)continue;const c=vt[a.tag];if(c&&typeof a.props[c]=="string")a.props[c]=j(a.props[c],n,r);else if(a.processTemplateParams||a.tag==="titleTemplate"||a.tag==="title")for(const d of bt)typeof a[d]=="string"&&(a[d]=j(a[d],n,r))}e._templateParams=n,e._separator=r}}}),Tt={hooks:{"tags:resolve":e=>{const{tags:t}=e;let o,s;for(let n=0;n<t.length;n+=1){const r=t[n];r.tag==="title"?o=r:r.tag==="titleTemplate"&&(s=r)}if(s&&o){const n=N(s.textContent,o.textContent);n!==null?o.textContent=n||o.textContent:e.tags.splice(e.tags.indexOf(o),1)}else if(s){const n=N(s.textContent);n!==null&&(s.textContent=n,s.tag="title",s=void 0)}s&&e.tags.splice(e.tags.indexOf(s),1)}}},Ht={hooks:{"tags:afterResolve":e=>{for(const t of e.tags)typeof t.innerHTML=="string"&&(t.innerHTML&&(t.props.type==="application/ld+json"||t.props.type==="application/json")?t.innerHTML=t.innerHTML.replace(/</g,"\\u003C"):t.innerHTML=t.innerHTML.replace(new RegExp(`</${t.tag}`,"g"),`<\\/${t.tag}`))}}};let he;function Pt(e={}){const t=wt(e);return t.use(dt()),he=t}function J(e,t){return!e||e==="server"&&t||e==="client"&&!t}function wt(e={}){const t=Xe();t.addHooks(e.hooks||{}),e.document=e.document||(tt?document:void 0);const o=!e.document,s=()=>{a.dirty=!0,t.callHook("entries:updated",a)};let n=0,r=[];const i=[],a={plugins:i,dirty:!1,resolvedOptions:e,hooks:t,headEntries(){return r},use(c){const d=typeof c=="function"?c(a):c;(!d.key||!i.some(m=>m.key===d.key))&&(i.push(d),J(d.mode,o)&&t.addHooks(d.hooks||{}))},push(c,d){d==null||delete d.head;const m={_i:n++,input:c,...d};return J(m.mode,o)&&(r.push(m),s()),{dispose(){r=r.filter(l=>l._i!==m._i),t.callHook("entries:updated",a),s()},patch(l){for(const u of r)u._i===m._i&&(u.input=m.input=l);s()}}},async resolveTags(){const c={tags:[],entries:[...r]};await t.callHook("entries:resolve",c);for(const d of c.entries){const m=d.resolvedInput||d.input;if(d.resolvedInput=await(d.transform?d.transform(m):m),d.resolvedInput)for(const l of await it(d)){const u={tag:l,entry:d,resolvedOptions:a.resolvedOptions};await t.callHook("tag:normalise",u),c.tags.push(u.tag)}}return await t.callHook("tags:beforeResolve",c),await t.callHook("tags:resolve",c),await t.callHook("tags:afterResolve",c),c.tags},ssr:o};return[ft,pt,gt,yt,_t,kt,Tt,Ht,...(e==null?void 0:e.plugins)||[]].forEach(c=>a.use(c)),a.hooks.callHook("init",a),a}function xt(){return he}const At=Y[0]==="3";function Ct(e){return typeof e=="function"?e():Z(e)}function D(e){if(e instanceof Promise)return e;const t=Ct(e);if(!e||!t)return t;if(Array.isArray(t))return t.map(o=>D(o));if(typeof t=="object"){const o={};for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(s==="titleTemplate"||s[0]==="o"&&s[1]==="n"){o[s]=Z(t[s]);continue}o[s]=D(t[s])}return o}return t}const Mt={hooks:{"entries:resolve":e=>{for(const t of e.entries)t.resolvedInput=D(t.input)}}},ge="usehead";function St(e){return{install(o){At&&(o.config.globalProperties.$unhead=e,o.config.globalProperties.$head=e,o.provide(ge,e))}}.install}function Lt(e={}){e.domDelayFn=e.domDelayFn||(o=>me(()=>setTimeout(()=>o(),0)));const t=Pt(e);return t.use(Mt),t.install=St(t),t}const Q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X="__unhead_injection_handler__";function Et(){if(X in Q)return Q[X]();const e=ye(ge);return e||xt()}function $t(e,t={}){const o=t.head||Et();if(o)return o.ssr?o.push(e,t):Dt(o,e,t)}function Dt(e,t,o={}){const s=U(!1),n=U({});_e(()=>{n.value=s.value?{}:D(t)});const r=e.push(n.value,o);return ve(n,a=>{r.patch(a)}),He()&&(be(()=>{r.dispose()}),ke(()=>{s.value=!0}),Te(()=>{s.value=!1})),r}function Ot(e,t){const o=Lt(t||{}),s={unhead:o,install(n){Y.startsWith("3")&&(n.config.globalProperties.$head=o,n.provide("usehead",o))},use(n){o.use(n)},resolveTags(){return o.resolveTags()},headEntries(){return o.headEntries()},headTags(){return o.resolveTags()},push(n,r){return o.push(n,r)},addEntry(n,r){return o.push(n,r)},addHeadObjs(n,r){return o.push(n,r)},addReactiveEntry(n,r){const i=$t(n,r);return typeof i<"u"?i.dispose:()=>{}},removeHeadObjs(){},updateDOM(n,r){r?fe(o,{document:n}):pe(o,{delayFn:i=>setTimeout(()=>i(),50),document:n})},internalHooks:o.hooks,hooks:{"before:dom":[],"resolved:tags":[],"resolved:entries":[]}};return o.addHeadObjs=s.addHeadObjs,o.updateDOM=s.updateDOM,o.hooks.hook("dom:beforeRender",n=>{for(const r of s.hooks["before:dom"])r()===!1&&(n.shouldRender=!1)}),e&&s.addHeadObjs(e),s}const jt={props:{layoutDetails:{type:Object,default:()=>{}},authInfo:{type:[Object,Array],default:()=>[]},is2faEnforced:{type:[Boolean,String,Number],default:""},isUpdatedVersion:{type:[Boolean,Number],default:!1},whiteLabel:{type:Boolean,default:!1}},data(){return{updatedAuth:this.authInfo,showModal:!1,linkStyle:{color:this.layoutDetails.portal.client_header_color},buttonStyle:{borderColor:this.layoutDetails.portal.client_button_border_color,color:this.layoutDetails.portal.client_button_font_color+" !important",backgroundColor:this.layoutDetails.portal.client_button_color}}},mixins:[Be],created(){window.emitter.on("updateProfileData",this.updateAuthData),window.emitter.on("updateEditData",this.updateUserDetails)},beforeMount(){this.getScripts("clientlayout"),this.updateFactor(),this.$store.dispatch("updateUserData",this.authInfo)},computed:{layout(){return this.$store.dispatch("clientLayoutActions",this.layoutDetails),this.layoutDetails}},watch:{$route(e,t){this.fireScripts(e.path),this.updateFactor(),this.$store.dispatch("unsetAlert")}},methods:{updateFactor(e){Array.isArray(this.updatedAuth.user_data)||this.is2faEnforced&&!this.updatedAuth.user_data.is_2fa_enabled&&(this.showModal=!0)},updateAuthData(e){this.updatedAuth=e,this.updateFactor()},onClose(e){(this.is2faEnforced&&this.updatedAuth.user_data.is_2fa_enabled||!this.is2faEnforced||e==="2faDone")&&(this.showModal=!1),this.$store.dispatch("unsetValidationError")},updateUserDetails(){this.$Progress.start(),V.get("/api/get-auth-info").then(e=>{this.updatedAuth=e.data.data,this.updateFactor(),this.$Progress.finish()}).catch(e=>{this.$Progress.fail()})}},components:{"barcode-modal":Ue}};function Vt(e,t,o,s,n,r){const i=P("router-view"),a=P("barcode-modal");return b(),T(te,null,[n.showModal?x("",!0):(b(),B(i,{key:0,auth:n.updatedAuth,layout:r.layout,isUpdatedVersion:o.isUpdatedVersion,whiteLabel:o.whiteLabel},null,8,["auth","layout","isUpdatedVersion","whiteLabel"])),n.showModal?(b(),B(Pe,{key:1,name:"modal"},{default:I(()=>[w(a,{onClose:r.onClose,showModal:n.showModal,from:"client",color:o.layoutDetails.portal.client_header_color,buttonStyle:n.buttonStyle,linkStyle:n.linkStyle},null,8,["onClose","showModal","color","buttonStyle","linkStyle"])]),_:1})):x("",!0)],64)}const It=ee(jt,[["render",Vt]]);const Rt={props:{laravelConfig:{type:Object,default:()=>{}}},data(){return{inputArr:[{current:"first",next:"second",previous:null,value:""},{current:"second",next:"third",previous:"first",value:""},{current:"third",next:"forth",previous:"second",value:""},{current:"forth",next:null,previous:"third",value:""}],loading:!1,hasDataPopulated:!1,verify:!1}},beforeMount(){this.getValues()},methods:{getValues(){this.$Progress.start(),V.get("/api/licenseError").then(e=>{this.hasDataPopulated=!0,this.verify=!0,this.$Progress.finish()}).catch(e=>{this.$Progress.fail(),this.hasDataPopulated=!0,W(e,"License");var t=e.response.data.message;t.includes("not")||t.includes("expired")?this.verify=!0:this.redirect("/")})},handleBackspace(e){if(event.keyCode===8&&!e.value.length&&e.previous){const t=this.$refs[e.previous][0];t&&(t.setSelectionRange(this.$refs[e.previous][0].value.length,this.$refs[e.previous][0].value.length),t.focus())}},onInput(e){if(e.value.length===4&&e.next&&!this.$refs[e.next][0].value){let t=this.$refs[e.next][0];t.setSelectionRange(t.value.length,t.value.length),t.focus()}},onPaste(e){event.preventDefault();const t=event.clipboardData.getData("text/plain");if(!t)return;const o=this.sanitizeText(t),s=this.inputArr[e],r=4-s.value.length;s.value+=o.substring(0,r);let i=r;for(let a=e+1;a<this.inputArr.length&&i<o.length;a++){const c=this.inputArr[a],d=Math.min(4,o.length-i);c.value=o.substring(i,i+d),i+=d}this.focusNextField(e)},focusNextField(e){for(let t=e;t<this.inputArr.length;t++){const o=this.inputArr[t];if(!o.value||o.value.length!==4||!o.next){this.$nextTick(()=>this.focusField(t));break}}},focusField(e){const t=this.$refs[this.inputArr[e].current][0];t.focus(),t.selectionStart=t.value.length,t.selectionEnd=t.value.length},sanitizeText(e){return e.trim().replace(/[^A-Za-z0-9]/g,"")},isValid(){const{errors:e,isValid:t}=validateLicenseSettings(this.$data);return!!t},onSubmit(){if(this.$refs.licenseErrorPage.validate()){this.$Progress.start(),this.loading=!0;const e={};for(let t in this.inputArr)e[this.inputArr[t].current]=this.inputArr[t].value;V.post("/licenseVerification",e).then(t=>{this.loading=!1,we(t,"License"),this.redirect("/"),this.$Progress.finish()}).catch(t=>{this.loading=!1,W(t,"License"),this.$Progress.fail()})}}},components:{"client-panel-loader":ne}},Ft={class:"row"},Ut={id:"content",class:"site-content col-sm-12"},Bt={key:0},Wt={key:1},Kt={key:2,class:"hentry"},Nt={class:"entry-header text-center"},zt={class:"entry-title"},qt={class:"entry-content clearfix"},Gt={class:"text-center"},Jt={class:"text-center"},Qt={class:"container text-center"},Xt=["name","id","onUpdate:modelValue","onInput","onPaste","onKeydown"],Zt={key:0,id:"dash"},Yt={class:"text-center"},eo=["disabled"];function to(e,t,o,s,n,r){const i=P("client-panel-loader"),a=P("loader"),c=P("alert"),d=P("ValidationProvider"),m=P("ValidationObserver");return b(),T("div",Ft,[_("div",Ut,[n.loading?(b(),T("div",Bt,[w(i,{size:60})])):x("",!0),n.hasDataPopulated?x("",!0):(b(),T("div",Wt,[w(a,{size:60})])),w(c,{componentName:"License"}),n.verify?(b(),T("article",Kt,[_("header",Nt,[_("h3",zt,C(e.lang("licenseCode")),1)]),_("div",qt,[_("p",Gt,[S(C(e.lang("find_your_license_code"))+" ",1),t[0]||(t[0]=_("a",{href:"https://billing.faveohelpdesk.com",target:"_blank"},"billing.faveohelpdesk.com",-1))]),_("p",Jt,[_("b",null,C(e.lang("please_enter_your_license_code_for"))+" "+C(o.laravelConfig),1)]),w(m,{ref:"licenseErrorPage",onSubmit:r.onSubmit},{default:I(({values:l,errors:u,validate:p})=>[_("p",Qt,[(b(!0),T(te,null,xe(n.inputArr,(f,h)=>(b(),T("span",{key:f.current},[w(d,{name:f.current,rules:"required",modelValue:f.value,"onUpdate:modelValue":y=>f.value=y},{default:I(({field:y,errorMessage:k,meta:g,classes:A})=>[Ae(_("input",{class:Me(["form-control inline_block text-uppercase",k?"field-danger":""]),type:"text",name:f.current,id:f.current,ref_for:!0,ref:f.current,"onUpdate:modelValue":v=>f.value=v,onInput:v=>r.onInput(f),maxlength:"4",size:"4",onPaste:v=>r.onPaste(h),onKeydown:v=>r.handleBackspace(f)},null,42,Xt),[[Ce,f.value]]),t[1]||(t[1]=S("  ")),f.next?(b(),T("span",Zt,"-")):x("",!0),t[2]||(t[2]=S("  "))]),_:2},1032,["name","modelValue","onUpdate:modelValue"])]))),128))]),_("p",Yt,[_("button",{type:"submit",class:"btn btn-primary",disabled:e.invalid,id:"validate_license"},[t[3]||(t[3]=_("i",{class:"fa fa-save"},null,-1)),S(" "+C(e.lang("submit")),1)],8,eo)])]),_:1},8,["onSubmit"])])])):x("",!0)])])}const oo=ee(Rt,[["render",to],["__scopeId","data-v-255758c7"]]);app.component("star-rating",Ie);app.component("fulfilling-bouncing-circle-spinner",Se);const so=Ot();app.use(so);app.component("faveo-image-element",Le);app.component("reuse-loader",oe);app.component("faveo-box",Ee);app.component("loader",oe);app.component("custom-loader",$e);app.component("client-panel-renderer",It);app.component("client-panel-loader",ne);app.component("reset-password",Re);app.component("meta-component",Fe);app.component("license-error",oo);app.component("form-renderer",De);app.component("alert",Oe);app.component("modal",je);app.component("data-table",Ne);app.config.globalProperties.$filters={truncate(e,t){return e.length>t?e.substr(0,t-1)+"…":e}};setTimeout(()=>{app.use(re),app.use(se),app.mount("#app-client-panel")},1e3);window.addRoutes=e=>{re.addRoutes(e)};app.component("file-manager",We);se.registerModule("fm",Ke);app.component("file-manager-container",Ve);
