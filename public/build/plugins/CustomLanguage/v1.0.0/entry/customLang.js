import{_ as y,C as b,E as g,D as k,k as r,o,l as i,F as c,v as t,x as l,I as D,q as u,J as h,K as L,L as v,N as C}from"../../../../v9.4.0.5/chunks/bootstrap.js";import{r as x,A as N}from"../../../../v9.4.0.5/chunks/adminRouter.js";import"../../../../v9.4.0.5/chunks/vue-router.js";import"../../../../v9.4.0.5/chunks/FormGenerator.js";import"../../../../v9.4.0.5/chunks/AdminNavigationBar.js";import"../../../../v9.4.0.5/chunks/DataTableActions.js";import"../../../../v9.4.0.5/chunks/Checkbox.js";import"../../../../v9.4.0.5/chunks/HelpSection.js";const V={name:"custom-language",data(){return{disabled:!0,maxLength:50,module:"",langData:[],loading:!1,pageLoad:!1}},methods:{onUpdate(){this.disabled=!0;let e="";for(let a in this.langData)this.langData[a].modified&&(e+=this.langData[a].language_key+"="+this.langData[a].custom+"&");e[e.length-1]=="&"&&(e=e.slice(0,-1)),e&&(this.loading=!0,axios.post("/admin/custom-language/write-lang?"+e).then(a=>{this.loading=!1,b(a,"custom-lang"),this.pageLoad=!0,this.langData=[],setTimeout(()=>{this.getData(this.module.id)},3e3)}).catch(a=>{this.loading=!1,g(a,"custom-lang")}))},onInput(e,a){this.disabled=!1,a.modified=!0},onChange(e,a){this[a]=e||"",e&&this.getData(e.id)},getData(e){this.loading=!0,axios.get("/admin/custom-language/language?id="+e).then(a=>{this.langData=a.data.data.keys,this.loading=!1,this.pageLoad=!1}).catch(a=>{this.langData=[],this.loading=!1,this.pageLoad=!1,g(a,"custom-lang")})}},components:{"dynamic-select":k}},I={class:"col-sm-12"},U={class:"card card-light"},w={class:"card-header"},S={class:"card-title"},B={key:0,class:"card-tools"},E=["disabled"],T={class:"card-body"},A={class:"row"},F={class:"table table-bordered"},H={key:0,class:"text-center"},M={colspan:"3",class:"pb-3 pt-3"},q=["onUpdate:modelValue","maxlength","onInput"],z={key:1,class:"text-center"},J={colspan:"3"},K={key:2,class:"text-center"},P={colspan:"3"};function R(e,a,O,Q,s,d){const _=r("alert"),p=r("dynamic-select"),f=r("reuse-loader");return o(),i("div",I,[c(_,{componentName:"custom-lang"}),t("div",U,[t("div",w,[t("h3",S,l(e.trans("custom_language")),1),s.module?(o(),i("div",B,[t("button",{class:"btn btn-primary btn-md",onClick:a[0]||(a[0]=(...n)=>d.onUpdate&&d.onUpdate(...n)),disabled:s.disabled},[a[1]||(a[1]=t("i",{class:"fas fa-sync-alt"},null,-1)),D(" "+l(e.trans("update")),1)],8,E)])):u("",!0)]),t("div",T,[t("div",A,[c(p,{label:e.trans("please_select_module"),multiple:!1,name:"module",classname:"col-sm-6",apiEndpoint:"/admin/custom-language/modules",value:s.module,onChange:d.onChange,optionLabel:"module"},null,8,["label","value","onChange"])]),t("table",F,[t("thead",null,[t("tr",null,[t("th",null,l(e.trans("language_key")),1),t("th",null,l(e.trans("default_lang_key_value")),1),t("th",null,l(e.trans("custom_lang_value")),1)])]),t("tbody",null,[s.pageLoad?(o(),i("tr",H,[t("td",M,[c(f,{"animation-duration":4e3,size:60})])])):u("",!0),s.pageLoad?u("",!0):(o(),i(h,{key:1},[s.module&&s.langData.length?(o(!0),i(h,{key:0},L(s.langData,n=>(o(),i("tr",null,[t("td",null,l(n.language_key?n.language_key:"--"),1),t("td",null,l(n.default?n.default:"--"),1),t("td",null,[v(t("input",{type:"text","onUpdate:modelValue":m=>n.custom=m,maxlength:s.maxLength,onInput:m=>d.onInput(n.custom,n),class:"form-control",onkeydown:"return (event.keyCode!=55);"},null,40,q),[[C,n.custom]])])]))),256)):u("",!0),s.module&&!s.langData.length?(o(),i("tr",z,[t("td",J,l(e.trans("no_results_found")),1)])):u("",!0),s.module?u("",!0):(o(),i("tr",K,[t("td",P,l(e.trans("please_select_module_to_see_results")),1)]))],64))])])])])])}const j=y(V,[["render",R]]);let G={path:"/custom-language",component:N,name:"Custom Language",redirect:"/custom-language/settings",children:[{path:"settings",component:j,name:"Custom Language Settings",meta:{title:"custom_language",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},active:"custom_language"}}}]};x.addRoute(G);
