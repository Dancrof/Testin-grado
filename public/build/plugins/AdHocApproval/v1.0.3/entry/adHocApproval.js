import{_,D as g,A,B as p,C as y,E as f,k as l,o as r,l as c,F as n,q as O,G as d,v as o,H as b,I as C,x as D}from"../../../../v9.4.0.5/chunks/bootstrap.js";import{r as S,A as k}from"../../../../v9.4.0.5/chunks/adminRouter.js";import"../../../../v9.4.0.5/chunks/vue-router.js";import"../../../../v9.4.0.5/chunks/FormGenerator.js";import"../../../../v9.4.0.5/chunks/AdminNavigationBar.js";import"../../../../v9.4.0.5/chunks/DataTableActions.js";import"../../../../v9.4.0.5/chunks/Checkbox.js";import"../../../../v9.4.0.5/chunks/HelpSection.js";const E={name:"AdhocApprovalSettings",components:{"dynamic-select":g,"tool-tip":A},mounted(){this.getStatus()},data(){return{statusOnApprove:null,statusOnDeny:null,apiEndpoint:"adhoc-approval/api/statuses",loading:!1,loadingAnimationDuration:4e3}},methods:{onChange(t,a){this[a]=t},submit(){this.loading=!0,p.post(this.apiEndpoint,{status_on_approve:this.statusOnApprove?this.statusOnApprove.id:null,status_on_deny:this.statusOnDeny?this.statusOnDeny.id:null}).then(t=>{y(t,"adhocApprovalSettings")}).catch(t=>{f(t,"adhocApprovalSettings")}).finally(()=>{this.loading=!1,this.getStatus()})},getStatus(){p.get(this.apiEndpoint).then(({data:t})=>{let a=t.data;this.statusOnApprove=a.statusOnApproveJson,this.statusOnDeny=a.statusOnDenyJson}).catch(t=>{})}}},N={class:"col-sm-12"},w={key:0,class:"row"},x={class:"row"},B={class:"card-footer"};function V(t,a,J,M,e,s){const u=l("alert"),m=l("custom-loader"),i=l("dynamic-select"),h=l("faveo-box");return r(),c("div",N,[n(u,{componentName:"adhocApprovalSettings"}),e.loading===!0?(r(),c("div",w,[n(m,{duration:e.loadingAnimationDuration},null,8,["duration"])])):O("",!0),n(h,{title:t.lang("adhoc_approval_card_header")},{actions:d(()=>[o("div",B,[o("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=b((...v)=>s.submit&&s.submit(...v),["prevent"]))},[a[1]||(a[1]=o("i",{class:"fas fa-save"},null,-1)),C(" "+D(t.lang("adhoc_approval_save")),1)])])]),default:d(()=>[o("div",null,[o("div",x,[n(i,{name:"statusOnApprove",value:e.statusOnApprove,label:t.lang("adhoc_approval_status_on_approve"),onChange:s.onChange,classname:"col-sm-6",apiEndpoint:"/api/dependency/statuses"},null,8,["value","label","onChange"]),n(i,{name:"statusOnDeny",value:e.statusOnDeny,label:t.lang("adhoc_approval_status_on_deny"),onChange:s.onChange,classname:"col-sm-6",apiEndpoint:"/api/dependency/statuses"},null,8,["value","label","onChange"])])])]),_:1},8,["title"])])}const H=_(E,[["render",V]]);let T={path:"/adhoc-approval",component:k,name:"AdhocApproval",redirect:"/adhoc-approval/settings",children:[{path:"settings",component:H,name:"AdhocApproval Settings",meta:{title:"adhoc_approval",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},active:"adhoc_approval"}}}]};S.addRoute(T);
